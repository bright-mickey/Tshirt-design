/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.3",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b="length"in a&&a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;

return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sa=da(y),ta=sa.appendChild(y.createElement("div"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return d=ua(f,"script"),d.length>0&&za(d,!i&&ua(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){h=h||o.appendChild(b.createElement("div")),i=(ja.exec(f)||["",""])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f="table"!==i||ka.test(f)?"<table>"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,"input"),va),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),"script"),g&&za(h),c)){e=0;while(f=h[e++])oa.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,""):void 0;if(!("string"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ia,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&na.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,"script"),xa),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),"none"!==c&&c||(Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function La(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={position:"absolute",visibility:"hidden",display:"block"},Sa={letterSpacing:"0",fontWeight:"400"},Ta=["Webkit","O","Moz","ms"];function Ua(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--)if(b=Ta[e]+c,b in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fa(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Ya(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),"normal"===f&&b in Sa&&(f=Sa[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Ma,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Ja,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){
return new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fa(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fa(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fa(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lb=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lb,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qb?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now(),wb=/\?/,xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){zb=y.createElement("a"),zb.href="",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:"GET",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yb[3]||("http:"===yb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vb(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vb(c,a[c],b,e);return d.join("&").replace(Qb,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:c.replace(Sb,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xb)Xb[a](void 0,!0)}),k.cors=!!Yb&&"withCredentials"in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_b.pop()||m.expando+"_"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,"$1"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cc})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});
//# sourceMappingURL=jquery.min.map
/*! jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(r=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):(o.length&&(n=e.widget.extend.apply(null,[n].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,M=e.extend({},y),C=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?M.left-=d:"center"===n.my[0]&&(M.left-=d/2),"bottom"===n.my[1]?M.top-=c:"center"===n.my[1]&&(M.top-=c/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),s=t.next(),n=s.uniqueId().attr("id");t.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css("box-sizing"),l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=l&&u.down||u,c=function(){o._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(n=d),n=n||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}}),void 0):t.animate(this.hideProps,a,n,c):e.animate(this.showProps,a,n,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);
i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===c&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];g(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),c=this,t.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),r(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,"onSelect"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);
return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?s:1,a=RegExp("^\\d{"+n+","+s+"}"),o=i.substring(h).match(a);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;t.length>n;n++)if(b)"'"!==t.charAt(n)||_("'")?k():b=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,f);break;case"y":m=x("y");break;case"@":r=new Date(x("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((x("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),n,a);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,r);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?"":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,M,C,N,A,P,I,H,z,F,E,O,j,W,L=new Date,R=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),J=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),Q=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-K[0]*K[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":J?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":J?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?G:R,o=q?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;K[0]>w;w++){for(k="",this.maxRows=4,T=0;K[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",M="",Q){if(M+="<div class='ui-datepicker-group",K[1]>1)switch(T){case 0:M+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case K[1]-1:M+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:M+=" ui-datepicker-group-middle",S=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?a:s:"")+(/all|right/.test(S)&&0===w?Y?s:a:"")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",C=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)N=(x+u)%7,C+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[N]+"'>"+p[N]+"</span></th>";for(M+=C+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=Q?this.maxRows>I?this.maxRows:I:I,this.maxRows=H,z=this._daylightSavingAdjust(new Date(et,Z,1-P)),F=0;H>F;F++){for(M+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(z)+"</td>":"",x=0;7>x;x++)O=g?g.apply(e.input?e.input[0]:null,[z]):[!0,""],j=z.getMonth()!==Z,W=j&&!y||!O[0]||X&&X>z||$&&z>$,E+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(z.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+O[1]+(z.getTime()===G.getTime()?" "+this._currentClass:"")+(z.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":W?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===R.getTime()?" ui-state-highlight":"")+(z.getTime()===G.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+"</tr>"}Z++,Z>11&&(Z=0,et++),M+="</tbody></table>"+(Q?"</div>"+(K[0]>0&&T===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=M}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,r=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)
},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),s=!0),s&&!i&&this._trigger("focus",t),s},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;
if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e("<button></button>",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,t(n))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,t(n))},resize:function(e,s){i._trigger("resize",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=n.is(":data(ui-resizable)"),s&&!t&&n.resizable("destroy"),s&&"string"==typeof t&&n.resizable("option","handles",t),s||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):"none","auto"===s.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case"fit":return a>=l&&d>=r&&o>=u&&c>=h;case"intersect":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case"pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case"touch":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),a.length&&(s=e(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable;var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c="array"),"string"===c?this.parse(s(n)||a._default):"array"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===c?(n instanceof l?f(u,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if("alpha"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d="array"===r||"object"===r?s:arguments,c=this[o].slice();return f(a,function(e,t){var s=d["object"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===o?u:("function"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r="";if("transparent"!==n&&("string"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+"Class"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return"boolean"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(y+t[s]),void 0===i&&(i=""),e.css(t[s],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,n,a,o=e(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(o,t.mode||"hide"),d=t.direction||"up",c=r.test(d),p=c?"height":"width",f=c?"top":"left",m=h.test(d),g={},v="show"===u;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),l):e.effects.save(o,l),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:n+a),v&&(s.css(p,0),m||s.css(f,a+n)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&o.hide(),e.effects.restore(o,l),e.effects.removeWrapper(o),i()}})},e.effects.effect.bounce=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"effect"),l="hide"===h,u="show"===h,d=t.direction||"up",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=o.queue(),_=b.length;for((u||l)&&r.push("opacity"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),c||(c=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,y?2*-c:2*c).animate(a,m,g)),l&&(c/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g).animate(a,m,g),c=l?2*c:c/2;l&&(n={opacity:0},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),o.dequeue()},e.effects.effect.clip=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"hide"),l="show"===h,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",f={};e.effects.save(o,r),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[c](),l&&(n.css(c,0),n.css(p,a/2)),f[c]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.drop=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(n,t.mode||"hide"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",d={opacity:r?1:0};e.effects.save(n,a),n.show(),e.effects.createWrapper(n),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),d[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&n()}function n(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var a,o,r,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(a=0;d>a;a++)for(h=g.top+a*y,u=a-(d-1)/2,o=0;c>o;o++)r=g.left+o*v,l=o-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,n,a=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(a,t.mode||"hide"),h="show"===r,l="hide"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),s=e.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*n[l?0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),n=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(s,t.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),e.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,n),i()}})},e.effects.effect.size=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),y=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||s):(o.from=t.from||("show"===p?b:s),o.to=t.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.x,o.from),o.to=e.effects.setTransition(o,c,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(y=y.concat(u).concat(l),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,u,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(n=e.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=r.concat(d).concat(c),o.find("*[width]").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};
f&&e.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,d,a.from.y,i.from),i.to=e.effects.setTransition(i,d,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,c,a.from.x,i.from),i.to=e.effects.setTransition(i,c,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var s=parseInt(i,10),n=e?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),e.effects.removeWrapper(o),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),n=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),r=t.direction||"both",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=h||["middle","center"],n.restore=!0),n.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},e.effects.effect.puff=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"hide"),a="hide"===n,o=parseInt(t.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,n=e(this),a=e.effects.setMode(n,t.mode||"show"),o="show"===a,r="hide"===a,h=o||"hide"===a,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=n.queue(),p=c.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),d=1),s=1;l>s;s++)n.animate({opacity:d},u,t.easing),d=1-d;n.animate({opacity:d},u,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),y=v.length;for(e.effects.save(n,a),n.show(),e.effects.createWrapper(n),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,n.animate(f,d,t.easing),s=1;l>s;s++)n.animate(m,d,t.easing).animate(g,d,t.easing);n.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(n,a),n.show(),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),d[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),n=e(t.to),a="fixed"===n.css("position"),o=e("body"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},d=s.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var s=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger("focus",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr("aria-activedescendant",t.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,n="";e.each(i,function(i,a){a.optgroup!==n&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:a.optgroup}).appendTo(t),n=a.optgroup),s._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var s=e("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var n=e(s),a=n.parent("optgroup");i.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:a.attr("label")||"",disabled:a.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));
return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>r&&h>s+l,c="y"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===s?t._createTrPlaceholder(t.currentItem,n):"img"===s&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(h(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,""),s=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,n){return e(n).attr("aria-controls")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;
this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr("id"),h=e(s).closest("li"),l=h.attr("aria-controls");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":r}),a.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();"fill"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger("activate",t,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){"abort"===t&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger("load",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href"),beforeSend:function(t,a){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur");n.target=n.currentTarget=s.element[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(t,s),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){n._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,i))})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function n(e){l.of=e,o.is(":hidden")||o.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i))return a.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,e("<div>").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,i,s)},close:function(t){var i,s=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete s.parents[t]}),a.closing=!0,this._trigger("close",t,{tooltip:i}),a.hiding||(a.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur"),a=s.element;n.target=n.currentTarget=a[0],t.close(n,!0),e("#"+i).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});

(function(c,d){c.widget("ui.rotatable",c.ui.mouse,{options:{handle:!1,angle:!1,snap:!1,step:22.5,rotationCenterX:!1,rotationCenterY:!1,start:null,rotate:null,stop:null},rotationCenterX:function(a){if(a===d)return this.options.rotationCenterX;this.options.rotationCenterX=a},rotationCenterY:function(a){if(a===d)return this.options.rotationCenterY;this.options.rotationCenterY=a},handle:function(a){if(a===d)return this.options.handle;this.options.handle=a},angle:function(a){if(a===d)return this.options.angle;
this.elementCurrentAngle=this.options.angle=a;this.performRotation(this.options.angle)},_create:function(){var a;this.options.handle?a=this.options.handle:(a=c(document.createElement("div")),a.addClass("ui-rotatable-handle"));this.listeners={rotateElement:c.proxy(this.rotateElement,this),startRotate:c.proxy(this.startRotate,this),stopRotate:c.proxy(this.stopRotate,this),wheelRotate:c.proxy(this.wheelRotate,this)};this.element.bind("wheel",this.listeners.wheelRotate);a.draggable({helper:"clone",start:this.dragStart,
handle:a});a.bind("mousedown",this.listeners.startRotate);a.appendTo(this.element);0!=this.options.angle?(this.elementCurrentAngle=this.options.angle,this.performRotation(this.elementCurrentAngle)):this.elementCurrentAngle=0},_destroy:function(){this.element.removeClass("ui-rotatable");this.element.find(".ui-rotatable-handle").remove();this.element.unbind("wheel",this.listeners.wheelRotate)},performRotation:function(a){this.element.css("transform-origin",this.options.rotationCenterX+"% "+this.options.rotationCenterY+
"%");this.element.css("-ms-transform-origin",this.options.rotationCenterX+"% "+this.options.rotationCenterY+"%");this.element.css("-webkit-transform-origin",this.options.rotationCenterX+"% "+this.options.rotationCenterY+"%");this.element.css("transform","rotate("+a+"rad)");this.element.css("-moz-transform","rotate("+a+"rad)");this.element.css("-webkit-transform","rotate("+a+"rad)");this.element.css("-o-transform","rotate("+a+"rad)")},getElementOffset:function(){this.performRotation(0);var a=this.element.offset();
this.performRotation(this.elementCurrentAngle);return a},getElementCenter:function(){var a=this.getElementOffset();if(!1===this.options.rotationCenterX)var b=a.left+this.element.width()/2,a=a.top+this.element.height()/2;else b=a.left+this.element.width()/100*this.options.rotationCenterX,a=a.top+this.element.height()/100*this.options.rotationCenterY;return[b,a]},dragStart:function(a){if(this.element)return!1},startRotate:function(a){var b=this.getElementCenter();this.mouseStartAngle=Math.atan2(a.pageY-
b[1],a.pageX-b[0]);this.elementStartAngle=this.elementCurrentAngle;this.hasRotated=!1;this._propagate("start",a);c(document).bind("mousemove",this.listeners.rotateElement);c(document).bind("mouseup",this.listeners.stopRotate);return!1},rotateElement:function(a){if(!this.element||this.element.disabled)return!1;var b=this.getRotateAngle(a);this.performRotation(b);var c=this.elementCurrentAngle;this.elementCurrentAngle=b;this._propagate("rotate",a);c!=b&&(this._trigger("rotate",a,this.ui()),this.hasRotated=
!0);return!1},stopRotate:function(a){if(this.element&&!this.element.disabled)return c(document).unbind("mousemove",this.listeners.rotateElement),c(document).unbind("mouseup",this.listeners.stopRotate),this.elementStopAngle=this.elementCurrentAngle,this.hasRotated&&this._propagate("stop",a),setTimeout(function(){this.element=!1},10),!1},getRotateAngle:function(a){var b=this.getElementCenter();a=Math.atan2(a.pageY-b[1],a.pageX-b[0])-this.mouseStartAngle+this.elementStartAngle;this.options.snap&&(a=
a/Math.PI*180,a=Math.round(a/this.options.step)*this.options.step,a=a*Math.PI/180);return a},wheelRotate:function(a){var b=Math.round(a.originalEvent.deltaY/10)*Math.PI/180,b=this.elementCurrentAngle+b;this.angle(b);this._trigger("rotate",a,this.ui())},_propagate:function(a,b){c.ui.plugin.call(this,a,[b,this.ui()]);"rotate"!==a&&this._trigger(a,b,this.ui())},plugins:{},ui:function(){return{api:this,element:this.element,angle:{start:this.elementStartAngle,current:this.elementCurrentAngle,stop:this.elementStopAngle}}}})})(jQuery);
/*!
 * Bootstrap v3.3.1 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc. 
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.1",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.1",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.1",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c="prev"==a?-1:1,d=this.getItemIndex(b),e=(d+c)%this.$items.length;return this.$items.eq(e)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(!f.length){if(!this.options.wrap)return;f=this.$element.find(".item")[i]()}if(f.hasClass("active"))return this.sliding=!1;var k=f[0],l=a.Event("slide.bs.carousel",{relatedTarget:k,direction:h});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var m=a(this.$indicators.children()[this.getItemIndex(f)]);m&&m.addClass("active")}var n=a.Event("slid.bs.carousel",{relatedTarget:k,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger(n)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(n)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a(this.options.trigger).filter('[href="#'+b.id+'"], [data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.1",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":a.extend({},e.data(),{trigger:this});c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.1",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.1",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.options.backdrop&&d.adjustBackdrop(),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$element.find(".modal-dialog").one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},c.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b,g=f&&f.selector;(e||"destroy"!=b)&&(g?(e||d.data("bs.tooltip",e={}),e[g]||(e[g]=new c(this,f))):e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.1",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=this.tip(),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b,g=f&&f.selector;(e||"destroy"!=b)&&(g?(e||d.data("bs.popover",e={}),e[g]||(e[g]=new c(this,f))):e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.1",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.1",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.1",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})
})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.1",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=i?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a("body").height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
/*
 AngularJS v1.3.15
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(Q,W,t){'use strict';function R(b){return function(){var a=arguments[0],c;c="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.3.15/"+(b?b+"/":"")+a;for(a=1;a<arguments.length;a++){c=c+(1==a?"?":"&")+"p"+(a-1)+"=";var d=encodeURIComponent,e;e=arguments[a];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;c+=d(e)}return Error(c)}}function Sa(b){if(null==b||Ta(b))return!1;var a=b.length;return b.nodeType===
qa&&a?!0:C(b)||H(b)||0===a||"number"===typeof a&&0<a&&a-1 in b}function r(b,a,c){var d,e;if(b)if(G(b))for(d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d,b);else if(H(b)||Sa(b)){var f="object"!==typeof b;d=0;for(e=b.length;d<e;d++)(f||d in b)&&a.call(c,b[d],d,b)}else if(b.forEach&&b.forEach!==r)b.forEach(a,c,b);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d,b);return b}function Ed(b,a,c){for(var d=Object.keys(b).sort(),e=0;e<d.length;e++)a.call(c,
b[d[e]],d[e]);return d}function mc(b){return function(a,c){b(c,a)}}function Fd(){return++ob}function nc(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function w(b){for(var a=b.$$hashKey,c=1,d=arguments.length;c<d;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;g<h;g++){var l=f[g];b[l]=e[l]}}nc(b,a);return b}function aa(b){return parseInt(b,10)}function Ob(b,a){return w(Object.create(b),a)}function E(){}function ra(b){return b}function ea(b){return function(){return b}}function x(b){return"undefined"===
typeof b}function y(b){return"undefined"!==typeof b}function J(b){return null!==b&&"object"===typeof b}function C(b){return"string"===typeof b}function Y(b){return"number"===typeof b}function ga(b){return"[object Date]"===Ca.call(b)}function G(b){return"function"===typeof b}function Ua(b){return"[object RegExp]"===Ca.call(b)}function Ta(b){return b&&b.window===b}function Va(b){return b&&b.$evalAsync&&b.$watch}function Wa(b){return"boolean"===typeof b}function oc(b){return!(!b||!(b.nodeName||b.prop&&
b.attr&&b.find))}function Gd(b){var a={};b=b.split(",");var c;for(c=0;c<b.length;c++)a[b[c]]=!0;return a}function va(b){return z(b.nodeName||b[0]&&b[0].nodeName)}function Xa(b,a){var c=b.indexOf(a);0<=c&&b.splice(c,1);return a}function Da(b,a,c,d){if(Ta(b)||Va(b))throw Ja("cpws");if(a){if(b===a)throw Ja("cpi");c=c||[];d=d||[];if(J(b)){var e=c.indexOf(b);if(-1!==e)return d[e];c.push(b);d.push(a)}if(H(b))for(var f=a.length=0;f<b.length;f++)e=Da(b[f],null,c,d),J(b[f])&&(c.push(b[f]),d.push(e)),a.push(e);
else{var g=a.$$hashKey;H(a)?a.length=0:r(a,function(b,c){delete a[c]});for(f in b)b.hasOwnProperty(f)&&(e=Da(b[f],null,c,d),J(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e);nc(a,g)}}else if(a=b)H(b)?a=Da(b,[],c,d):ga(b)?a=new Date(b.getTime()):Ua(b)?(a=new RegExp(b.source,b.toString().match(/[^\/]*$/)[0]),a.lastIndex=b.lastIndex):J(b)&&(e=Object.create(Object.getPrototypeOf(b)),a=Da(b,e,c,d));return a}function sa(b,a){if(H(b)){a=a||[];for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}else if(J(b))for(c in a=a||{},
b)if("$"!==c.charAt(0)||"$"!==c.charAt(1))a[c]=b[c];return a||b}function ha(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var c=typeof b,d;if(c==typeof a&&"object"==c)if(H(b)){if(!H(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!ha(b[d],a[d]))return!1;return!0}}else{if(ga(b))return ga(a)?ha(b.getTime(),a.getTime()):!1;if(Ua(b))return Ua(a)?b.toString()==a.toString():!1;if(Va(b)||Va(a)||Ta(b)||Ta(a)||H(a)||ga(a)||Ua(a))return!1;c={};for(d in b)if("$"!==
d.charAt(0)&&!G(b[d])){if(!ha(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==t&&!G(a[d]))return!1;return!0}return!1}function Ya(b,a,c){return b.concat(Za.call(a,c))}function pc(b,a){var c=2<arguments.length?Za.call(arguments,2):[];return!G(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,Ya(c,arguments,0)):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Hd(b,a){var c=a;"string"===typeof b&&
"$"===b.charAt(0)&&"$"===b.charAt(1)?c=t:Ta(a)?c="$WINDOW":a&&W===a?c="$DOCUMENT":Va(a)&&(c="$SCOPE");return c}function $a(b,a){if("undefined"===typeof b)return t;Y(a)||(a=a?2:null);return JSON.stringify(b,Hd,a)}function qc(b){return C(b)?JSON.parse(b):b}function wa(b){b=A(b).clone();try{b.empty()}catch(a){}var c=A("<div>").append(b).html();try{return b[0].nodeType===pb?z(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+z(b)})}catch(d){return z(c)}}function rc(b){try{return decodeURIComponent(b)}catch(a){}}
function sc(b){var a={},c,d;r((b||"").split("&"),function(b){b&&(c=b.replace(/\+/g,"%20").split("="),d=rc(c[0]),y(d)&&(b=y(c[1])?rc(c[1]):!0,tc.call(a,d)?H(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))});return a}function Pb(b){var a=[];r(b,function(b,d){H(b)?r(b,function(b){a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))}):a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))});return a.length?a.join("&"):""}function qb(b){return Ea(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ea(b,a){return encodeURIComponent(b).replace(/%40/gi,
"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,a?"%20":"+")}function Id(b,a){var c,d,e=rb.length;b=A(b);for(d=0;d<e;++d)if(c=rb[d]+a,C(c=b.attr(c)))return c;return null}function Jd(b,a){var c,d,e={};r(rb,function(a){a+="app";!c&&b.hasAttribute&&b.hasAttribute(a)&&(c=b,d=b.getAttribute(a))});r(rb,function(a){a+="app";var e;!c&&(e=b.querySelector("["+a.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(a))});c&&(e.strictDi=null!==Id(c,"strict-di"),
a(c,d?[d]:[],e))}function uc(b,a,c){J(c)||(c={});c=w({strictDi:!1},c);var d=function(){b=A(b);if(b.injector()){var d=b[0]===W?"document":wa(b);throw Ja("btstrpd",d.replace(/</,"&lt;").replace(/>/,"&gt;"));}a=a||[];a.unshift(["$provide",function(a){a.value("$rootElement",b)}]);c.debugInfoEnabled&&a.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);a.unshift("ng");d=ab(a,c.strictDi);d.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",
d);c(b)(a)})}]);return d},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;Q&&e.test(Q.name)&&(c.debugInfoEnabled=!0,Q.name=Q.name.replace(e,""));if(Q&&!f.test(Q.name))return d();Q.name=Q.name.replace(f,"");ca.resumeBootstrap=function(b){r(b,function(b){a.push(b)});return d()};G(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()}function Kd(){Q.name="NG_ENABLE_DEBUG_INFO!"+Q.name;Q.location.reload()}function Ld(b){b=ca.element(b).injector();if(!b)throw Ja("test");return b.get("$$testability")}
function vc(b,a){a=a||"_";return b.replace(Md,function(b,d){return(d?a:"")+b.toLowerCase()})}function Nd(){var b;wc||((ta=Q.jQuery)&&ta.fn.on?(A=ta,w(ta.fn,{scope:Ka.scope,isolateScope:Ka.isolateScope,controller:Ka.controller,injector:Ka.injector,inheritedData:Ka.inheritedData}),b=ta.cleanData,ta.cleanData=function(a){var c;if(Qb)Qb=!1;else for(var d=0,e;null!=(e=a[d]);d++)(c=ta._data(e,"events"))&&c.$destroy&&ta(e).triggerHandler("$destroy");b(a)}):A=T,ca.element=A,wc=!0)}function Rb(b,a,c){if(!b)throw Ja("areq",
a||"?",c||"required");return b}function sb(b,a,c){c&&H(b)&&(b=b[b.length-1]);Rb(G(b),a,"not a function, got "+(b&&"object"===typeof b?b.constructor.name||"Object":typeof b));return b}function La(b,a){if("hasOwnProperty"===b)throw Ja("badname",a);}function xc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,g=0;g<f;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&G(b)?pc(e,b):b}function tb(b){var a=b[0];b=b[b.length-1];var c=[a];do{a=a.nextSibling;if(!a)break;c.push(a)}while(a!==b);return A(c)}function ia(){return Object.create(null)}
function Od(b){function a(a,b,c){return a[b]||(a[b]=c())}var c=R("$injector"),d=R("ng");b=a(b,"angular",Object);b.$$minErr=b.$$minErr||R;return a(b,"module",function(){var b={};return function(f,g,h){if("hasOwnProperty"===f)throw d("badname","module");g&&b.hasOwnProperty(f)&&(b[f]=null);return a(b,f,function(){function a(c,d,e,f){f||(f=b);return function(){f[e||"push"]([c,d,arguments]);return u}}if(!g)throw c("nomod",f);var b=[],d=[],e=[],q=a("$injector","invoke","push",d),u={_invokeQueue:b,_configBlocks:d,
_runBlocks:e,requires:g,name:f,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:q,run:function(a){e.push(a);return this}};h&&q(h);return u})}})}function Pd(b){w(b,{bootstrap:uc,copy:Da,extend:w,equals:ha,
element:A,forEach:r,injector:ab,noop:E,bind:pc,toJson:$a,fromJson:qc,identity:ra,isUndefined:x,isDefined:y,isString:C,isFunction:G,isObject:J,isNumber:Y,isElement:oc,isArray:H,version:Qd,isDate:ga,lowercase:z,uppercase:ub,callbacks:{counter:0},getTestability:Ld,$$minErr:R,$$csp:bb,reloadWithDebugInfo:Kd});cb=Od(Q);try{cb("ngLocale")}catch(a){cb("ngLocale",[]).provider("$locale",Rd)}cb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Sd});a.provider("$compile",yc).directive({a:Td,
input:zc,textarea:zc,form:Ud,script:Vd,select:Wd,style:Xd,option:Yd,ngBind:Zd,ngBindHtml:$d,ngBindTemplate:ae,ngClass:be,ngClassEven:ce,ngClassOdd:de,ngCloak:ee,ngController:fe,ngForm:ge,ngHide:he,ngIf:ie,ngInclude:je,ngInit:ke,ngNonBindable:le,ngPluralize:me,ngRepeat:ne,ngShow:oe,ngStyle:pe,ngSwitch:qe,ngSwitchWhen:re,ngSwitchDefault:se,ngOptions:te,ngTransclude:ue,ngModel:ve,ngList:we,ngChange:xe,pattern:Ac,ngPattern:Ac,required:Bc,ngRequired:Bc,minlength:Cc,ngMinlength:Cc,maxlength:Dc,ngMaxlength:Dc,
ngValue:ye,ngModelOptions:ze}).directive({ngInclude:Ae}).directive(vb).directive(Ec);a.provider({$anchorScroll:Be,$animate:Ce,$browser:De,$cacheFactory:Ee,$controller:Fe,$document:Ge,$exceptionHandler:He,$filter:Fc,$interpolate:Ie,$interval:Je,$http:Ke,$httpBackend:Le,$location:Me,$log:Ne,$parse:Oe,$rootScope:Pe,$q:Qe,$$q:Re,$sce:Se,$sceDelegate:Te,$sniffer:Ue,$templateCache:Ve,$templateRequest:We,$$testability:Xe,$timeout:Ye,$window:Ze,$$rAF:$e,$$asyncCallback:af,$$jqLite:bf})}])}function db(b){return b.replace(cf,
function(a,b,d,e){return e?d.toUpperCase():d}).replace(df,"Moz$1")}function Gc(b){b=b.nodeType;return b===qa||!b||9===b}function Hc(b,a){var c,d,e=a.createDocumentFragment(),f=[];if(Sb.test(b)){c=c||e.appendChild(a.createElement("div"));d=(ef.exec(b)||["",""])[1].toLowerCase();d=ja[d]||ja._default;c.innerHTML=d[1]+b.replace(ff,"<$1></$2>")+d[2];for(d=d[0];d--;)c=c.lastChild;f=Ya(f,c.childNodes);c=e.firstChild;c.textContent=""}else f.push(a.createTextNode(b));e.textContent="";e.innerHTML="";r(f,function(a){e.appendChild(a)});
return e}function T(b){if(b instanceof T)return b;var a;C(b)&&(b=N(b),a=!0);if(!(this instanceof T)){if(a&&"<"!=b.charAt(0))throw Tb("nosel");return new T(b)}if(a){a=W;var c;b=(c=gf.exec(b))?[a.createElement(c[1])]:(c=Hc(b,a))?c.childNodes:[]}Ic(this,b)}function Ub(b){return b.cloneNode(!0)}function wb(b,a){a||xb(b);if(b.querySelectorAll)for(var c=b.querySelectorAll("*"),d=0,e=c.length;d<e;d++)xb(c[d])}function Jc(b,a,c,d){if(y(d))throw Tb("offargs");var e=(d=yb(b))&&d.events,f=d&&d.handle;if(f)if(a)r(a.split(" "),
function(a){if(y(c)){var d=e[a];Xa(d||[],c);if(d&&0<d.length)return}b.removeEventListener(a,f,!1);delete e[a]});else for(a in e)"$destroy"!==a&&b.removeEventListener(a,f,!1),delete e[a]}function xb(b,a){var c=b.ng339,d=c&&zb[c];d&&(a?delete d.data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Jc(b)),delete zb[c],b.ng339=t))}function yb(b,a){var c=b.ng339,c=c&&zb[c];a&&!c&&(b.ng339=c=++hf,c=zb[c]={events:{},data:{},handle:t});return c}function Vb(b,a,c){if(Gc(b)){var d=y(c),e=!d&&a&&!J(a),
f=!a;b=(b=yb(b,!e))&&b.data;if(d)b[a]=c;else{if(f)return b;if(e)return b&&b[a];w(b,a)}}}function Ab(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" "):!1}function Bb(b,a){a&&b.setAttribute&&r(a.split(" "),function(a){b.setAttribute("class",N((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+N(a)+" "," ")))})}function Cb(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");
r(a.split(" "),function(a){a=N(a);-1===c.indexOf(" "+a+" ")&&(c+=a+" ")});b.setAttribute("class",N(c))}}function Ic(b,a){if(a)if(a.nodeType)b[b.length++]=a;else{var c=a.length;if("number"===typeof c&&a.window!==a){if(c)for(var d=0;d<c;d++)b[b.length++]=a[d]}else b[b.length++]=a}}function Kc(b,a){return Db(b,"$"+(a||"ngController")+"Controller")}function Db(b,a,c){9==b.nodeType&&(b=b.documentElement);for(a=H(a)?a:[a];b;){for(var d=0,e=a.length;d<e;d++)if((c=A.data(b,a[d]))!==t)return c;b=b.parentNode||
11===b.nodeType&&b.host}}function Lc(b){for(wb(b,!0);b.firstChild;)b.removeChild(b.firstChild)}function Mc(b,a){a||wb(b);var c=b.parentNode;c&&c.removeChild(b)}function jf(b,a){a=a||Q;if("complete"===a.document.readyState)a.setTimeout(b);else A(a).on("load",b)}function Nc(b,a){var c=Eb[a.toLowerCase()];return c&&Oc[va(b)]&&c}function kf(b,a){var c=b.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Pc[a]}function lf(b,a){var c=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=
a[e||c.type],g=f?f.length:0;if(g){if(x(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};1<g&&(f=sa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||f[l].call(b,c)}};c.elem=b;return c}function bf(){this.$get=function(){return w(T,{hasClass:function(b,a){b.attr&&(b=b[0]);
return Ab(b,a)},addClass:function(b,a){b.attr&&(b=b[0]);return Cb(b,a)},removeClass:function(b,a){b.attr&&(b=b[0]);return Bb(b,a)}})}}function Ma(b,a){var c=b&&b.$$hashKey;if(c)return"function"===typeof c&&(c=b.$$hashKey()),c;c=typeof b;return c="function"==c||"object"==c&&null!==b?b.$$hashKey=c+":"+(a||Fd)():c+":"+b}function eb(b,a){if(a){var c=0;this.nextUid=function(){return++c}}r(b,this.put,this)}function mf(b){return(b=b.toString().replace(Qc,"").match(Rc))?"function("+(b[1]||"").replace(/[\s\r\n]+/,
" ")+")":"fn"}function ab(b,a){function c(a){return function(b,c){if(J(b))r(b,mc(a));else return a(b,c)}}function d(a,b){La(a,"service");if(G(b)||H(b))b=q.instantiate(b);if(!b.$get)throw Fa("pget",a);return p[a+"Provider"]=b}function e(a,b){return function(){var c=s.invoke(b,this);if(x(c))throw Fa("undef",a);return c}}function f(a,b,c){return d(a,{$get:!1!==c?e(a,b):b})}function g(a){var b=[],c;r(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=q.get(e[0]);f[e[1]].apply(f,
e[2])}}if(!n.get(a)){n.put(a,!0);try{C(a)?(c=cb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):G(a)?b.push(q.invoke(a)):H(a)?b.push(q.invoke(a)):sb(a,"module")}catch(e){throw H(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Fa("modulerr",a,e.stack||e.message||e);}}});return b}function h(b,c){function d(a,e){if(b.hasOwnProperty(a)){if(b[a]===l)throw Fa("cdep",a+" <- "+k.join(" <- "));return b[a]}try{return k.unshift(a),
b[a]=l,b[a]=c(a,e)}catch(f){throw b[a]===l&&delete b[a],f;}finally{k.shift()}}function e(b,c,f,g){"string"===typeof f&&(g=f,f=null);var k=[],h=ab.$$annotate(b,a,g),l,q,p;q=0;for(l=h.length;q<l;q++){p=h[q];if("string"!==typeof p)throw Fa("itkn",p);k.push(f&&f.hasOwnProperty(p)?f[p]:d(p,g))}H(b)&&(b=b[l]);return b.apply(c,k)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((H(a)?a[a.length-1]:a).prototype||null);a=e(a,d,b,c);return J(a)||G(a)?a:d},get:d,annotate:ab.$$annotate,has:function(a){return p.hasOwnProperty(a+
"Provider")||b.hasOwnProperty(a)}}}a=!0===a;var l={},k=[],n=new eb([],!0),p={$provide:{provider:c(d),factory:c(f),service:c(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:c(function(a,b){return f(a,ea(b),!1)}),constant:c(function(a,b){La(a,"constant");p[a]=b;u[a]=b}),decorator:function(a,b){var c=q.get(a+"Provider"),d=c.$get;c.$get=function(){var a=s.invoke(d,c);return s.invoke(b,null,{$delegate:a})}}}},q=p.$injector=h(p,function(a,b){ca.isString(b)&&k.push(b);
throw Fa("unpr",k.join(" <- "));}),u={},s=u.$injector=h(u,function(a,b){var c=q.get(a+"Provider",b);return s.invoke(c.$get,c,t,a)});r(g(b),function(a){s.invoke(a||E)});return s}function Be(){var b=!0;this.disableAutoScrolling=function(){b=!1};this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===va(a))return b=a,!0});return b}function f(b){if(b){b.scrollIntoView();var c;c=g.yOffset;G(c)?c=c():oc(c)?(c=c[0],c="fixed"!==
a.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):Y(c)||(c=0);c&&(b=b.getBoundingClientRect().top,a.scrollBy(0,b-c))}else a.scrollTo(0,0)}function g(){var a=c.hash(),b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=a.document;b&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||jf(function(){d.$evalAsync(g)})});return g}]}function af(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:
function(b){return a(b,0,!1)}}]}function nf(b,a,c,d){function e(a){try{a.apply(null,Za.call(arguments,1))}finally{if(m--,0===m)for(;F.length;)try{F.pop()()}catch(b){c.error(b)}}}function f(a,b){(function da(){r(Z,function(a){a()});L=b(da,a)})()}function g(){h();l()}function h(){a:{try{B=u.state;break a}catch(a){}B=void 0}B=x(B)?null:B;ha(B,O)&&(B=O);O=B}function l(){if(D!==n.url()||I!==B)D=n.url(),I=B,r(X,function(a){a(n.url(),B)})}function k(a){try{return decodeURIComponent(a)}catch(b){return a}}
var n=this,p=a[0],q=b.location,u=b.history,s=b.setTimeout,M=b.clearTimeout,v={};n.isMock=!1;var m=0,F=[];n.$$completeOutstandingRequest=e;n.$$incOutstandingRequestCount=function(){m++};n.notifyWhenNoOutstandingRequests=function(a){r(Z,function(a){a()});0===m?a():F.push(a)};var Z=[],L;n.addPollFn=function(a){x(L)&&f(100,s);Z.push(a);return a};var B,I,D=q.href,S=a.find("base"),P=null;h();I=B;n.url=function(a,c,e){x(e)&&(e=null);q!==b.location&&(q=b.location);u!==b.history&&(u=b.history);if(a){var f=
I===e;if(D===a&&(!d.history||f))return n;var g=D&&Ga(D)===Ga(a);D=a;I=e;!d.history||g&&f?(g||(P=a),c?q.replace(a):g?(c=q,e=a.indexOf("#"),a=-1===e?"":a.substr(e+1),c.hash=a):q.href=a):(u[c?"replaceState":"pushState"](e,"",a),h(),I=B);return n}return P||q.href.replace(/%27/g,"'")};n.state=function(){return B};var X=[],ba=!1,O=null;n.onUrlChange=function(a){if(!ba){if(d.history)A(b).on("popstate",g);A(b).on("hashchange",g);ba=!0}X.push(a);return a};n.$$checkUrlChange=l;n.baseHref=function(){var a=S.attr("href");
return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var fa={},y="",ka=n.baseHref();n.cookies=function(a,b){var d,e,f,g;if(a)b===t?p.cookie=encodeURIComponent(a)+"=;path="+ka+";expires=Thu, 01 Jan 1970 00:00:00 GMT":C(b)&&(d=(p.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+ka).length+1,4096<d&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"));else{if(p.cookie!==y)for(y=p.cookie,d=y.split("; "),fa={},f=0;f<d.length;f++)e=d[f],g=
e.indexOf("="),0<g&&(a=k(e.substring(0,g)),fa[a]===t&&(fa[a]=k(e.substring(g+1))));return fa}};n.defer=function(a,b){var c;m++;c=s(function(){delete v[c];e(a)},b||0);v[c]=!0;return c};n.defer.cancel=function(a){return v[a]?(delete v[a],M(a),e(E),!0):!1}}function De(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new nf(b,d,a,c)}]}function Ee(){this.$get=function(){function b(b,d){function e(a){a!=p&&(q?q==a&&(q=a.n):q=a,f(a.n,a.p),f(a,p),p=a,p.n=null)}function f(a,b){a!=
b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw R("$cacheFactory")("iid",b);var g=0,h=w({},d,{id:b}),l={},k=d&&d.capacity||Number.MAX_VALUE,n={},p=null,q=null;return a[b]={put:function(a,b){if(k<Number.MAX_VALUE){var c=n[a]||(n[a]={key:a});e(c)}if(!x(b))return a in l||g++,l[a]=b,g>k&&this.remove(q.key),b},get:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;e(b)}return l[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;b==p&&(p=b.p);b==q&&(q=b.n);f(b.n,b.p);delete n[a]}delete l[a];
g--},removeAll:function(){l={};g=0;n={};p=q=null},destroy:function(){n=h=l=null;delete a[b]},info:function(){return w({},h,{size:g})}}}var a={};b.info=function(){var b={};r(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};return b}}function Ve(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function yc(b,a){function c(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};r(a,function(a,e){var f=a.match(c);if(!f)throw la("iscp",b,e,a);d[e]={mode:f[1][0],collection:"*"===
f[2],optional:"?"===f[3],attrName:f[4]||e}});return d}var d={},e=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,g=Gd("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=/^(on[a-z]+|formaction)$/;this.directive=function p(a,e){La(a,"directive");C(a)?(Rb(e,"directiveFactory"),d.hasOwnProperty(a)||(d[a]=[],b.factory(a+"Directive",["$injector","$exceptionHandler",function(b,e){var f=[];r(d[a],function(d,g){try{var h=b.invoke(d);G(h)?h={compile:ea(h)}:!h.compile&&h.link&&
(h.compile=ea(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||a;h.require=h.require||h.controller&&h.name;h.restrict=h.restrict||"EA";J(h.scope)&&(h.$$isolateBindings=c(h.scope,h.name));f.push(h)}catch(k){e(k)}});return f}])),d[a].push(e)):r(a,mc(p));return this};this.aHrefSanitizationWhitelist=function(b){return y(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};
var k=!0;this.debugInfoEnabled=function(a){return y(a)?(k=a,this):k};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,c,s,M,v,m,F,Z,L,B){function I(a,b){try{a.addClass(b)}catch(c){}}function D(a,b,c,d,e){a instanceof A||(a=A(a));r(a,function(b,c){b.nodeType==pb&&b.nodeValue.match(/\S+/)&&(a[c]=A(b).wrap("<span></span>").parent()[0])});var f=S(a,b,a,c,d,e);D.$$addScopeClass(a);
var g=null;return function(b,c,d){Rb(b,"scope");d=d||{};var e=d.parentBoundTranscludeFn,h=d.transcludeControllers;d=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude);g||(g=(d=d&&d[0])?"foreignobject"!==va(d)&&d.toString().match(/SVG/)?"svg":"html":"html");d="html"!==g?A(Xb(g,A("<div>").append(a).html())):c?Ka.clone.call(a):a;if(h)for(var k in h)d.data("$"+k+"Controller",h[k].instance);D.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,e);return d}}function S(a,b,c,d,e,f){function g(a,
c,d,e){var f,k,l,q,p,s,M;if(m)for(M=Array(c.length),q=0;q<h.length;q+=3)f=h[q],M[f]=c[f];else M=c;q=0;for(p=h.length;q<p;)k=M[h[q++]],c=h[q++],f=h[q++],c?(c.scope?(l=a.$new(),D.$$addScopeInfo(A(k),l)):l=a,s=c.transcludeOnThisElement?P(a,c.transclude,e,c.elementTranscludeOnThisElement):!c.templateOnThisElement&&e?e:!e&&b?P(a,b):null,c(f,l,k,d,s)):f&&f(a,k.childNodes,t,e)}for(var h=[],k,l,q,p,m,s=0;s<a.length;s++){k=new Yb;l=X(a[s],[],k,0===s?d:t,e);(f=l.length?fa(l,a[s],k,b,c,null,[],[],f):null)&&
f.scope&&D.$$addScopeClass(k.$$element);k=f&&f.terminal||!(q=a[s].childNodes)||!q.length?null:S(q,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(s,f,k),p=!0,m=m||f;f=null}return p?g:null}function P(a,b,c,d){return function(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function X(a,b,c,d,g){var h=c.$attr,k;switch(a.nodeType){case qa:ka(b,xa(va(a)),"E",d,g);for(var l,
q,p,m=a.attributes,s=0,M=m&&m.length;s<M;s++){var u=!1,L=!1;l=m[s];k=l.name;q=N(l.value);l=xa(k);if(p=U.test(l))k=k.replace(Sc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});var B=l.replace(/(Start|End)$/,"");x(B)&&l===B+"Start"&&(u=k,L=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6));l=xa(k.toLowerCase());h[l]=k;if(p||!c.hasOwnProperty(l))c[l]=q,Nc(a,l)&&(c[l]=!0);Oa(a,b,q,l,p);ka(b,l,"A",d,g,u,L)}a=a.className;J(a)&&(a=a.animVal);if(C(a)&&""!==a)for(;k=f.exec(a);)l=xa(k[2]),
ka(b,l,"C",d,g)&&(c[l]=N(k[3])),a=a.substr(k.index+k[0].length);break;case pb:za(b,a.nodeValue);break;case 8:try{if(k=e.exec(a.nodeValue))l=xa(k[1]),ka(b,l,"M",d,g)&&(c[l]=N(k[2]))}catch(v){}}b.sort(da);return b}function ba(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw la("uterdir",b,c);a.nodeType==qa&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return A(d)}function O(a,b,c){return function(d,e,f,g,h){e=ba(e[0],
b,c);return a(d,e,f,g,h)}}function fa(a,d,e,f,g,k,l,p,m){function s(a,b,c,d){if(a){c&&(a=O(a,c,d));a.require=K.require;a.directiveName=da;if(P===K||K.$$isolateScope)a=Y(a,{isolateScope:!0});l.push(a)}if(b){c&&(b=O(b,c,d));b.require=K.require;b.directiveName=da;if(P===K||K.$$isolateScope)b=Y(b,{isolateScope:!0});p.push(b)}}function L(a,b,c,d){var e,f="data",g=!1,k=c,l;if(C(b)){l=b.match(h);b=b.substring(l[0].length);l[3]&&(l[1]?l[3]=null:l[1]=l[3]);"^"===l[1]?f="inheritedData":"^^"===l[1]&&(f="inheritedData",
k=c.parent());"?"===l[2]&&(g=!0);e=null;d&&"data"===f&&(e=d[b])&&(e=e.instance);e=e||k[f]("$"+b+"Controller");if(!e&&!g)throw la("ctreq",b,a);return e||null}H(b)&&(e=[],r(b,function(b){e.push(L(a,b,c,d))}));return e}function B(a,c,f,g,h){function k(a,b,c){var d;Va(a)||(c=b,b=a,a=t);E&&(d=F);c||(c=E?X.parent():X);return h(a,b,d,c,Wb)}var m,s,u,I,F,gb,X,O;d===f?(O=e,X=e.$$element):(X=A(f),O=new Yb(X,e));P&&(I=c.$new(!0));h&&(gb=k,gb.$$boundTransclude=h);S&&(Z={},F={},r(S,function(a){var b={$scope:a===
P||a.$$isolateScope?I:c,$element:X,$attrs:O,$transclude:gb};u=a.controller;"@"==u&&(u=O[a.name]);b=v(u,b,!0,a.controllerAs);F[a.name]=b;E||X.data("$"+a.name+"Controller",b.instance);Z[a.name]=b}));if(P){D.$$addScopeInfo(X,I,!0,!(ma&&(ma===P||ma===P.$$originalDirective)));D.$$addScopeClass(X,!0);g=Z&&Z[P.name];var ba=I;g&&g.identifier&&!0===P.bindToController&&(ba=g.instance);r(I.$$isolateBindings=P.$$isolateBindings,function(a,d){var e=a.attrName,f=a.optional,g,h,k,l;switch(a.mode){case "@":O.$observe(e,
function(a){ba[d]=a});O.$$observers[e].$$scope=c;O[e]&&(ba[d]=b(O[e])(c));break;case "=":if(f&&!O[e])break;h=M(O[e]);l=h.literal?ha:function(a,b){return a===b||a!==a&&b!==b};k=h.assign||function(){g=ba[d]=h(c);throw la("nonassign",O[e],P.name);};g=ba[d]=h(c);f=function(a){l(a,ba[d])||(l(a,g)?k(c,a=ba[d]):ba[d]=a);return g=a};f.$stateful=!0;f=a.collection?c.$watchCollection(O[e],f):c.$watch(M(O[e],f),null,h.literal);I.$on("$destroy",f);break;case "&":h=M(O[e]),ba[d]=function(a){return h(c,a)}}})}Z&&
(r(Z,function(a){a()}),Z=null);g=0;for(m=l.length;g<m;g++)s=l[g],$(s,s.isolateScope?I:c,X,O,s.require&&L(s.directiveName,s.require,X,F),gb);var Wb=c;P&&(P.template||null===P.templateUrl)&&(Wb=I);a&&a(Wb,f.childNodes,t,h);for(g=p.length-1;0<=g;g--)s=p[g],$(s,s.isolateScope?I:c,X,O,s.require&&L(s.directiveName,s.require,X,F),gb)}m=m||{};for(var I=-Number.MAX_VALUE,F,S=m.controllerDirectives,Z,P=m.newIsolateScopeDirective,ma=m.templateDirective,fa=m.nonTlbTranscludeDirective,ka=!1,x=!1,E=m.hasElementTranscludeDirective,
w=e.$$element=A(d),K,da,V,fb=f,za,z=0,Q=a.length;z<Q;z++){K=a[z];var Oa=K.$$start,U=K.$$end;Oa&&(w=ba(d,Oa,U));V=t;if(I>K.priority)break;if(V=K.scope)K.templateUrl||(J(V)?(Na("new/isolated scope",P||F,K,w),P=K):Na("new/isolated scope",P,K,w)),F=F||K;da=K.name;!K.templateUrl&&K.controller&&(V=K.controller,S=S||{},Na("'"+da+"' controller",S[da],K,w),S[da]=K);if(V=K.transclude)ka=!0,K.$$tlb||(Na("transclusion",fa,K,w),fa=K),"element"==V?(E=!0,I=K.priority,V=w,w=e.$$element=A(W.createComment(" "+da+": "+
e[da]+" ")),d=w[0],T(g,Za.call(V,0),d),fb=D(V,f,I,k&&k.name,{nonTlbTranscludeDirective:fa})):(V=A(Ub(d)).contents(),w.empty(),fb=D(V,f));if(K.template)if(x=!0,Na("template",ma,K,w),ma=K,V=G(K.template)?K.template(w,e):K.template,V=Tc(V),K.replace){k=K;V=Sb.test(V)?Uc(Xb(K.templateNamespace,N(V))):[];d=V[0];if(1!=V.length||d.nodeType!==qa)throw la("tplrt",da,"");T(g,w,d);Q={$attr:{}};V=X(d,[],Q);var aa=a.splice(z+1,a.length-(z+1));P&&y(V);a=a.concat(V).concat(aa);R(e,Q);Q=a.length}else w.html(V);if(K.templateUrl)x=
!0,Na("template",ma,K,w),ma=K,K.replace&&(k=K),B=of(a.splice(z,a.length-z),w,e,g,ka&&fb,l,p,{controllerDirectives:S,newIsolateScopeDirective:P,templateDirective:ma,nonTlbTranscludeDirective:fa}),Q=a.length;else if(K.compile)try{za=K.compile(w,e,fb),G(za)?s(null,za,Oa,U):za&&s(za.pre,za.post,Oa,U)}catch(pf){c(pf,wa(w))}K.terminal&&(B.terminal=!0,I=Math.max(I,K.priority))}B.scope=F&&!0===F.scope;B.transcludeOnThisElement=ka;B.elementTranscludeOnThisElement=E;B.templateOnThisElement=x;B.transclude=fb;
m.hasElementTranscludeDirective=E;return B}function y(a){for(var b=0,c=a.length;b<c;b++)a[b]=Ob(a[b],{$$isolateScope:!0})}function ka(b,e,f,g,h,k,l){if(e===h)return null;h=null;if(d.hasOwnProperty(e)){var q;e=a.get(e+"Directive");for(var m=0,s=e.length;m<s;m++)try{q=e[m],(g===t||g>q.priority)&&-1!=q.restrict.indexOf(f)&&(k&&(q=Ob(q,{$$start:k,$$end:l})),b.push(q),h=q)}catch(M){c(M)}}return h}function x(b){if(d.hasOwnProperty(b))for(var c=a.get(b+"Directive"),e=0,f=c.length;e<f;e++)if(b=c[e],b.multiElement)return!0;
return!1}function R(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});r(b,function(b,f){"class"==f?(I(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function of(a,b,c,d,e,f,g,h){var k=[],l,q,p=b[0],m=a.shift(),M=Ob(m,{templateUrl:null,transclude:null,
replace:null,$$originalDirective:m}),u=G(m.templateUrl)?m.templateUrl(b,c):m.templateUrl,L=m.templateNamespace;b.empty();s(Z.getTrustedResourceUrl(u)).then(function(s){var B,v;s=Tc(s);if(m.replace){s=Sb.test(s)?Uc(Xb(L,N(s))):[];B=s[0];if(1!=s.length||B.nodeType!==qa)throw la("tplrt",m.name,u);s={$attr:{}};T(d,b,B);var D=X(B,[],s);J(m.scope)&&y(D);a=D.concat(a);R(c,s)}else B=p,b.html(s);a.unshift(M);l=fa(a,B,c,e,b,m,f,g,h);r(d,function(a,c){a==B&&(d[c]=b[0])});for(q=S(b[0].childNodes,e);k.length;){s=
k.shift();v=k.shift();var F=k.shift(),O=k.shift(),D=b[0];if(!s.$$destroyed){if(v!==p){var Z=v.className;h.hasElementTranscludeDirective&&m.replace||(D=Ub(B));T(F,A(v),D);I(A(D),Z)}v=l.transcludeOnThisElement?P(s,l.transclude,O):O;l(q,s,D,d,v)}}k=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(k?k.push(b,c,d,a):(l.transcludeOnThisElement&&(a=P(b,l.transclude,e)),l(q,b,c,d,a)))}}function da(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Na(a,
b,c,d){if(b)throw la("multidir",b.name,c.name,a,wa(d));}function za(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&D.$$addBindingClass(a);return function(a,c){var e=c.parent();b||D.$$addBindingClass(e);D.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function Xb(a,b){a=z(a||"html");switch(a){case "svg":case "math":var c=W.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}
function Q(a,b){if("srcdoc"==b)return Z.HTML;var c=va(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return Z.RESOURCE_URL}function Oa(a,c,d,e,f){var h=Q(a,e);f=g[e]||f;var k=b(d,!0,h,f);if(k){if("multiple"===e&&"select"===va(a))throw la("selmulti",wa(a));c.push({priority:100,compile:function(){return{pre:function(a,c,g){c=g.$$observers||(g.$$observers={});if(l.test(e))throw la("nodomevents");var m=g[e];m!==d&&(k=m&&b(m,!0,h,f),d=m);k&&(g[e]=k(a),(c[e]||(c[e]=[])).$$inter=
!0,(g.$$observers&&g.$$observers[e].$$scope||a).$watch(k,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function T(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=W.createDocumentFragment();a.appendChild(d);A(c).data(A(d).data());ta?(Qb=!0,ta.cleanData([d])):delete A.cache[d[A.expando]];
d=1;for(e=b.length;d<e;d++)f=b[d],A(f).remove(),a.appendChild(f),delete b[d];b[0]=c;b.length=1}function Y(a,b){return w(function(){return a.apply(null,arguments)},a,b)}function $(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,wa(d))}}var Yb=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};Yb.prototype={$normalize:xa,$addClass:function(a){a&&0<a.length&&L.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&
L.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Vc(a,b);c&&c.length&&L.addClass(this.$$element,c);(c=Vc(b,a))&&c.length&&L.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=this.$$element[0],g=Nc(f,a),h=kf(f,a),f=a;g?(this.$$element.prop(a,b),e=g):h&&(this[h]=b,f=h);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=vc(a,"-"));g=va(this.$$element);if("a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=B(b,"src"===a);else if("img"===g&&"srcset"===a){for(var g=
"",h=N(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(h)?k:/(,)/,h=h.split(k),k=Math.floor(h.length/2),l=0;l<k;l++)var q=2*l,g=g+B(N(h[q]),!0),g=g+(" "+N(h[q+1]));h=N(h[2*l]).split(/\s/);g+=B(N(h[0]),!0);2===h.length&&(g+=" "+N(h[1]));this[a]=b=g}!1!==d&&(null===b||b===t?this.$$element.removeAttr(e):this.$$element.attr(e,b));(a=this.$$observers)&&r(a[f],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ia()),e=d[a]||(d[a]=[]);e.push(b);
m.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])});return function(){Xa(e,b)}}};var V=b.startSymbol(),ma=b.endSymbol(),Tc="{{"==V||"}}"==ma?ra:function(a){return a.replace(/\{\{/g,V).replace(/}}/g,ma)},U=/^ngAttr[A-Z]/;D.$$addBindingInfo=k?function(a,b){var c=a.data("$binding")||[];H(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:E;D.$$addBindingClass=k?function(a){I(a,"ng-binding")}:E;D.$$addScopeInfo=k?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",
b)}:E;D.$$addScopeClass=k?function(a,b){I(a,b?"ng-isolate-scope":"ng-scope")}:E;return D}]}function xa(b){return db(b.replace(Sc,""))}function Vc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Uc(b){b=A(b);var a=b.length;if(1>=a)return b;for(;a--;)8===b[a].nodeType&&qf.call(b,a,1);return b}function Fe(){var b={},a=!1,c=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,c){La(a,
"controller");J(a)?w(b,a):b[a]=c};this.allowGlobals=function(){a=!0};this.$get=["$injector","$window",function(d,e){function f(a,b,c,d){if(!a||!J(a.$scope))throw R("$controller")("noscp",d,b);a.$scope[b]=c}return function(g,h,l,k){var n,p,q;l=!0===l;k&&C(k)&&(q=k);if(C(g)){k=g.match(c);if(!k)throw rf("ctrlfmt",g);p=k[1];q=q||k[3];g=b.hasOwnProperty(p)?b[p]:xc(h.$scope,p,!0)||(a?xc(e,p,!0):t);sb(g,p,!0)}if(l)return l=(H(g)?g[g.length-1]:g).prototype,n=Object.create(l||null),q&&f(h,q,n,p||g.name),w(function(){d.invoke(g,
n,h,p);return n},{instance:n,identifier:q});n=d.instantiate(g,h,p);q&&f(h,q,n,p||g.name);return n}}]}function Ge(){this.$get=["$window",function(b){return A(b.document)}]}function He(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function Zb(b,a){if(C(b)){var c=b.replace(sf,"").trim();if(c){var d=a("Content-Type");(d=d&&0===d.indexOf(Wc))||(d=(d=c.match(tf))&&uf[d[0]].test(c));d&&(b=qc(c))}}return b}function Xc(b){var a=ia(),c,d,e;if(!b)return a;r(b.split("\n"),
function(b){e=b.indexOf(":");c=z(N(b.substr(0,e)));d=N(b.substr(e+1));c&&(a[c]=a[c]?a[c]+", "+d:d)});return a}function Yc(b){var a=J(b)?b:t;return function(c){a||(a=Xc(b));return c?(c=a[z(c)],void 0===c&&(c=null),c):a}}function Zc(b,a,c,d){if(G(d))return d(b,a,c);r(d,function(d){b=d(b,a,c)});return b}function Ke(){var b=this.defaults={transformResponse:[Zb],transformRequest:[function(a){return J(a)&&"[object File]"!==Ca.call(a)&&"[object Blob]"!==Ca.call(a)&&"[object FormData]"!==Ca.call(a)?$a(a):
a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:sa($b),put:sa($b),patch:sa($b)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=!1;this.useApplyAsync=function(b){return y(b)?(a=!!b,this):a};var c=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(d,e,f,g,h,l){function k(a){function c(a){var b=w({},a);b.data=a.data?Zc(a.data,a.headers,a.status,e.transformResponse):a.data;a=a.status;return 200<=a&&300>a?
b:h.reject(b)}function d(a){var b,c={};r(a,function(a,d){G(a)?(b=a(),null!=b&&(c[d]=b)):c[d]=a});return c}if(!ca.isObject(a))throw R("$http")("badreq",a);var e=w({method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse},a);e.headers=function(a){var c=b.headers,e=w({},a.headers),f,g,c=w({},c.common,c[z(a.method)]);a:for(f in c){a=z(f);for(g in e)if(z(g)===a)continue a;e[f]=c[f]}return d(e)}(a);e.method=ub(e.method);var f=[function(a){var d=a.headers,e=Zc(a.data,Yc(d),
t,a.transformRequest);x(e)&&r(d,function(a,b){"content-type"===z(b)&&delete d[b]});x(a.withCredentials)&&!x(b.withCredentials)&&(a.withCredentials=b.withCredentials);return n(a,e).then(c,c)},t],g=h.when(e);for(r(u,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError);(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var k=f.shift(),g=g.then(a,k)}g.success=function(a){g.then(function(b){a(b.data,b.status,b.headers,e)});return g};g.error=
function(a){g.then(null,function(b){a(b.data,b.status,b.headers,e)});return g};return g}function n(c,f){function l(b,c,d,e){function f(){m(c,b,d,e)}I&&(200<=b&&300>b?I.put(P,[b,c,Xc(d),e]):I.remove(P));a?g.$applyAsync(f):(f(),g.$$phase||g.$apply())}function m(a,b,d,e){b=Math.max(b,0);(200<=b&&300>b?L.resolve:L.reject)({data:a,status:b,headers:Yc(d),config:c,statusText:e})}function n(a){m(a.data,a.status,sa(a.headers()),a.statusText)}function u(){var a=k.pendingRequests.indexOf(c);-1!==a&&k.pendingRequests.splice(a,
1)}var L=h.defer(),B=L.promise,I,D,S=c.headers,P=p(c.url,c.params);k.pendingRequests.push(c);B.then(u,u);!c.cache&&!b.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(I=J(c.cache)?c.cache:J(b.cache)?b.cache:q);I&&(D=I.get(P),y(D)?D&&G(D.then)?D.then(n,n):H(D)?m(D[1],D[0],sa(D[2]),D[3]):m(D,200,{},"OK"):I.put(P,B));x(D)&&((D=$c(c.url)?e.cookies()[c.xsrfCookieName||b.xsrfCookieName]:t)&&(S[c.xsrfHeaderName||b.xsrfHeaderName]=D),d(c.method,P,f,l,S,c.timeout,c.withCredentials,c.responseType));
return B}function p(a,b){if(!b)return a;var c=[];Ed(b,function(a,b){null===a||x(a)||(H(a)||(a=[a]),r(a,function(a){J(a)&&(a=ga(a)?a.toISOString():$a(a));c.push(Ea(b)+"="+Ea(a))}))});0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&"));return a}var q=f("$http"),u=[];r(c,function(a){u.unshift(C(a)?l.get(a):l.invoke(a))});k.pendingRequests=[];(function(a){r(arguments,function(a){k[a]=function(b,c){return k(w(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){r(arguments,function(a){k[a]=
function(b,c,d){return k(w(d||{},{method:a,url:b,data:c}))}})})("post","put","patch");k.defaults=b;return k}]}function vf(){return new Q.XMLHttpRequest}function Le(){this.$get=["$browser","$window","$document",function(b,a,c){return wf(b,vf,b.defer,a.angular.callbacks,c[0])}]}function wf(b,a,c,d,e){function f(a,b,c){var f=e.createElement("script"),n=null;f.type="text/javascript";f.src=a;f.async=!0;n=function(a){f.removeEventListener("load",n,!1);f.removeEventListener("error",n,!1);e.body.removeChild(f);
f=null;var g=-1,u="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),u=a.type,g="error"===a.type?404:200);c&&c(g,u)};f.addEventListener("load",n,!1);f.addEventListener("error",n,!1);e.body.appendChild(f);return n}return function(e,h,l,k,n,p,q,u){function s(){m&&m();F&&F.abort()}function M(a,d,e,f,g){L!==t&&c.cancel(L);m=F=null;a(d,e,f,g);b.$$completeOutstandingRequest(E)}b.$$incOutstandingRequestCount();h=h||b.url();if("jsonp"==z(e)){var v="_"+(d.counter++).toString(36);d[v]=function(a){d[v].data=
a;d[v].called=!0};var m=f(h.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(a,b){M(k,a,d[v].data,"",b);d[v]=E})}else{var F=a();F.open(e,h,!0);r(n,function(a,b){y(a)&&F.setRequestHeader(b,a)});F.onload=function(){var a=F.statusText||"",b="response"in F?F.response:F.responseText,c=1223===F.status?204:F.status;0===c&&(c=b?200:"file"==Aa(h).protocol?404:0);M(k,c,b,F.getAllResponseHeaders(),a)};e=function(){M(k,-1,null,null,"")};F.onerror=e;F.onabort=e;q&&(F.withCredentials=!0);if(u)try{F.responseType=
u}catch(Z){if("json"!==u)throw Z;}F.send(l||null)}if(0<p)var L=c(s,p);else p&&G(p.then)&&p.then(s)}}function Ie(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):a};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(f,g,u,s){function M(c){return c.replace(k,b).replace(n,a)}function v(a){try{var b=a;a=u?e.getTrusted(u,b):e.valueOf(b);var c;if(s&&!y(a))c=a;else if(null==a)c="";
else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=$a(a)}c=a}return c}catch(g){c=ac("interr",f,g.toString()),d(c)}}s=!!s;for(var m,F,r=0,L=[],B=[],I=f.length,D=[],S=[];r<I;)if(-1!=(m=f.indexOf(b,r))&&-1!=(F=f.indexOf(a,m+h)))r!==m&&D.push(M(f.substring(r,m))),r=f.substring(m+h,F),L.push(r),B.push(c(r,v)),r=F+l,S.push(D.length),D.push("");else{r!==I&&D.push(M(f.substring(r)));break}if(u&&1<D.length)throw ac("noconcat",f);if(!g||L.length){var P=function(a){for(var b=0,c=
L.length;b<c;b++){if(s&&x(a[b]))return;D[S[b]]=a[b]}return D.join("")};return w(function(a){var b=0,c=L.length,e=Array(c);try{for(;b<c;b++)e[b]=B[b](a);return P(e)}catch(g){a=ac("interr",f,g.toString()),d(a)}},{exp:f,expressions:L,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(B,function(c,e){var f=P(c);G(b)&&b.call(this,f,c!==e?d:f,a);d=f},c)}})}}var h=b.length,l=a.length,k=new RegExp(b.replace(/./g,f),"g"),n=new RegExp(a.replace(/./g,f),"g");g.startSymbol=function(){return b};g.endSymbol=
function(){return a};return g}]}function Je(){this.$get=["$rootScope","$window","$q","$$q",function(b,a,c,d){function e(e,h,l,k){var n=a.setInterval,p=a.clearInterval,q=0,u=y(k)&&!k,s=(u?d:c).defer(),M=s.promise;l=y(l)?l:0;M.then(null,null,e);M.$$intervalId=n(function(){s.notify(q++);0<l&&q>=l&&(s.resolve(q),p(M.$$intervalId),delete f[M.$$intervalId]);u||b.$apply()},h);f[M.$$intervalId]=s;return M}var f={};e.cancel=function(b){return b&&b.$$intervalId in f?(f[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),
delete f[b.$$intervalId],!0):!1};return e}]}function Rd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(b){return 1===b?"one":"other"}}}}function bc(b){b=b.split("/");for(var a=b.length;a--;)b[a]=qb(b[a]);
return b.join("/")}function ad(b,a){var c=Aa(b);a.$$protocol=c.protocol;a.$$host=c.hostname;a.$$port=aa(c.port)||xf[c.protocol]||null}function bd(b,a){var c="/"!==b.charAt(0);c&&(b="/"+b);var d=Aa(b);a.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname);a.$$search=sc(d.search);a.$$hash=decodeURIComponent(d.hash);a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function ya(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Ga(b){var a=b.indexOf("#");
return-1==a?b:b.substr(0,a)}function Fb(b){return b.replace(/(#.+)|#$/,"$1")}function cc(b){return b.substr(0,Ga(b).lastIndexOf("/")+1)}function dc(b,a){this.$$html5=!0;a=a||"";var c=cc(b);ad(b,this);this.$$parse=function(a){var b=ya(c,a);if(!C(b))throw Gb("ipthprfx",a,c);bd(b,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Pb(this.$$search),b=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$parseLinkUrl=
function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;(f=ya(b,d))!==t?(g=f,g=(f=ya(a,f))!==t?c+(ya("/",f)||f):b+g):(f=ya(c,d))!==t?g=c+f:c==d+"/"&&(g=c);g&&this.$$parse(g);return!!g}}function ec(b,a){var c=cc(b);ad(b,this);this.$$parse=function(d){d=ya(b,d)||ya(c,d);var e;"#"===d.charAt(0)?(e=ya(a,d),x(e)&&(e=d)):e=this.$$html5?d:"";bd(e,this);d=this.$$path;var f=/^\/[A-Z]:(\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,""));f.exec(e)||(d=(e=f.exec(d))?e[1]:d);this.$$path=d;this.$$compose()};
this.$$compose=function(){var c=Pb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+(this.$$url?a+this.$$url:"")};this.$$parseLinkUrl=function(a,c){return Ga(b)==Ga(a)?(this.$$parse(a),!0):!1}}function cd(b,a){this.$$html5=!0;ec.apply(this,arguments);var c=cc(b);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;b==Ga(d)?f=d:(g=ya(c,d))?f=b+a+g:c===d+"/"&&(f=c);f&&this.$$parse(f);return!!f};this.$$compose=
function(){var c=Pb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+a+this.$$url}}function Hb(b){return function(){return this[b]}}function dd(b,a){return function(c){if(x(c))return this[b];this[b]=a(c);this.$$compose();return this}}function Me(){var b="",a={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(a){return y(a)?(b=a,this):b};this.html5Mode=function(b){return Wa(b)?(a.enabled=b,this):J(b)?(Wa(b.enabled)&&(a.enabled=
b.enabled),Wa(b.requireBase)&&(a.requireBase=b.requireBase),Wa(b.rewriteLinks)&&(a.rewriteLinks=b.rewriteLinks),this):a};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=k.url(),f=k.$$state;try{d.url(a,b,c),k.$$state=d.state()}catch(g){throw k.url(e),k.$$state=f,g;}}function l(a,b){c.$broadcast("$locationChangeSuccess",k.absUrl(),a,k.$$state,b)}var k,n;n=d.baseHref();var p=d.url(),q;if(a.enabled){if(!n&&a.requireBase)throw Gb("nobase");
q=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(n||"/");n=e.history?dc:cd}else q=Ga(p),n=ec;k=new n(q,"#"+b);k.$$parseLinkUrl(p,p);k.$$state=d.state();var u=/^\s*(javascript|mailto):/i;f.on("click",function(b){if(a.rewriteLinks&&!b.ctrlKey&&!b.metaKey&&!b.shiftKey&&2!=b.which&&2!=b.button){for(var e=A(b.target);"a"!==va(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),l=e.attr("href")||e.attr("xlink:href");J(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Aa(h.animVal).href);
u.test(h)||!h||e.attr("target")||b.isDefaultPrevented()||!k.$$parseLinkUrl(h,l)||(b.preventDefault(),k.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}});Fb(k.absUrl())!=Fb(p)&&d.url(k.absUrl(),!0);var s=!0;d.onUrlChange(function(a,b){c.$evalAsync(function(){var d=k.absUrl(),e=k.$$state,f;k.$$parse(a);k.$$state=b;f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented;k.absUrl()===a&&(f?(k.$$parse(d),k.$$state=e,h(d,!1,e)):(s=!1,l(d,e)))});c.$$phase||c.$digest()});
c.$watch(function(){var a=Fb(d.url()),b=Fb(k.absUrl()),f=d.state(),g=k.$$replace,q=a!==b||k.$$html5&&e.history&&f!==k.$$state;if(s||q)s=!1,c.$evalAsync(function(){var b=k.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,k.$$state,f).defaultPrevented;k.absUrl()===b&&(d?(k.$$parse(a),k.$$state=f):(q&&h(b,g,f===k.$$state?null:k.$$state),l(a,f)))});k.$$replace=!1});return k}]}function Ne(){var b=!0,a=this;this.debugEnabled=function(a){return y(a)?(b=a,this):b};this.$get=["$window",function(c){function d(a){a instanceof
Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=c.console||{},e=b[a]||b.log||E;a=!1;try{a=!!e.apply}catch(l){}return a?function(){var a=[];r(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,
arguments)}}()}}]}function ua(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===b||"__proto__"===b)throw na("isecfld",a);return b}function oa(b,a){if(b){if(b.constructor===b)throw na("isecfn",a);if(b.window===b)throw na("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw na("isecdom",a);if(b===Object)throw na("isecobj",a);}return b}function fc(b){return b.constant}function hb(b,a,c,d,e){oa(b,e);oa(a,e);c=c.split(".");for(var f,
g=0;1<c.length;g++){f=ua(c.shift(),e);var h=0===g&&a&&a[f]||b[f];h||(h={},b[f]=h);b=oa(h,e)}f=ua(c.shift(),e);oa(b[f],e);return b[f]=d}function Pa(b){return"constructor"==b}function ed(b,a,c,d,e,f,g){ua(b,f);ua(a,f);ua(c,f);ua(d,f);ua(e,f);var h=function(a){return oa(a,f)},l=g||Pa(b)?h:ra,k=g||Pa(a)?h:ra,n=g||Pa(c)?h:ra,p=g||Pa(d)?h:ra,q=g||Pa(e)?h:ra;return function(f,g){var h=g&&g.hasOwnProperty(b)?g:f;if(null==h)return h;h=l(h[b]);if(!a)return h;if(null==h)return t;h=k(h[a]);if(!c)return h;if(null==
h)return t;h=n(h[c]);if(!d)return h;if(null==h)return t;h=p(h[d]);return e?null==h?t:h=q(h[e]):h}}function yf(b,a){return function(c,d){return b(c,d,oa,a)}}function zf(b,a,c){var d=a.expensiveChecks,e=d?Af:Bf,f=e[b];if(f)return f;var g=b.split("."),h=g.length;if(a.csp)f=6>h?ed(g[0],g[1],g[2],g[3],g[4],c,d):function(a,b){var e=0,f;do f=ed(g[e++],g[e++],g[e++],g[e++],g[e++],c,d)(a,b),b=t,a=f;while(e<h);return f};else{var l="";d&&(l+="s = eso(s, fe);\nl = eso(l, fe);\n");var k=d;r(g,function(a,b){ua(a,
c);var e=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;if(d||Pa(a))e="eso("+e+", fe)",k=!0;l+="if(s == null) return undefined;\ns="+e+";\n"});l+="return s;";a=new Function("s","l","eso","fe",l);a.toString=ea(l);k&&(a=yf(a,c));f=a}f.sharedGetter=!0;f.assign=function(a,c,d){return hb(a,d,b,c,b)};return e[b]=f}function gc(b){return G(b.valueOf)?b.valueOf():Cf.call(b)}function Oe(){var b=ia(),a=ia();this.$get=["$filter","$sniffer",function(c,d){function e(a){var b=a;a.sharedGetter&&(b=function(b,
c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign);return b}function f(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.constant||(e.inputs?f(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function g(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=gc(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function h(a,b,c,d){var e=d.$$inputs||(d.$$inputs=f(d.inputs,[])),h;if(1===e.length){var k=g,e=e[0];return a.$watch(function(a){var b=e(a);g(b,k)||(h=d(a),k=b&&
gc(b));return h},b,c)}for(var l=[],q=0,p=e.length;q<p;q++)l[q]=g;return a.$watch(function(a){for(var b=!1,c=0,f=e.length;c<f;c++){var k=e[c](a);if(b||(b=!g(k,l[c])))l[c]=k&&gc(k)}b&&(h=d(a));return h},b,c)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;G(b)&&b.apply(this,arguments);y(a)&&d.$$postDigest(function(){y(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;r(a,function(a){y(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},
function(a,c,d){g=a;G(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function n(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){G(b)&&b.apply(this,arguments);e()},c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==k&&c!==l?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return y(e)?f:e};a.$$watchDelegate&&a.$$watchDelegate!==h?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=h,c.inputs=
[a]);return c}var q={csp:d.csp,expensiveChecks:!1},u={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var m,r,t;switch(typeof d){case "string":t=d=d.trim();var L=g?a:b;m=L[t];m||(":"===d.charAt(0)&&":"===d.charAt(1)&&(r=!0,d=d.substring(2)),g=g?u:q,m=new hc(g),m=(new ib(m,c,g)).parse(d),m.constant?m.$$watchDelegate=n:r?(m=e(m),m.$$watchDelegate=m.literal?k:l):m.inputs&&(m.$$watchDelegate=h),L[t]=m);return p(m,f);case "function":return p(d,f);default:return p(E,f)}}}]}function Qe(){this.$get=
["$rootScope","$exceptionHandler",function(b,a){return fd(function(a){b.$evalAsync(a)},a)}]}function Re(){this.$get=["$browser","$exceptionHandler",function(b,a){return fd(function(a){b.defer(a)},a)}]}function fd(b,a){function c(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function d(){this.$$state={status:0}}function e(a,b){return function(c){b.call(a,c)}}function f(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,b(function(){var b,d,e;e=c.pending;
c.processScheduled=!1;c.pending=t;for(var f=0,g=e.length;f<g;++f){d=e[f][0];b=e[f][c.status];try{G(b)?d.resolve(b(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),a(h)}}}))}function g(){this.promise=new d;this.resolve=e(this,this.resolve);this.reject=e(this,this.reject);this.notify=e(this,this.notify)}var h=R("$q",TypeError);d.prototype={then:function(a,b,c){var d=new g;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&
f(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}};g.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(h("qcycle",a)):this.$$resolve(a))},$$resolve:function(b){var d,e;e=c(this,this.$$resolve,this.$$reject);try{if(J(b)||G(b))d=b&&b.then;G(d)?(this.promise.$$state.status=-1,d.call(b,e[0],e[1],this.notify)):(this.promise.$$state.value=
b,this.promise.$$state.status=1,f(this.promise.$$state))}catch(g){e[1](g),a(g)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;f(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&b(function(){for(var b,e,f=0,g=d.length;f<g;f++){e=d[f][0];b=d[f][3];try{e.notify(G(b)?b(c):c)}catch(h){a(h)}}})}};var l=function(a,b){var c=new g;b?c.resolve(a):
c.reject(a);return c.promise},k=function(a,b,c){var d=null;try{G(c)&&(d=c())}catch(e){return l(e,!1)}return d&&G(d.then)?d.then(function(){return l(a,b)},function(a){return l(a,!1)}):l(a,b)},n=function(a,b,c,d){var e=new g;e.resolve(a);return e.promise.then(b,c,d)},p=function u(a){if(!G(a))throw h("norslvr",a);if(!(this instanceof u))return new u(a);var b=new g;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};p.defer=function(){return new g};p.reject=function(a){var b=new g;
b.reject(a);return b.promise};p.when=n;p.all=function(a){var b=new g,c=0,d=H(a)?[]:{};r(a,function(a,e){c++;n(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};return p}function $e(){this.$get=["$window","$timeout",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=
c(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};f.supported=e;return f}]}function Pe(){function b(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++ob;this.$$ChildScope=null}b.prototype=a;return b}var a=10,c=R("$rootScope"),d=null,e=null;this.digestTtl=function(b){arguments.length&&(a=b);return a};this.$get=["$injector","$exceptionHandler",
"$parse","$browser",function(f,g,h,l){function k(a){a.currentScope.$$destroyed=!0}function n(){this.$id=++ob;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null}function p(a){if(v.$$phase)throw c("inprog",v.$$phase);v.$$phase=a}function q(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];
while(a=a.$parent)}function u(){}function s(){for(;t.length;)try{t.shift()()}catch(a){g(a)}e=null}function M(){null===e&&(e=l.defer(function(){v.$apply(s)}))}n.prototype={constructor:n,$new:function(a,c){var d;c=c||this;a?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=b(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(a||c!=this)&&d.$on("$destroy",k);return d},
$watch:function(a,b,c){var e=h(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e);var f=this.$$watchers,g={fn:b,last:u,get:e,exp:a,eq:!!c};d=null;G(b)||(g.fn=E);f||(f=this.$$watchers=[]);f.unshift(g);return function(){Xa(f,g);d=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],
function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});r(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!x(e)){if(J(e))if(Sa(e))for(f!==p&&(f=p,u=f.length=0,l++),a=e.length,u!==a&&(l++,f.length=u=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==n&&(f=n={},u=0,l++);a=0;for(b in e)e.hasOwnProperty(b)&&(a++,g=e[b],h=
f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(u++,f[b]=g,l++));if(u>a)for(b in l++,f)e.hasOwnProperty(b)||(u--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,g,k=1<b.length,l=0,q=h(a,c),p=[],n={},m=!0,u=0;return this.$watch(q,function(){m?(m=!1,b(e,e,d)):b(e,g,d);if(k)if(J(e))if(Sa(e)){g=Array(e.length);for(var a=0;a<e.length;a++)g[a]=e[a]}else for(a in g={},e)tc.call(e,a)&&(g[a]=e[a]);else g=e})},$digest:function(){var b,f,h,k,q,n,r=a,t,O=[],M,y;p("$digest");l.$$checkUrlChange();
this===v&&null!==e&&(l.defer.cancel(e),s());d=null;do{n=!1;for(t=this;m.length;){try{y=m.shift(),y.scope.$eval(y.expression,y.locals)}catch(w){g(w)}d=null}a:do{if(k=t.$$watchers)for(q=k.length;q--;)try{if(b=k[q])if((f=b.get(t))!==(h=b.last)&&!(b.eq?ha(f,h):"number"===typeof f&&"number"===typeof h&&isNaN(f)&&isNaN(h)))n=!0,d=b,b.last=b.eq?Da(f,null):f,b.fn(f,h===u?f:h,t),5>r&&(M=4-r,O[M]||(O[M]=[]),O[M].push({msg:G(b.exp)?"fn: "+(b.exp.name||b.exp.toString()):b.exp,newVal:f,oldVal:h}));else if(b===
d){n=!1;break a}}catch(A){g(A)}if(!(k=t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(k=t.$$nextSibling);)t=t.$parent}while(t=k);if((n||m.length)&&!r--)throw v.$$phase=null,c("infdig",a,O);}while(n||m.length);for(v.$$phase=null;F.length;)try{F.shift()()}catch(x){g(x)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(this!==v){for(var b in this.$$listenerCount)q(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=
this.$$nextSibling);a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=E;this.$on=this.$watch=this.$watchGroup=function(){return E};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,
b){return h(a)(this,b)},$evalAsync:function(a,b){v.$$phase||m.length||l.defer(function(){m.length&&v.$digest()});m.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){F.push(a)},$apply:function(a){try{return p("$apply"),this.$eval(a)}catch(b){g(b)}finally{v.$$phase=null;try{v.$digest()}catch(c){throw g(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&t.push(b);M()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||
(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,q(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,f=!1,h={name:a,targetScope:e,stopPropagation:function(){f=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=Ya([h],arguments,1),l,q;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(q=d.length;l<q;l++)if(d[l])try{d[l].apply(null,k)}catch(p){g(p)}else d.splice(l,1),l--,q--;if(f)return h.currentScope=
null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var f=Ya([e],arguments,1),h,l;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(l=d.length;h<l;h++)if(d[h])try{d[h].apply(null,f)}catch(k){g(k)}else d.splice(h,1),h--,l--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=
c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var v=new n,m=v.$$asyncQueue=[],F=v.$$postDigestQueue=[],t=v.$$applyAsyncQueue=[];return v}]}function Sd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(a){return y(a)?(b=a,this):b};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a=b,this):a};this.$get=function(){return function(c,d){var e=d?a:b,f;f=Aa(c).href;return""===f||f.match(e)?c:"unsafe:"+
f}}}function Df(b){if("self"===b)return b;if(C(b)){if(-1<b.indexOf("***"))throw Ba("iwcard",b);b=gd(b).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+b+"$")}if(Ua(b))return new RegExp("^"+b.source+"$");throw Ba("imatcher");}function hd(b){var a=[];y(b)&&r(b,function(b){a.push(Df(b))});return a}function Te(){this.SCE_CONTEXTS=pa;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){arguments.length&&(b=hd(a));return b};this.resourceUrlBlacklist=function(b){arguments.length&&
(a=hd(b));return a};this.$get=["$injector",function(c){function d(a,b){return"self"===a?$c(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw Ba("unsafe");};c.has("$sanitize")&&(f=c.get("$sanitize"));var g=e(),h={};h[pa.HTML]=e(g);h[pa.CSS]=e(g);h[pa.URL]=
e(g);h[pa.JS]=e(g);h[pa.RESOURCE_URL]=e(h[pa.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ba("icontext",a,b);if(null===b||b===t||""===b)return b;if("string"!==typeof b)throw Ba("itype",a);return new c(b)},getTrusted:function(c,e){if(null===e||e===t||""===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(c===pa.RESOURCE_URL){var g=Aa(e.toString()),p,q,u=!1;p=0;for(q=b.length;p<q;p++)if(d(b[p],g)){u=!0;break}if(u)for(p=
0,q=a.length;p<q;p++)if(d(a[p],g)){u=!1;break}if(u)return e;throw Ba("insecurl",e.toString());}if(c===pa.HTML)return f(e);throw Ba("unsafe");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Se(){var b=!0;this.enabled=function(a){arguments.length&&(b=!!a);return b};this.$get=["$parse","$sceDelegate",function(a,c){if(b&&8>Qa)throw Ba("iequirks");var d=sa(pa);d.isEnabled=function(){return b};d.trustAs=c.trustAs;d.getTrusted=c.getTrusted;d.valueOf=c.valueOf;b||(d.trustAs=
d.getTrusted=function(a,b){return b},d.valueOf=ra);d.parseAs=function(b,c){var e=a(c);return e.literal&&e.constant?e:a(c,function(a){return d.getTrusted(b,a)})};var e=d.parseAs,f=d.getTrusted,g=d.trustAs;r(pa,function(a,b){var c=z(b);d[db("parse_as_"+c)]=function(b){return e(a,b)};d[db("get_trusted_"+c)]=function(b){return f(a,b)};d[db("trust_as_"+c)]=function(b){return g(a,b)}});return d}]}function Ue(){this.$get=["$window","$document",function(b,a){var c={},d=aa((/android (\d+)/.exec(z((b.navigator||
{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,l=f.body&&f.body.style,k=!1,n=!1;if(l){for(var p in l)if(k=h.exec(p)){g=k[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in l&&"webkit");k=!!("transition"in l||g+"Transition"in l);n=!!("animation"in l||g+"Animation"in l);!d||k&&n||(k=C(f.body.style.webkitTransition),n=C(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hasEvent:function(a){if("input"===
a&&11>=Qa)return!1;if(x(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:bb(),vendorPrefix:g,transitions:k,animations:n,android:d}}]}function We(){this.$get=["$templateCache","$http","$q",function(b,a,c){function d(e,f){d.totalPendingRequests++;var g=a.defaults&&a.defaults.transformResponse;H(g)?g=g.filter(function(a){return a!==Zb}):g===Zb&&(g=null);return a.get(e,{cache:b,transformResponse:g})["finally"](function(){d.totalPendingRequests--}).then(function(a){return a.data},
function(a){if(!f)throw la("tpload",e);return c.reject(a)})}d.totalPendingRequests=0;return d}]}function Xe(){this.$get=["$rootScope","$browser","$location",function(b,a,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var g=[];r(a,function(a){var d=ca.element(a).data("$binding");d&&r(d,function(d){c?(new RegExp("(^|\\s)"+gd(b)+"(\\s|\\||$)")).test(d)&&g.push(a):-1!=d.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,c){for(var g=["ng-","data-ng-","ng\\:"],
h=0;h<g.length;++h){var l=a.querySelectorAll("["+g[h]+"model"+(c?"=":"*=")+'"'+b+'"]');if(l.length)return l}},getLocation:function(){return c.url()},setLocation:function(a){a!==c.url()&&(c.url(a),b.$digest())},whenStable:function(b){a.notifyWhenNoOutstandingRequests(b)}}}]}function Ye(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(b,a,c,d,e){function f(f,l,k){var n=y(k)&&!k,p=(n?d:c).defer(),q=p.promise;l=a.defer(function(){try{p.resolve(f())}catch(a){p.reject(a),e(a)}finally{delete g[q.$$timeoutId]}n||
b.$apply()},l);q.$$timeoutId=l;g[l]=p;return q}var g={};f.cancel=function(b){return b&&b.$$timeoutId in g?(g[b.$$timeoutId].reject("canceled"),delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1};return f}]}function Aa(b){Qa&&($.setAttribute("href",b),b=$.href);$.setAttribute("href",b);return{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,""):"",hostname:$.hostname,port:$.port,pathname:"/"===
$.pathname.charAt(0)?$.pathname:"/"+$.pathname}}function $c(b){b=C(b)?Aa(b):b;return b.protocol===id.protocol&&b.host===id.host}function Ze(){this.$get=ea(Q)}function Fc(b){function a(c,d){if(J(c)){var e={};r(c,function(b,c){e[c]=a(c,b)});return e}return b.factory(c+"Filter",d)}this.register=a;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];a("currency",jd);a("date",kd);a("filter",Ef);a("json",Ff);a("limitTo",Gf);a("lowercase",Hf);a("number",ld);a("orderBy",md);a("uppercase",
If)}function Ef(){return function(b,a,c){if(!H(b))return b;var d;switch(typeof a){case "function":break;case "boolean":case "number":case "string":d=!0;case "object":a=Jf(a,c,d);break;default:return b}return b.filter(a)}}function Jf(b,a,c){var d=J(b)&&"$"in b;!0===a?a=ha:G(a)||(a=function(a,b){if(J(a)||J(b))return!1;a=z(""+a);b=z(""+b);return-1!==a.indexOf(b)});return function(e){return d&&!J(e)?Ha(e,b.$,a,!1):Ha(e,b,a,c)}}function Ha(b,a,c,d,e){var f=null!==b?typeof b:"null",g=null!==a?typeof a:
"null";if("string"===g&&"!"===a.charAt(0))return!Ha(b,a.substring(1),c,d);if(H(b))return b.some(function(b){return Ha(b,a,c,d)});switch(f){case "object":var h;if(d){for(h in b)if("$"!==h.charAt(0)&&Ha(b[h],a,c,!0))return!0;return e?!1:Ha(b,a,c,!1)}if("object"===g){for(h in a)if(e=a[h],!G(e)&&!x(e)&&(f="$"===h,!Ha(f?b:b[h],e,c,f,f)))return!1;return!0}return c(b,a);case "function":return!1;default:return c(b,a)}}function jd(b){var a=b.NUMBER_FORMATS;return function(b,d,e){x(d)&&(d=a.CURRENCY_SYM);x(e)&&
(e=a.PATTERNS[1].maxFrac);return null==b?b:nd(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,e).replace(/\u00A4/g,d)}}function ld(b){var a=b.NUMBER_FORMATS;return function(b,d){return null==b?b:nd(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function nd(b,a,c,d,e){if(!isFinite(b)||J(b))return"";var f=0>b;b=Math.abs(b);var g=b+"",h="",l=[],k=!1;if(-1!==g.indexOf("e")){var n=g.match(/([\d\.]+)e(-?)(\d+)/);n&&"-"==n[2]&&n[3]>e+1?b=0:(h=g,k=!0)}if(k)0<e&&1>b&&(h=b.toFixed(e),b=parseFloat(h));else{g=(g.split(od)[1]||
"").length;x(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac));b=+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+-e);var g=(""+b).split(od),k=g[0],g=g[1]||"",p=0,q=a.lgSize,u=a.gSize;if(k.length>=q+u)for(p=k.length-q,n=0;n<p;n++)0===(p-n)%u&&0!==n&&(h+=c),h+=k.charAt(n);for(n=p;n<k.length;n++)0===(k.length-n)%q&&0!==n&&(h+=c),h+=k.charAt(n);for(;g.length<e;)g+="0";e&&"0"!==e&&(h+=d+g.substr(0,e))}0===b&&(f=!1);l.push(f?a.negPre:a.posPre,h,f?a.negSuf:a.posSuf);return l.join("")}function Ib(b,a,
c){var d="";0>b&&(d="-",b=-b);for(b=""+b;b.length<a;)b="0"+b;c&&(b=b.substr(b.length-a));return d+b}function U(b,a,c,d){c=c||0;return function(e){e=e["get"+b]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return Ib(e,a,d)}}function Jb(b,a){return function(c,d){var e=c["get"+b](),f=ub(a?"SHORT"+b:b);return d[f][e]}}function pd(b){var a=(new Date(b,0,1)).getDay();return new Date(b,0,(4>=a?5:12)-a)}function qd(b){return function(a){var c=pd(a.getFullYear());a=+new Date(a.getFullYear(),a.getMonth(),a.getDate()+
(4-a.getDay()))-+c;a=1+Math.round(a/6048E5);return Ib(a,b)}}function ic(b,a){return 0>=b.getFullYear()?a.ERAS[0]:a.ERAS[1]}function kd(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,l=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=aa(b[9]+b[10]),g=aa(b[9]+b[11]));h.call(a,aa(b[1]),aa(b[2])-1,aa(b[3]));f=aa(b[4]||0)-f;g=aa(b[5]||0)-g;h=aa(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));l.call(a,f,g,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
return function(c,e,f){var g="",h=[],l,k;e=e||"mediumDate";e=b.DATETIME_FORMATS[e]||e;C(c)&&(c=Kf.test(c)?aa(c):a(c));Y(c)&&(c=new Date(c));if(!ga(c))return c;for(;e;)(k=Lf.exec(e))?(h=Ya(h,k,1),e=h.pop()):(h.push(e),e=null);f&&"UTC"===f&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset()));r(h,function(a){l=Mf[a];g+=l?l(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Ff(){return function(b,a){x(a)&&(a=2);return $a(b,a)}}function Gf(){return function(b,
a){Y(b)&&(b=b.toString());return H(b)||C(b)?(a=Infinity===Math.abs(Number(a))?Number(a):aa(a))?0<a?b.slice(0,a):b.slice(a):C(b)?"":[]:b}}function md(b){return function(a,c,d){function e(a,b){return b?function(b,c){return a(c,b)}:a}function f(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}function g(a){return null===a?"null":"function"===typeof a.valueOf&&(a=a.valueOf(),f(a))||"function"===typeof a.toString&&(a=a.toString(),f(a))?a:""}function h(a,b){var c=
typeof a,d=typeof b;c===d&&"object"===c&&(a=g(a),b=g(b));return c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!Sa(a))return a;c=H(c)?c:[c];0===c.length&&(c=["+"]);c=c.map(function(a){var c=!1,d=a||ra;if(C(a)){if("+"==a.charAt(0)||"-"==a.charAt(0))c="-"==a.charAt(0),a=a.substring(1);if(""===a)return e(h,c);d=b(a);if(d.constant){var f=d();return e(function(a,b){return h(a[f],b[f])},c)}}return e(function(a,b){return h(d(a),d(b))},c)});return Za.call(a).sort(e(function(a,
b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function Ia(b){G(b)&&(b={link:b});b.restrict=b.restrict||"AC";return ea(b)}function rd(b,a,c,d,e){var f=this,g=[],h=f.$$parentForm=b.parent().controller("form")||Kb;f.$error={};f.$$success={};f.$pending=t;f.$name=e(a.name||a.ngForm||"")(c);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;h.$addControl(f);f.$rollbackViewValue=function(){r(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){r(g,
function(a){a.$commitViewValue()})};f.$addControl=function(a){La(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a)};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];r(f.$pending,function(b,c){f.$setValidity(c,null,a)});r(f.$error,function(b,c){f.$setValidity(c,null,a)});r(f.$$success,function(b,c){f.$setValidity(c,null,a)});Xa(g,a)};sd({ctrl:this,$element:b,set:function(a,b,c){var d=a[b];
d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(Xa(d,c),0===d.length&&delete a[b])},parentForm:h,$animate:d});f.$setDirty=function(){d.removeClass(b,Ra);d.addClass(b,Lb);f.$dirty=!0;f.$pristine=!1;h.$setDirty()};f.$setPristine=function(){d.setClass(b,Ra,Lb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;r(g,function(a){a.$setPristine()})};f.$setUntouched=function(){r(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){d.addClass(b,"ng-submitted");
f.$submitted=!0;h.$setSubmitted()}}function jc(b){b.$formatters.push(function(a){return b.$isEmpty(a)?a:a.toString()})}function jb(b,a,c,d,e,f){var g=z(a[0].type);if(!e.android){var h=!1;a.on("compositionstart",function(a){h=!0});a.on("compositionend",function(){h=!1;l()})}var l=function(b){k&&(f.defer.cancel(k),k=null);if(!h){var e=a.val();b=b&&b.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=N(e));(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,b)}};if(e.hasEvent("input"))a.on("input",
l);else{var k,n=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};a.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||n(a,this,this.value)});if(e.hasEvent("paste"))a.on("paste cut",n)}a.on("change",l);d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Mb(b,a){return function(c,d){var e,f;if(ga(c))return c;if(C(c)){'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1));if(Nf.test(c))return new Date(c);b.lastIndex=
0;if(e=b.exec(c))return e.shift(),f=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(b,c){c<a.length&&(f[a[c]]=+b)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function kb(b,a,c,d){return function(e,f,g,h,l,k,n){function p(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function q(a){return y(a)?ga(a)?a:c(a):t}td(e,f,g,h);
jb(e,f,g,h,l,k);var u=h&&h.$options&&h.$options.timezone,s;h.$$parserName=b;h.$parsers.push(function(b){return h.$isEmpty(b)?null:a.test(b)?(b=c(b,s),"UTC"===u&&b.setMinutes(b.getMinutes()-b.getTimezoneOffset()),b):t});h.$formatters.push(function(a){if(a&&!ga(a))throw Nb("datefmt",a);if(p(a)){if((s=a)&&"UTC"===u){var b=6E4*s.getTimezoneOffset();s=new Date(s.getTime()+b)}return n("date")(a,d,u)}s=null;return""});if(y(g.min)||g.ngMin){var r;h.$validators.min=function(a){return!p(a)||x(r)||c(a)>=r};
g.$observe("min",function(a){r=q(a);h.$validate()})}if(y(g.max)||g.ngMax){var v;h.$validators.max=function(a){return!p(a)||x(v)||c(a)<=v};g.$observe("max",function(a){v=q(a);h.$validate()})}}}function td(b,a,c,d){(d.$$hasNativeValidators=J(a[0].validity))&&d.$parsers.push(function(b){var c=a.prop("validity")||{};return c.badInput&&!c.typeMismatch?t:b})}function ud(b,a,c,d,e){if(y(d)){b=b(d);if(!b.constant)throw R("ngModel")("constexpr",c,d);return b(a)}return e}function kc(b,a){b="ngClass"+b;return["$animate",
function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],n=0;n<b.length;n++)if(e==b[n])continue a;c.push(e)}return c}function e(a){if(!H(a)){if(C(a))return a.split(" ");if(J(a)){var b=[];r(a,function(a,c){a&&(b=b.concat(c.split(" ")))});return b}}return a}return{restrict:"AC",link:function(f,g,h){function l(a,b){var c=g.data("$classCounts")||{},d=[];r(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}function k(b){if(!0===
a||f.$index%2===a){var k=e(b||[]);if(!n){var u=l(k,1);h.$addClass(u)}else if(!ha(b,n)){var s=e(n),u=d(k,s),k=d(s,k),u=l(u,1),k=l(k,-1);u&&u.length&&c.addClass(g,u);k&&k.length&&c.removeClass(g,k)}}n=sa(b)}var n;f.$watch(h[b],k,!0);h.$observe("class",function(a){k(f.$eval(h[b]))});"ngClass"!==b&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var k=e(f.$eval(h[b]));g===a?(g=l(k,1),h.$addClass(g)):(g=l(k,-1),h.$removeClass(g))}})}}}]}function sd(b){function a(a,b){b&&!f[a]?(k.addClass(e,a),
f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function c(b,c){b=b?"-"+vc(b,"-"):"";a(lb+b,!0===c);a(vd+b,!1===c)}var d=b.ctrl,e=b.$element,f={},g=b.set,h=b.unset,l=b.parentForm,k=b.$animate;f[vd]=!(f[lb]=e.hasClass(lb));d.$setValidity=function(b,e,f){e===t?(d.$pending||(d.$pending={}),g(d.$pending,b,f)):(d.$pending&&h(d.$pending,b,f),wd(d.$pending)&&(d.$pending=t));Wa(e)?e?(h(d.$error,b,f),g(d.$$success,b,f)):(g(d.$error,b,f),h(d.$$success,b,f)):(h(d.$error,b,f),h(d.$$success,b,f));d.$pending?(a(xd,
!0),d.$valid=d.$invalid=t,c("",null)):(a(xd,!1),d.$valid=wd(d.$error),d.$invalid=!d.$valid,c("",d.$valid));e=d.$pending&&d.$pending[b]?t:d.$error[b]?!1:d.$$success[b]?!0:null;c(b,e);l.$setValidity(b,e,d)}}function wd(b){if(b)for(var a in b)return!1;return!0}var Of=/^\/(.+)\/([a-z]*)$/,z=function(b){return C(b)?b.toLowerCase():b},tc=Object.prototype.hasOwnProperty,ub=function(b){return C(b)?b.toUpperCase():b},Qa,A,ta,Za=[].slice,qf=[].splice,Pf=[].push,Ca=Object.prototype.toString,Ja=R("ng"),ca=Q.angular||
(Q.angular={}),cb,ob=0;Qa=W.documentMode;E.$inject=[];ra.$inject=[];var H=Array.isArray,N=function(b){return C(b)?b.trim():b},gd=function(b){return b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},bb=function(){if(y(bb.isActive_))return bb.isActive_;var b=!(!W.querySelector("[ng-csp]")&&!W.querySelector("[data-ng-csp]"));if(!b)try{new Function("")}catch(a){b=!0}return bb.isActive_=b},rb=["ng-","data-ng-","ng:","x-ng-"],Md=/[A-Z]/g,wc=!1,Qb,qa=1,pb=3,Qd={full:"1.3.15",major:1,
minor:3,dot:15,codeName:"locality-filtration"};T.expando="ng339";var zb=T.cache={},hf=1;T._data=function(b){return this.cache[b[this.expando]]||{}};var cf=/([\:\-\_]+(.))/g,df=/^moz([A-Z])/,Qf={mouseleave:"mouseout",mouseenter:"mouseover"},Tb=R("jqLite"),gf=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Sb=/<|&#?\w+;/,ef=/<([\w:]+)/,ff=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>",
"</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;var Ka=T.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===W.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),T(Q).on("load",a))},toString:function(){var b=[];r(this,function(a){b.push(""+a)});return"["+b.join(", ")+"]"},eq:function(b){return 0<=
b?A(this[b]):A(this[this.length+b])},length:0,push:Pf,sort:[].sort,splice:[].splice},Eb={};r("multiple selected checked disabled readOnly required open".split(" "),function(b){Eb[z(b)]=b});var Oc={};r("input select option textarea button form details".split(" "),function(b){Oc[b]=!0});var Pc={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Vb,removeData:xb},function(b,a){T[a]=b});r({data:Vb,inheritedData:Db,scope:function(b){return A.data(b,"$scope")||
Db(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return A.data(b,"$isolateScope")||A.data(b,"$isolateScopeNoTemplate")},controller:Kc,injector:function(b){return Db(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Ab,css:function(b,a,c){a=db(a);if(y(c))b.style[a]=c;else return b.style[a]},attr:function(b,a,c){var d=z(a);if(Eb[d])if(y(c))c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));else return b[a]||(b.attributes.getNamedItem(a)||E).specified?
d:t;else if(y(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?t:b},prop:function(b,a,c){if(y(c))b[a]=c;else return b[a]},text:function(){function b(a,b){if(x(b)){var d=a.nodeType;return d===qa||d===pb?a.textContent:""}a.textContent=b}b.$dv="";return b}(),val:function(b,a){if(x(a)){if(b.multiple&&"select"===va(b)){var c=[];r(b.options,function(a){a.selected&&c.push(a.value||a.text)});return 0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(x(a))return b.innerHTML;
wb(b,!0);b.innerHTML=a},empty:Lc},function(b,a){T.prototype[a]=function(a,d){var e,f,g=this.length;if(b!==Lc&&(2==b.length&&b!==Ab&&b!==Kc?a:d)===t){if(J(a)){for(e=0;e<g;e++)if(b===Vb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}e=b.$dv;g=e===t?Math.min(g,1):g;for(f=0;f<g;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;e<g;e++)b(this[e],a,d);return this}});r({removeData:xb,on:function a(c,d,e,f){if(y(f))throw Tb("onargs");if(Gc(c)){var g=yb(c,!0);f=g.events;var h=g.handle;h||(h=
g.handle=lf(c,f));for(var g=0<=d.indexOf(" ")?d.split(" "):[d],l=g.length;l--;){d=g[l];var k=f[d];k||(f[d]=[],"mouseenter"===d||"mouseleave"===d?a(c,Qf[d],function(a){var c=a.relatedTarget;c&&(c===this||this.contains(c))||h(a,d)}):"$destroy"!==d&&c.addEventListener(d,h,!1),k=f[d]);k.push(e)}}},off:Jc,one:function(a,c,d){a=A(a);a.on(c,function f(){a.off(c,d);a.off(c,f)});a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;wb(a);r(new T(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,
a);d=c})},children:function(a){var c=[];r(a.childNodes,function(a){a.nodeType===qa&&c.push(a)});return c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){var d=a.nodeType;if(d===qa||11===d){c=new T(c);for(var d=0,e=c.length;d<e;d++)a.appendChild(c[d])}},prepend:function(a,c){if(a.nodeType===qa){var d=a.firstChild;r(new T(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=A(c).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(c,a);c.appendChild(a)},
remove:Mc,detach:function(a){Mc(a,!0)},after:function(a,c){var d=a,e=a.parentNode;c=new T(c);for(var f=0,g=c.length;f<g;f++){var h=c[f];e.insertBefore(h,d.nextSibling);d=h}},addClass:Cb,removeClass:Bb,toggleClass:function(a,c,d){c&&r(c.split(" "),function(c){var f=d;x(f)&&(f=!Ab(a,c));(f?Cb:Bb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Ub,
triggerHandler:function(a,c,d){var e,f,g=c.type||c,h=yb(a);if(h=(h=h&&h.events)&&h[g])e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:E,type:g,target:a},c.type&&(e=w(e,c)),c=sa(h),f=d?[e].concat(d):[e],r(c,function(c){e.isImmediatePropagationStopped()||c.apply(a,
f)})}},function(a,c){T.prototype[c]=function(c,e,f){for(var g,h=0,l=this.length;h<l;h++)x(g)?(g=a(this[h],c,e,f),y(g)&&(g=A(g))):Ic(g,a(this[h],c,e,f));return y(g)?g:this};T.prototype.bind=T.prototype.on;T.prototype.unbind=T.prototype.off});eb.prototype={put:function(a,c){this[Ma(a,this.nextUid)]=c},get:function(a){return this[Ma(a,this.nextUid)]},remove:function(a){var c=this[a=Ma(a,this.nextUid)];delete this[a];return c}};var Rc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Rf=/,/,Sf=/^\s*(_?)(\S+?)\1\s*$/,
Qc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Fa=R("$injector");ab.$$annotate=function(a,c,d){var e;if("function"===typeof a){if(!(e=a.$inject)){e=[];if(a.length){if(c)throw C(d)&&d||(d=a.name||mf(a)),Fa("strictdi",d);c=a.toString().replace(Qc,"");c=c.match(Rc);r(c[1].split(Rf),function(a){a.replace(Sf,function(a,c,d){e.push(d)})})}a.$inject=e}}else H(a)?(c=a.length-1,sb(a[c],"fn"),e=a.slice(0,c)):sb(a,"fn",!0);return e};var Tf=R("$animate"),Ce=["$provide",function(a){this.$$selectors={};this.register=function(c,
d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Tf("notcsel",c);this.$$selectors[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null);return this.$$classNameFilter};this.$get=["$$q","$$asyncCallback","$rootScope",function(a,d,e){function f(d){var f,g=a.defer();g.promise.$$cancelFn=function(){f&&f()};e.$$postDigest(function(){f=d(function(){g.resolve()})});return g.promise}function g(a,c){var d=[],e=[],f=ia();
r((a.attr("class")||"").split(/\s+/),function(a){f[a]=!0});r(c,function(a,c){var g=f[c];!1===a&&g?e.push(c):!0!==a||g||d.push(c)});return 0<d.length+e.length&&[d.length?d:null,e.length?e:null]}function h(a,c,d){for(var e=0,f=c.length;e<f;++e)a[c[e]]=d}function l(){n||(n=a.defer(),d(function(){n.resolve();n=null}));return n.promise}function k(a,c){if(ca.isObject(c)){var d=w(c.from||{},c.to||{});a.css(d)}}var n;return{animate:function(a,c,d){k(a,{from:c,to:d});return l()},enter:function(a,c,d,e){k(a,
e);d?d.after(a):c.prepend(a);return l()},leave:function(a,c){k(a,c);a.remove();return l()},move:function(a,c,d,e){return this.enter(a,c,d,e)},addClass:function(a,c,d){return this.setClass(a,c,[],d)},$$addClassImmediately:function(a,c,d){a=A(a);c=C(c)?c:H(c)?c.join(" "):"";r(a,function(a){Cb(a,c)});k(a,d);return l()},removeClass:function(a,c,d){return this.setClass(a,[],c,d)},$$removeClassImmediately:function(a,c,d){a=A(a);c=C(c)?c:H(c)?c.join(" "):"";r(a,function(a){Bb(a,c)});k(a,d);return l()},setClass:function(a,
c,d,e){var k=this,l=!1;a=A(a);var m=a.data("$$animateClasses");m?e&&m.options&&(m.options=ca.extend(m.options||{},e)):(m={classes:{},options:e},l=!0);e=m.classes;c=H(c)?c:c.split(" ");d=H(d)?d:d.split(" ");h(e,c,!0);h(e,d,!1);l&&(m.promise=f(function(c){var d=a.data("$$animateClasses");a.removeData("$$animateClasses");if(d){var e=g(a,d.classes);e&&k.$$setClassImmediately(a,e[0],e[1],d.options)}c()}),a.data("$$animateClasses",m));return m.promise},$$setClassImmediately:function(a,c,d,e){c&&this.$$addClassImmediately(a,
c);d&&this.$$removeClassImmediately(a,d);k(a,e);return l()},enabled:E,cancel:E}}]}],la=R("$compile");yc.$inject=["$provide","$$sanitizeUriProvider"];var Sc=/^((?:x|data)[\:\-_])/i,rf=R("$controller"),Wc="application/json",$b={"Content-Type":Wc+";charset=utf-8"},tf=/^\[|^\{(?!\{)/,uf={"[":/]$/,"{":/}$/},sf=/^\)\]\}',?\n/,ac=R("$interpolate"),Uf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,xf={http:80,https:443,ftp:21},Gb=R("$location"),Vf={$$html5:!1,$$replace:!1,absUrl:Hb("$$absUrl"),url:function(a){if(x(a))return this.$$url;
var c=Uf.exec(a);(c[1]||""===a)&&this.path(decodeURIComponent(c[1]));(c[2]||c[1]||""===a)&&this.search(c[3]||"");this.hash(c[5]||"");return this},protocol:Hb("$$protocol"),host:Hb("$$host"),port:Hb("$$port"),path:dd("$$path",function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(C(a)||Y(a))a=a.toString(),this.$$search=sc(a);else if(J(a))a=Da(a,{}),r(a,function(c,e){null==c&&delete a[e]}),this.$$search=
a;else throw Gb("isrcharg");break;default:x(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:dd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};r([cd,ec,dc],function(a){a.prototype=Object.create(Vf);a.prototype.state=function(c){if(!arguments.length)return this.$$state;if(a!==dc||!this.$$html5)throw Gb("nostate");this.$$state=x(c)?null:c;return this}});var na=R("$parse"),Wf=Function.prototype.call,
Xf=Function.prototype.apply,Yf=Function.prototype.bind,mb=ia();r({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,c){a.constant=a.literal=a.sharedGetter=!0;mb[c]=a});mb["this"]=function(a){return a};mb["this"].sharedGetter=!0;var nb=w(ia(),{"+":function(a,c,d,e){d=d(a,c);e=e(a,c);return y(d)?y(e)?d+e:d:y(e)?e:t},"-":function(a,c,d,e){d=d(a,c);e=e(a,c);return(y(d)?d:0)-(y(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},
"/":function(a,c,d,e){return d(a,c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},
"||":function(a,c,d,e){return d(a,c)||e(a,c)},"!":function(a,c,d){return!d(a,c)},"=":!0,"|":!0}),Zf={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},hc=function(a){this.options=a};hc.prototype={constructor:hc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,
"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var c=a+this.peek(),d=c+this.peek(2),e=nb[c],f=nb[d];nb[a]||e||f?(a=f?d:e?c:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,c){return-1!==c.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},
isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){d=d||this.index;c=y(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d;throw na("lexerr",a,c,this.text);},readNumber:function(){for(var a="",c=this.index;this.index<
this.text.length;){var d=z(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:c,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var c=
this.text.charAt(this.index);if(!this.isIdent(c)&&!this.isNumber(c))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):
d+=Zf[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===a){this.index++;this.tokens.push({index:c,text:e,constant:!0,value:d});return}d+=g}this.index++}this.throwError("Unterminated quote",c)}};var ib=function(a,c,d){this.lexer=a;this.$filter=c;this.options=d};ib.ZERO=w(function(){return 0},{sharedGetter:!0,constant:!0});ib.prototype={constructor:ib,parse:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.statements();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);
a.literal=!!a.literal;a.constant=!!a.constant;return a},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier&&this.peek().text in mb?a=mb[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,
d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw na("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index));},peekToken:function(){if(0===this.tokens.length)throw na("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){return this.peekAhead(0,a,c,d,e)},peekAhead:function(a,c,d,e,f){if(this.tokens.length>a){a=this.tokens[a];var g=a.text;if(g===c||g===d||g===e||g===
f||!(c||d||e||f))return a}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,e))?(this.tokens.shift(),a):!1},consume:function(a){if(0===this.tokens.length)throw na("ueoe",this.text);var c=this.expect(a);c||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return c},unaryFn:function(a,c){var d=nb[a];return w(function(a,f){return d(a,f,c)},{constant:c.constant,inputs:[c]})},binaryFn:function(a,c,d,e){var f=nb[c];return w(function(c,e){return f(c,e,a,d)},{constant:a.constant&&
d.constant,inputs:!e&&[a,d]})},identifier:function(){for(var a=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return zf(a,this.options,this.text)},constant:function(){var a=this.consume().value;return w(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(c,
d){for(var e,f=0,g=a.length;f<g;f++)e=a[f](c,d);return e}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},filter:function(a){var c=this.$filter(this.consume().text),d,e;if(this.peek(":"))for(d=[],e=[];this.expect(":");)d.push(this.expression());var f=[a].concat(d||[]);return w(function(f,h){var l=a(f,h);if(e){e[0]=l;for(l=d.length;l--;)e[l+1]=d[l](f,h);return c.apply(t,e)}return c(l)},{constant:!c.$stateful&&f.every(fc),inputs:!c.$stateful&&f})},expression:function(){return this.assignment()},
assignment:function(){var a=this.ternary(),c,d;return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),w(function(d,f){return a.assign(d,c(d,f),f)},{inputs:[a,c]})):a},ternary:function(){var a=this.logicalOR(),c;if(this.expect("?")&&(c=this.assignment(),this.consume(":"))){var d=this.assignment();return w(function(e,f){return a(e,f)?c(e,f):d(e,f)},{constant:a.constant&&c.constant&&d.constant})}return a},
logicalOR:function(){for(var a=this.logicalAND(),c;c=this.expect("||");)a=this.binaryFn(a,c.text,this.logicalAND(),!0);return a},logicalAND:function(){for(var a=this.equality(),c;c=this.expect("&&");)a=this.binaryFn(a,c.text,this.equality(),!0);return a},equality:function(){for(var a=this.relational(),c;c=this.expect("==","!=","===","!==");)a=this.binaryFn(a,c.text,this.relational());return a},relational:function(){for(var a=this.additive(),c;c=this.expect("<",">","<=",">=");)a=this.binaryFn(a,c.text,
this.additive());return a},additive:function(){for(var a=this.multiplicative(),c;c=this.expect("+","-");)a=this.binaryFn(a,c.text,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),c;c=this.expect("*","/","%");)a=this.binaryFn(a,c.text,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(ib.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var c=
this.identifier();return w(function(d,e,f){d=f||a(d,e);return null==d?t:c(d)},{assign:function(d,e,f){var g=a(d,f);g||a.assign(d,g={},f);return c.assign(g,e)}})},objectIndex:function(a){var c=this.text,d=this.expression();this.consume("]");return w(function(e,f){var g=a(e,f),h=d(e,f);ua(h,c);return g?oa(g[h],c):t},{assign:function(e,f,g){var h=ua(d(e,g),c),l=oa(a(e,g),c);l||a.assign(e,l={},g);return l[h]=f}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text){do d.push(this.expression());
while(this.expect(","))}this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var l=c?c(g,h):y(c)?t:g,k=a(g,h,l)||E;if(f)for(var n=d.length;n--;)f[n]=oa(d[n](g,h),e);oa(l,e);if(k){if(k.constructor===k)throw na("isecfn",e);if(k===Wf||k===Xf||k===Yf)throw na("isecff",e);}l=k.apply?k.apply(l,f):k(f[0],f[1],f[2],f[3],f[4]);f&&(f.length=0);return oa(l,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))
}this.consume("]");return w(function(c,d){for(var e=[],f=0,g=a.length;f<g;f++)e.push(a[f](c,d));return e},{literal:!0,constant:a.every(fc),inputs:a})},object:function(){var a=[],c=[];if("}"!==this.peekToken().text){do{if(this.peek("}"))break;var d=this.consume();d.constant?a.push(d.value):d.identifier?a.push(d.text):this.throwError("invalid key",d);this.consume(":");c.push(this.expression())}while(this.expect(","))}this.consume("}");return w(function(d,f){for(var g={},h=0,l=c.length;h<l;h++)g[a[h]]=
c[h](d,f);return g},{literal:!0,constant:c.every(fc),inputs:c})}};var Bf=ia(),Af=ia(),Cf=Object.prototype.valueOf,Ba=R("$sce"),pa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},la=R("$compile"),$=W.createElement("a"),id=Aa(Q.location.href);Fc.$inject=["$provide"];jd.$inject=["$locale"];ld.$inject=["$locale"];var od=".",Mf={yyyy:U("FullYear",4),yy:U("FullYear",2,0,!0),y:U("FullYear",1),MMMM:Jb("Month"),MMM:Jb("Month",!0),MM:U("Month",2,1),M:U("Month",1,1),dd:U("Date",2),d:U("Date",
1),HH:U("Hours",2),H:U("Hours",1),hh:U("Hours",2,-12),h:U("Hours",1,-12),mm:U("Minutes",2),m:U("Minutes",1),ss:U("Seconds",2),s:U("Seconds",1),sss:U("Milliseconds",3),EEEE:Jb("Day"),EEE:Jb("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0<=a?"+":"")+(Ib(Math[0<a?"floor":"ceil"](a/60),2)+Ib(Math.abs(a%60),2))},ww:qd(2),w:qd(1),G:ic,GG:ic,GGG:ic,GGGG:function(a,c){return 0>=a.getFullYear()?c.ERANAMES[0]:c.ERANAMES[1]}},Lf=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,
Kf=/^\-?\d+$/;kd.$inject=["$locale"];var Hf=ea(z),If=ea(ub);md.$inject=["$parse"];var Td=ea({restrict:"E",compile:function(a,c){if(!c.href&&!c.xlinkHref&&!c.name)return function(a,c){if("a"===c[0].nodeName.toLowerCase()){var f="[object SVGAnimatedString]"===Ca.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}}}),vb={};r(Eb,function(a,c){if("multiple"!=a){var d=xa("ng-"+c);vb[d]=function(){return{restrict:"A",priority:100,link:function(a,f,g){a.$watch(g[d],
function(a){g.$set(c,!!a)})}}}}});r(Pc,function(a,c){vb[c]=function(){return{priority:100,link:function(a,e,f){if("ngPattern"===c&&"/"==f.ngPattern.charAt(0)&&(e=f.ngPattern.match(Of))){f.$set("ngPattern",new RegExp(e[1],e[2]));return}a.$watch(f[c],function(a){f.$set(c,a)})}}}});r(["src","srcset","href"],function(a){var c=xa("ng-"+a);vb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===Ca.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",
g=null);f.$observe(c,function(c){c?(f.$set(h,c),Qa&&g&&e.prop(g,f[h])):"href"===a&&f.$set(h,null)})}}}});var Kb={$addControl:E,$$renameControl:function(a,c){a.$name=c},$removeControl:E,$setValidity:E,$setDirty:E,$setPristine:E,$setSubmitted:E};rd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var yd=function(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:rd,compile:function(d,e){d.addClass(Ra).addClass(lb);var f=e.name?"name":a&&e.ngForm?"ngForm":
!1;return{pre:function(a,d,e,k){if(!("action"in e)){var n=function(c){a.$apply(function(){k.$commitViewValue();k.$setSubmitted()});c.preventDefault()};d[0].addEventListener("submit",n,!1);d.on("$destroy",function(){c(function(){d[0].removeEventListener("submit",n,!1)},0,!1)})}var p=k.$$parentForm;f&&(hb(a,null,k.$name,k,k.$name),e.$observe(f,function(c){k.$name!==c&&(hb(a,null,k.$name,t,k.$name),p.$$renameControl(k,c),hb(a,null,k.$name,k,k.$name))}));d.on("$destroy",function(){p.$removeControl(k);
f&&hb(a,null,e[f],t,k.$name);w(k,Kb)})}}}}}]},Ud=yd(),ge=yd(!0),Nf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,$f=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ag=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,bg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,zd=/^(\d{4})-(\d{2})-(\d{2})$/,Ad=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,lc=/^(\d{4})-W(\d\d)$/,Bd=/^(\d{4})-(\d\d)$/,
Cd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Dd={text:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e)},date:kb("date",zd,Mb(zd,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":kb("datetimelocal",Ad,Mb(Ad,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:kb("time",Cd,Mb(Cd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:kb("week",lc,function(a,c){if(ga(a))return a;if(C(a)){lc.lastIndex=0;var d=lc.exec(a);if(d){var e=+d[1],f=+d[2],g=d=0,h=0,l=0,k=pd(e),f=7*(f-1);c&&(d=c.getHours(),g=
c.getMinutes(),h=c.getSeconds(),l=c.getMilliseconds());return new Date(e,0,k.getDate()+f,d,g,h,l)}}return NaN},"yyyy-Www"),month:kb("month",Bd,Mb(Bd,["yyyy","MM"]),"yyyy-MM"),number:function(a,c,d,e,f,g){td(a,c,d,e);jb(a,c,d,e,f,g);e.$$parserName="number";e.$parsers.push(function(a){return e.$isEmpty(a)?null:bg.test(a)?parseFloat(a):t});e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!Y(a))throw Nb("numfmt",a);a=a.toString()}return a});if(y(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||
x(h)||a>=h};d.$observe("min",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));h=Y(a)&&!isNaN(a)?a:t;e.$validate()})}if(y(d.max)||d.ngMax){var l;e.$validators.max=function(a){return e.$isEmpty(a)||x(l)||a<=l};d.$observe("max",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));l=Y(a)&&!isNaN(a)?a:t;e.$validate()})}},url:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e);e.$$parserName="url";e.$validators.url=function(a,c){var d=a||c;return e.$isEmpty(d)||$f.test(d)}},email:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e);
e.$$parserName="email";e.$validators.email=function(a,c){var d=a||c;return e.$isEmpty(d)||ag.test(d)}},radio:function(a,c,d,e){x(d.name)&&c.attr("name",++ob);c.on("click",function(a){c[0].checked&&e.$setViewValue(d.value,a&&a.type)});e.$render=function(){c[0].checked=d.value==e.$viewValue};d.$observe("value",e.$render)},checkbox:function(a,c,d,e,f,g,h,l){var k=ud(l,a,"ngTrueValue",d.ngTrueValue,!0),n=ud(l,a,"ngFalseValue",d.ngFalseValue,!1);c.on("click",function(a){e.$setViewValue(c[0].checked,a&&
a.type)});e.$render=function(){c[0].checked=e.$viewValue};e.$isEmpty=function(a){return!1===a};e.$formatters.push(function(a){return ha(a,k)});e.$parsers.push(function(a){return a?k:n})},hidden:E,button:E,submit:E,reset:E,file:E},zc=["$browser","$sniffer","$filter","$parse",function(a,c,d,e){return{restrict:"E",require:["?ngModel"],link:{pre:function(f,g,h,l){l[0]&&(Dd[z(h.type)]||Dd.text)(f,g,h,l[0],c,a,d,e)}}}}],cg=/^(true|false|\d+)$/,ye=function(){return{restrict:"A",priority:100,compile:function(a,
c){return cg.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}},Zd=["$compile",function(a){return{restrict:"AC",compile:function(c){a.$$addBindingClass(c);return function(c,e,f){a.$$addBindingInfo(e,f.ngBind);e=e[0];c.$watch(f.ngBind,function(a){e.textContent=a===t?"":a})}}}}],ae=["$interpolate","$compile",function(a,c){return{compile:function(d){c.$$addBindingClass(d);return function(d,f,g){d=a(f.attr(g.$attr.ngBindTemplate));
c.$$addBindingInfo(f,d.expressions);f=f[0];g.$observe("ngBindTemplate",function(a){f.textContent=a===t?"":a})}}}}],$d=["$sce","$parse","$compile",function(a,c,d){return{restrict:"A",compile:function(e,f){var g=c(f.ngBindHtml),h=c(f.ngBindHtml,function(a){return(a||"").toString()});d.$$addBindingClass(e);return function(c,e,f){d.$$addBindingInfo(e,f.ngBindHtml);c.$watch(h,function(){e.html(a.getTrustedHtml(g(c))||"")})}}}}],xe=ea({restrict:"A",require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),
be=kc("",!0),de=kc("Odd",0),ce=kc("Even",1),ee=Ia({compile:function(a,c){c.$set("ngCloak",t);a.removeClass("ng-cloak")}}),fe=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ec={},dg={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=xa("ng-"+a);Ec[c]=["$parse","$rootScope",function(d,e){return{restrict:"A",compile:function(f,g){var h=
d(g[c],null,!0);return function(c,d){d.on(a,function(d){var f=function(){h(c,{$event:d})};dg[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]});var ie=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,l,k;c.$watch(e.ngIf,function(c){c?l||g(function(c,f){l=f;c[c.length++]=W.createComment(" end ngIf: "+e.ngIf+" ");h={clone:c};a.enter(c,d.parent(),d)}):(k&&(k.remove(),k=null),l&&(l.$destroy(),l=null),h&&(k=
tb(h.clone),a.leave(k).then(function(){k=null}),h=null))})}}}],je=["$templateRequest","$anchorScroll","$animate","$sce",function(a,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ca.noop,compile:function(f,g){var h=g.ngInclude||g.src,l=g.onload||"",k=g.autoscroll;return function(f,g,q,r,s){var t=0,v,m,F,w=function(){m&&(m.remove(),m=null);v&&(v.$destroy(),v=null);F&&(d.leave(F).then(function(){m=null}),m=F,F=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=
function(){!y(k)||k&&!f.$eval(k)||c()},m=++t;e?(a(e,!0).then(function(a){if(m===t){var c=f.$new();r.template=a;a=s(c,function(a){w();d.enter(a,null,g).then(h)});v=c;F=a;v.$emit("$includeContentLoaded",e);f.$eval(l)}},function(){m===t&&(w(),f.$emit("$includeContentError",e))}),f.$emit("$includeContentRequested",e)):(w(),r.template=null)})}}}}],Ae=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(Hc(f.template,
W).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],ke=Ia({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),we=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,c,d,e){var f=c.attr(d.$attr.ngList)||", ",g="false"!==d.ngTrim,h=g?N(f):f;e.$parsers.push(function(a){if(!x(a)){var c=[];a&&r(a.split(h),function(a){a&&c.push(g?N(a):a)});return c}});e.$formatters.push(function(a){return H(a)?
a.join(f):t});e.$isEmpty=function(a){return!a||!a.length}}}},lb="ng-valid",vd="ng-invalid",Ra="ng-pristine",Lb="ng-dirty",xd="ng-pending",Nb=new R("ngModel"),eg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,c,d,e,f,g,h,l,k,n){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=t;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;
this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=t;this.$name=n(d.name||"",!1)(a);var p=f(d.ngModel),q=p.assign,u=p,s=q,M=null,v,m=this;this.$$setOptions=function(a){if((m.$options=a)&&a.getterSetter){var c=f(d.ngModel+"()"),g=f(d.ngModel+"($$$p)");u=function(a){var d=p(a);G(d)&&(d=c(a));return d};s=function(a,c){G(p(a))?g(a,{$$$p:m.$modelValue}):q(a,m.$modelValue)}}else if(!p.assign)throw Nb("nonassign",d.ngModel,wa(e));
};this.$render=E;this.$isEmpty=function(a){return x(a)||""===a||null===a||a!==a};var F=e.inheritedData("$formController")||Kb,w=0;sd({ctrl:this,$element:e,set:function(a,c){a[c]=!0},unset:function(a,c){delete a[c]},parentForm:F,$animate:g});this.$setPristine=function(){m.$dirty=!1;m.$pristine=!0;g.removeClass(e,Lb);g.addClass(e,Ra)};this.$setDirty=function(){m.$dirty=!0;m.$pristine=!1;g.removeClass(e,Ra);g.addClass(e,Lb);F.$setDirty()};this.$setUntouched=function(){m.$touched=!1;m.$untouched=!0;g.setClass(e,
"ng-untouched","ng-touched")};this.$setTouched=function(){m.$touched=!0;m.$untouched=!1;g.setClass(e,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){h.cancel(M);m.$viewValue=m.$$lastCommittedViewValue;m.$render()};this.$validate=function(){if(!Y(m.$modelValue)||!isNaN(m.$modelValue)){var a=m.$$rawModelValue,c=m.$valid,d=m.$modelValue,e=m.$options&&m.$options.allowInvalid;m.$$runValidators(a,m.$$lastCommittedViewValue,function(f){e||c===f||(m.$modelValue=f?a:t,m.$modelValue!==d&&m.$$writeModelToScope())})}};
this.$$runValidators=function(a,c,d){function e(){var d=!0;r(m.$validators,function(e,f){var h=e(a,c);d=d&&h;g(f,h)});return d?!0:(r(m.$asyncValidators,function(a,c){g(c,null)}),!1)}function f(){var d=[],e=!0;r(m.$asyncValidators,function(f,h){var k=f(a,c);if(!k||!G(k.then))throw Nb("$asyncValidators",k);g(h,t);d.push(k.then(function(){g(h,!0)},function(a){e=!1;g(h,!1)}))});d.length?k.all(d).then(function(){h(e)},E):h(!0)}function g(a,c){l===w&&m.$setValidity(a,c)}function h(a){l===w&&d(a)}w++;var l=
w;(function(){var a=m.$$parserName||"parse";if(v===t)g(a,null);else return v||(r(m.$validators,function(a,c){g(c,null)}),r(m.$asyncValidators,function(a,c){g(c,null)})),g(a,v),v;return!0})()?e()?f():h(!1):h(!1)};this.$commitViewValue=function(){var a=m.$viewValue;h.cancel(M);if(m.$$lastCommittedViewValue!==a||""===a&&m.$$hasNativeValidators)m.$$lastCommittedViewValue=a,m.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var c=m.$$lastCommittedViewValue;if(v=
x(c)?t:!0)for(var d=0;d<m.$parsers.length;d++)if(c=m.$parsers[d](c),x(c)){v=!1;break}Y(m.$modelValue)&&isNaN(m.$modelValue)&&(m.$modelValue=u(a));var e=m.$modelValue,f=m.$options&&m.$options.allowInvalid;m.$$rawModelValue=c;f&&(m.$modelValue=c,m.$modelValue!==e&&m.$$writeModelToScope());m.$$runValidators(c,m.$$lastCommittedViewValue,function(a){f||(m.$modelValue=a?c:t,m.$modelValue!==e&&m.$$writeModelToScope())})};this.$$writeModelToScope=function(){s(a,m.$modelValue);r(m.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}})};
this.$setViewValue=function(a,c){m.$viewValue=a;m.$options&&!m.$options.updateOnDefault||m.$$debounceViewValueCommit(c)};this.$$debounceViewValueCommit=function(c){var d=0,e=m.$options;e&&y(e.debounce)&&(e=e.debounce,Y(e)?d=e:Y(e[c])?d=e[c]:Y(e["default"])&&(d=e["default"]));h.cancel(M);d?M=h(function(){m.$commitViewValue()},d):l.$$phase?m.$commitViewValue():a.$apply(function(){m.$commitViewValue()})};a.$watch(function(){var c=u(a);if(c!==m.$modelValue){m.$modelValue=m.$$rawModelValue=c;v=t;for(var d=
m.$formatters,e=d.length,f=c;e--;)f=d[e](f);m.$viewValue!==f&&(m.$viewValue=m.$$lastCommittedViewValue=f,m.$render(),m.$$runValidators(c,f,E))}return c})}],ve=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:eg,priority:1,compile:function(c){c.addClass(Ra).addClass("ng-untouched").addClass(lb);return{pre:function(a,c,f,g){var h=g[0],l=g[1]||Kb;h.$$setOptions(g[2]&&g[2].$options);l.$addControl(h);f.$observe("name",function(a){h.$name!==a&&l.$$renameControl(h,
a)});a.$on("$destroy",function(){l.$removeControl(h)})},post:function(c,e,f,g){var h=g[0];if(h.$options&&h.$options.updateOn)e.on(h.$options.updateOn,function(a){h.$$debounceViewValueCommit(a&&a.type)});e.on("blur",function(e){h.$touched||(a.$$phase?c.$evalAsync(h.$setTouched):c.$apply(h.$setTouched))})}}}}}],fg=/(\s+|^)default(\s+|$)/,ze=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,c){var d=this;this.$options=a.$eval(c.ngModelOptions);this.$options.updateOn!==t?(this.$options.updateOnDefault=
!1,this.$options.updateOn=N(this.$options.updateOn.replace(fg,function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},le=Ia({terminal:!0,priority:1E3}),me=["$locale","$interpolate",function(a,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(f,g,h){function l(a){g.text(a||"")}var k=h.count,n=h.$attr.when&&g.attr(h.$attr.when),p=h.offset||0,q=f.$eval(n)||{},u={},n=c.startSymbol(),s=c.endSymbol(),t=n+k+"-"+p+s,v=ca.noop,m;r(h,function(a,c){var d=
e.exec(c);d&&(d=(d[1]?"-":"")+z(d[2]),q[d]=g.attr(h.$attr[c]))});r(q,function(a,e){u[e]=c(a.replace(d,t))});f.$watch(k,function(c){c=parseFloat(c);var d=isNaN(c);d||c in q||(c=a.pluralCat(c-p));c===m||d&&isNaN(m)||(v(),v=f.$watch(u[c],l),m=c)})}}}],ne=["$parse","$animate",function(a,c){var d=R("ngRepeat"),e=function(a,c,d,e,k,n,p){a[d]=e;k&&(a[k]=n);a.$index=c;a.$first=0===c;a.$last=c===p-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(c&1))};return{restrict:"A",multiElement:!0,transclude:"element",
priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,l=W.createComment(" end ngRepeat: "+h+" "),k=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!k)throw d("iexp",h);var n=k[1],p=k[2],q=k[3],u=k[4],k=n.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!k)throw d("iidexp",n);var s=k[3]||k[1],y=k[2];if(q&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(q)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(q)))throw d("badident",
q);var v,m,w,x,E={$id:Ma};u?v=a(u):(w=function(a,c){return Ma(c)},x=function(a){return a});return function(a,f,g,k,n){v&&(m=function(c,d,e){y&&(E[y]=c);E[s]=d;E.$index=e;return v(a,E)});var u=ia();a.$watchCollection(p,function(g){var k,p,v=f[0],D,E=ia(),G,H,L,S,J,C,z;q&&(a[q]=g);if(Sa(g))J=g,p=m||w;else{p=m||x;J=[];for(z in g)g.hasOwnProperty(z)&&"$"!=z.charAt(0)&&J.push(z);J.sort()}G=J.length;z=Array(G);for(k=0;k<G;k++)if(H=g===J?k:J[k],L=g[H],S=p(H,L,k),u[S])C=u[S],delete u[S],E[S]=C,z[k]=C;else{if(E[S])throw r(z,
function(a){a&&a.scope&&(u[a.id]=a)}),d("dupes",h,S,L);z[k]={id:S,scope:t,clone:t};E[S]=!0}for(D in u){C=u[D];S=tb(C.clone);c.leave(S);if(S[0].parentNode)for(k=0,p=S.length;k<p;k++)S[k].$$NG_REMOVED=!0;C.scope.$destroy()}for(k=0;k<G;k++)if(H=g===J?k:J[k],L=g[H],C=z[k],C.scope){D=v;do D=D.nextSibling;while(D&&D.$$NG_REMOVED);C.clone[0]!=D&&c.move(tb(C.clone),null,A(v));v=C.clone[C.clone.length-1];e(C.scope,k,s,L,y,H,G)}else n(function(a,d){C.scope=d;var f=l.cloneNode(!1);a[a.length++]=f;c.enter(a,
null,A(v));v=f;C.clone=a;E[C.id]=C;e(C.scope,k,s,L,y,H,G)});u=E})}}}}],oe=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngShow,function(c){a[c?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],he=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngHide,function(c){a[c?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],pe=Ia(function(a,c,d){a.$watchCollection(d.ngStyle,
function(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,"")});a&&c.css(a)})}),qe=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=[],h=[],l=[],k=[],n=function(a,c){return function(){a.splice(c,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=l.length;d<e;++d)a.cancel(l[d]);d=l.length=0;for(e=k.length;d<e;++d){var s=tb(h[d].clone);k[d].$destroy();(l[d]=a.leave(s)).then(n(l,d))}h.length=0;k.length=0;(g=
f.cases["!"+c]||f.cases["?"])&&r(g,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=W.createComment(" end ngSwitchWhen: ");h.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],re=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[];e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),se=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,
link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[];e.cases["?"].push({transclude:f,element:c})}}),ue=Ia({restrict:"EAC",link:function(a,c,d,e,f){if(!f)throw R("ngTransclude")("orphan",wa(c));f(function(a){c.empty();c.append(a)})}}),Vd=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],gg=R("ngOptions"),te=ea({restrict:"A",terminal:!0}),Wd=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
e={$setViewValue:E};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var l=this,k={},n=e,p;l.databound=d.ngModel;l.init=function(a,c,d){n=a;p=d};l.addOption=function(c,d){La(c,'"option value"');k[c]=!0;n.$viewValue==c&&(a.val(c),p.parent()&&p.remove());d&&d[0].hasAttribute("selected")&&(d[0].selected=!0)};l.removeOption=function(a){this.hasOption(a)&&(delete k[a],n.$viewValue===a&&this.renderUnknownOption(a))};l.renderUnknownOption=function(c){c=
"? "+Ma(c)+" ?";p.val(c);a.prepend(p);a.val(c);p.prop("selected",!0)};l.hasOption=function(a){return k.hasOwnProperty(a)};c.$on("$destroy",function(){l.renderUnknownOption=E})}],link:function(e,g,h,l){function k(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(C.parent()&&C.remove(),c.val(a),""===a&&v.prop("selected",!0)):x(a)&&v?c.val(""):e.renderUnknownOption(a)};c.on("change",function(){a.$apply(function(){C.parent()&&C.remove();d.$setViewValue(c.val())})})}function n(a,c,d){var e;
d.$render=function(){var a=new eb(d.$viewValue);r(c.find("option"),function(c){c.selected=y(a.get(c.value))})};a.$watch(function(){ha(e,d.$viewValue)||(e=sa(d.$viewValue),d.$render())});c.on("change",function(){a.$apply(function(){var a=[];r(c.find("option"),function(c){c.selected&&a.push(c.value)});d.$setViewValue(a)})})}function p(e,f,g){function h(a,c,d){T[x]=d;G&&(T[G]=c);return a(e,T)}function k(a){var c;if(u)if(I&&H(a)){c=new eb([]);for(var d=0;d<a.length;d++)c.put(h(I,null,a[d]),!0)}else c=
new eb(a);else I&&(a=h(I,null,a));return function(d,e){var f;f=I?I:B?B:z;return u?y(c.remove(h(f,d,e))):a===h(f,d,e)}}function l(){m||(e.$$postDigest(p),m=!0)}function n(a,c,d){a[c]=a[c]||0;a[c]+=d?1:-1}function p(){m=!1;var a={"":[]},c=[""],d,l,s,t,v;s=g.$viewValue;t=L(e)||[];var B=G?Object.keys(t).sort():t,x,A,H,z,O={};v=k(s);var N=!1,U,W;Q={};for(z=0;H=B.length,z<H;z++){x=z;if(G&&(x=B[z],"$"===x.charAt(0)))continue;A=t[x];d=h(J,x,A)||"";(l=a[d])||(l=a[d]=[],c.push(d));d=v(x,A);N=N||d;A=h(C,x,A);
A=y(A)?A:"";W=I?I(e,T):G?B[z]:z;I&&(Q[W]=x);l.push({id:W,label:A,selected:d})}u||(w||null===s?a[""].unshift({id:"",label:"",selected:!N}):N||a[""].unshift({id:"?",label:"",selected:!0}));x=0;for(B=c.length;x<B;x++){d=c[x];l=a[d];R.length<=x?(s={element:E.clone().attr("label",d),label:l.label},t=[s],R.push(t),f.append(s.element)):(t=R[x],s=t[0],s.label!=d&&s.element.attr("label",s.label=d));N=null;z=0;for(H=l.length;z<H;z++)d=l[z],(v=t[z+1])?(N=v.element,v.label!==d.label&&(n(O,v.label,!1),n(O,d.label,
!0),N.text(v.label=d.label),N.prop("label",v.label)),v.id!==d.id&&N.val(v.id=d.id),N[0].selected!==d.selected&&(N.prop("selected",v.selected=d.selected),Qa&&N.prop("selected",v.selected))):(""===d.id&&w?U=w:(U=F.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),t.push(v={element:U,label:d.label,id:d.id,selected:d.selected}),n(O,d.label,!0),N?N.after(U):s.element.append(U),N=U);for(z++;t.length>z;)d=t.pop(),n(O,d.label,!1),d.element.remove()}for(;R.length>
x;){l=R.pop();for(z=1;z<l.length;++z)n(O,l[z].label,!1);l[0].element.remove()}r(O,function(a,c){0<a?q.addOption(c):0>a&&q.removeOption(c)})}var v;if(!(v=s.match(d)))throw gg("iexp",s,wa(f));var C=c(v[2]||v[1]),x=v[4]||v[6],A=/ as /.test(v[0])&&v[1],B=A?c(A):null,G=v[5],J=c(v[3]||""),z=c(v[2]?v[1]:x),L=c(v[7]),I=v[8]?c(v[8]):null,Q={},R=[[{element:f,label:""}]],T={};w&&(a(w)(e),w.removeClass("ng-scope"),w.remove());f.empty();f.on("change",function(){e.$apply(function(){var a=L(e)||[],c;if(u)c=[],r(f.val(),
function(d){d=I?Q[d]:d;c.push("?"===d?t:""===d?null:h(B?B:z,d,a[d]))});else{var d=I?Q[f.val()]:f.val();c="?"===d?t:""===d?null:h(B?B:z,d,a[d])}g.$setViewValue(c);p()})});g.$render=p;e.$watchCollection(L,l);e.$watchCollection(function(){var a=L(e),c;if(a&&H(a)){c=Array(a.length);for(var d=0,f=a.length;d<f;d++)c[d]=h(C,d,a[d])}else if(a)for(d in c={},a)a.hasOwnProperty(d)&&(c[d]=h(C,d,a[d]));return c},l);u&&e.$watchCollection(function(){return g.$modelValue},l)}if(l[1]){var q=l[0];l=l[1];var u=h.multiple,
s=h.ngOptions,w=!1,v,m=!1,F=A(W.createElement("option")),E=A(W.createElement("optgroup")),C=F.clone();h=0;for(var B=g.children(),G=B.length;h<G;h++)if(""===B[h].value){v=w=B.eq(h);break}q.init(l,w,C);u&&(l.$isEmpty=function(a){return!a||0===a.length});s?p(e,g,l):u?n(e,g,l):k(e,g,l,q)}}}}],Yd=["$interpolate",function(a){var c={addOption:E,removeOption:E};return{restrict:"E",priority:100,compile:function(d,e){if(x(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var k=
d.parent(),n=k.data("$selectController")||k.parent().data("$selectController");n&&n.databound||(n=c);f?a.$watch(f,function(a,c){e.$set("value",a);c!==a&&n.removeOption(c);n.addOption(a,d)}):n.addOption(e.value,d);d.on("$destroy",function(){n.removeOption(e.value)})}}}}],Xd=ea({restrict:"E",terminal:!1}),Bc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){e&&(d.required=!0,e.$validators.required=function(a,c){return!d.required||!e.$isEmpty(c)},d.$observe("required",function(){e.$validate()}))}}},
Ac=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){C(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw R("ngPattern")("noregexp",g,a,wa(c));f=a||t;e.$validate()});e.$validators.pattern=function(a){return e.$isEmpty(a)||x(f)||f.test(a)}}}}},Dc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=-1;d.$observe("maxlength",function(a){a=aa(a);f=isNaN(a)?-1:a;e.$validate()});
e.$validators.maxlength=function(a,c){return 0>f||e.$isEmpty(c)||c.length<=f}}}}},Cc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=0;d.$observe("minlength",function(a){f=aa(a)||0;e.$validate()});e.$validators.minlength=function(a,c){return e.$isEmpty(c)||c.length>=f}}}}};Q.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(Nd(),Pd(ca),A(W).ready(function(){Jd(W,uc)}))})(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
//# sourceMappingURL=angular.min.js.map

/**
 * State-based routing for AngularJS
 * @version v0.2.18
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return R(new(R(function(){},{prototype:a})),b)}function e(a){return Q(arguments,function(b){b!==a&&Q(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return Q(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return R({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return Q(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Q(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=P(a),d=c?[]:{};return Q(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=P(a)?[]:{};return Q(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=R(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,N(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);Q(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return O(a)&&a.then&&a.$$promises}if(!O(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return Q(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!L(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;Q(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!O(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=R({},d),u=1+q.length/3,v=!1;if(L(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),R(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return L(a.template)?this.fromString(a.template,b):L(a.templateUrl)?this.fromUrl(a.templateUrl,b):L(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return M(a)?a(b):a},this.fromUrl=function(c,d){return M(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new U.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=U.type(h)||d(U.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=R({params:{}},O(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new U.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){R(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return M(a)||P(a)&&M(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){R(this,a||{})}U=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!L(a)||"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return L(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return L(a)&&(m=a),m},this.strictMode=function(a){return L(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!L(a))return q;if(a!==!0&&a!==!1&&!N(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,R(f(),b))},this.isMatcher=function(a){if(!O(a))return!1;var b=!0;return Q(r.prototype,function(c,d){M(c)&&(b=b&&L(a[d])&&M(a[d]))}),b},this.type=function(a,b,c){if(!L(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(R({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},Q(x,function(a,b){u[b]=new s(R({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),Q(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,d,e,f){function j(a){var b=O(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function k(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d?d:c.type?b.isString(c.type)?u[c.type]:c.type instanceof s?c.type:new s(c.type):"config"===e?u.any:u.string}function m(){var b={array:"search"===f?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return R(b,c,e).array}function p(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!L(c)||null==c)return q;if(c===!0||N(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function r(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=P(a.replace)?a.replace:[],N(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function t(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error("Default value ("+a+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return a}function v(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),L(a)?x.type.$normalize(a):t()}function w(){return"{Param:"+a+" "+d+" squash: '"+A+"' optional: "+z+"}"}var x=this;e=j(e),d=k(e,d,f);var y=m();d=y?d.$asArray(y,"search"===f):d,"string"!==d.name||y||"path"!==f||e.value!==c||(e.value="");var z=e.value!==c,A=p(e,z),B=r(e,y,z,A);R(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,R(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),Q(b,function(b){Q(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return Q(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return Q(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return L(d)?d:!0}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return b?(N(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){p&&d.url()===p;p=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!M(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(N(a)){var b=a;a=function(){return b}}else if(!M(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=N(b);if(N(a)&&(a=d.compile(a)),!h&&!M(b)&&!P(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),R(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:N(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),R(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=N(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!N(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):N(b.parent)?b.parent:O(b.parent)&&N(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)M(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function t(a,b){return N(a)&&!L(b)?C[a]:M(b)&&N(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return O(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return Q(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(M(d.controllerProvider)||P(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,R({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!L(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!L(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,H=[];if(f.reload){if(N(f.reload)||O(f.reload)){if(O(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var I=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!I)throw new Error("No such reload state '"+(N(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==I;)G=H[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=H[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,S(y.params,n),S(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==y.transition&&p.update(),C;for(var J=e.when(G),K=D;K<z.length;K++,F=z[K])G=H[K]=d(G),J=v(F,c,F===b,J,G,f);var M=y.transition=J.then(function(){var d,e,g;if(y.transition!==M)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return y.transition!==M?A:(y.$current=b,y.current=b.self,y.params=c,S(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==M?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return M},y.is=function(a,b,d){d=R({relative:y.$current},d||{});var e=m(a,d.relative);return L(e)?y.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},y.includes=function(a,b,d){if(d=R({relative:y.$current},d||{}),N(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return L(e)?L(y.$current.includes[e.name])?b?j(e.params.$$values(b),n,g(b)):!0:!1:c},y.href=function(a,b,d){d=R({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!L(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new U.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(L(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(N(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new U.ParamSet;return Q(a.params||{},function(a,c){b[c]||(b[c]=new U.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?R(a.parent.params.$$new(),b):new U.ParamSet},views:function(a){var b={};return Q(L(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?R({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(a,c){var d,e={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return c=R(e,c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,c){function d(a){return 1===V&&W>=4?!!j.enabled(a):1===V&&W>=2?!!j.enabled():!!i}var e={enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}};if(a.noanimation)return e;if(j)return{enter:function(a,c,f){d(a)?b.version.minor>2?j.enter(a,null,c).then(f):j.enter(a,null,c,f):e.enter(a,c,f)},leave:function(a,c){d(a)?b.version.minor>2?j.leave(a).then(c):j.leave(a,c):e.leave(a,c)}};if(i){var f=i&&i(c,a);return{enter:function(a,b,c){f.enter(a,null,b),c()},leave:function(a,b){f.leave(a),b()}}}return e}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){function a(){b&&b.remove(),c&&c.$destroy()}var b=l,c=n;c&&(c._willBeDestroyed=!0),m?(r.leave(m,function(){a(),l=null}),l=m):(a(),l=null),m=null,n=null}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if((g||s!==o)&&!c._willBeDestroyed){k=c.$new(),o=a.$current.locals[l],k.$emit("$viewContentLoading",l);var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded",l),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function E(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function F(a,b){return{relative:C(a)||b.$current,inherit:!0}}function G(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h=B(f.uiSref,a.current.name),i={state:h.state,href:null,params:null},j=D(e),k=g[1]||g[0];i.options=R(F(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var l=function(c){c&&(i.params=b.copy(c)),i.href=a.href(h.state,i.params,i.options),k&&k.$$addStateInfo(h.state,i.params),null!==i.href&&f.$set(j.attr,i.href)};h.paramExpr&&(d.$watch(h.paramExpr,function(a){a!==i.params&&l(a)},!0),i.params=b.copy(d.$eval(h.paramExpr))),l(),j.clickable&&e.bind("click",E(e,a,c,j,function(){return i}))}}}function H(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){l.state=b[0],l.params=b[1],l.options=b[2],l.href=a.href(l.state,l.params,l.options),i&&i.$$addStateInfo(l.state,l.params),l.href&&e.$set(h.attr,l.href)}var h=D(d),i=f[1]||f[0],j=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],k="["+j.map(function(a){return a||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null};c.$watch(k,g,!0),g(c.$eval(k)),h.clickable&&d.bind("click",E(d,a,b,h,function(){return l}))}}}function I(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,C(d)),g=h(b,c);p.push({state:f||{name:b},params:c,hash:g}),q[g]=e}function h(a,c){if(!N(a))throw new Error("state should be a string");return O(c)?a+T(c):(c=b.$eval(c),O(c)?a+T(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(r){}o=o||c(e.uiSrefActive||"",!1)(b),O(o)&&Q(o,function(c,d){if(N(c)){var e=B(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){O(o)&&p.length>0||(g(a,b,o),i())},b.$on("$stateChangeSuccess",i),i()}]}}function J(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function K(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var L=b.isDefined,M=b.isFunction,N=b.isString,O=b.isObject,P=b.isArray,Q=b.forEach,R=b.extend,S=b.copy,T=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var U;r.prototype.concat=function(a,b){var c={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,R(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var l,m;for(e=0;j>e;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;i>e;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},r.prototype.parameters=function(a){return L(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(q===!1)null!=r&&(j+=P(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else N(q)&&(j+=q+s);t&&m.squash===!0&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&q!==!1)continue;if(P(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return P(a)?a:L(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(P(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x);var V=b.version.major,W=b.version.minor;y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),G.$inject=["$state","$timeout"],H.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",G).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",H),
J.$inject=["$state"],K.$inject=["$state"],b.module("ui.router.state").filter("isState",J).filter("includedByState",K)}(window,window.angular);
/** UI-Router Extras v.0.1.2 Monolithic build (all modules) http://christopherthielen.github.io/ui-router-extras/ - MIT License */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["angular"],function(t){e(t)}):e("object"==typeof exports?require("angular"):t.angular)}(this,function(t,e){function r(t,e){var r=[];for(var n in t.path){if(t.path[n]!==e.path[n])break;r.push(t.path[n])}return r}function n(e){if(Object.keys)return Object.keys(e);var r=[];return t.forEach(e,function(t,e){r.push(e)}),r}function a(t,e){var r=[];for(var n in t)e&&-1!==e.indexOf(n)||r.push(n);return r}function o(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var r=t.length>>>0,n=Number(arguments[2])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=r);r>n;n++)if(n in t&&t[n]===e)return n;return-1}function i(t,e,a,i){var u,s=r(a,i),c={},f=[];for(var l in s)if(s[l].params&&(u=$(s[l].params)?s[l].params:n(s[l].params),u.length))for(var p in u)o(f,u[p])>=0||(f.push(u[p]),c[u[p]]=t[u[p]]);return h({},c,e)}function u(t,e){return h(new(h(function(){},{prototype:t})),e)}function s(t){d.push(t)}function c(){b=e}function f(e,r){var n=r,a=n.inheritParams,o=(n.objectKeys,n.protoKeys),i=n.forEach,u=n.map,s={},c={},f=!1;this.registerStickyState=function(t){c[t.name]=t},this.enableDebug=this.debugMode=function(e){return t.isDefined(e)&&(f=e),f},this.$get=["$rootScope","$state","$stateParams","$injector","$log",function(e,r,n,c,l){function p(){var e={};return t.forEach(s,function(t,r){for(var n=d(t),a=0;a<n.length;a++){var o=n[a].parent;e[o.name]=e[o.name]||[],e[o.name].push(t)}e[""]&&(e.__inactives=e[""])}),e}function v(){var t={};return i(s,function(e){i(e.path,function(r){r!==e&&(t[r.name]=t[r.name]||[],t[r.name].push(e))})}),t}function d(t){var e=[];if(!t)return e;do t.sticky&&e.push(t),t=t.parent;while(t);return e.reverse(),e}function m(t,e,r,n){if(n)return"reload";var a=s[t.self.name];if(!a)return"enter";if(t.self===r)return"reload";var o=$(t.ownParams,e,a.locals.globals.$stateParams);return o?"reactivate":"reload"}function h(t,e){var r=s[t.name];if(!r)return null;if(!e)return r;var n=$(t.ownParams,e,r.locals.globals.$stateParams);return n?r:null}function $(t,e,r){return"function"==typeof t.$$equals?t.$$equals(e,r):g(e,r,t)}function g(e,r,n){if(!t.isArray(n)&&t.isObject(n)&&(n=o(n,["$$keys","$$values","$$equals","$$validates","$$new","$$parent"])),!n){n=[];for(var a in e)n.push(a)}for(var i=0;i<n.length;i++){var u=n[i];if(e[u]!=r[u])return!1}return!0}function x(t){var e=t.fromState.path,o=t.toState.path,i=t.toParams,u=0,s=o[u];for(t.options&&t.options.inherit&&(i=t.toParams=a(n,i||{},r.$current,t.toState));s&&s===e[u]&&$(s.ownParams,i,t.fromParams);)s=o[++u];return{keep:u,retained:e.slice(0,u),exiting:e.slice(u),entering:o.slice(u)}}var y={getInactiveStates:function(){return u(s,t.identity)},getInactiveStatesByParent:function(){return p()},processTransition:function(e){function r(t){return function(e){return-1===t.indexOf(e)}}function n(t,e){return t.concat(e)}function a(t){return function(e){return e[t]}}function o(t){return function(e){return e.type===t}}function i(t){return function(e){return e.parent===t}}function c(t){return!t.sticky}var f,l,p,d=x(e),h=u(s,t.identity),$=d.keep,g=r(d.entering),y=d.exiting[0]&&d.exiting[0].sticky&&d.entering.length>0;l=d.exiting.map(function(t){var e=-1!==d.entering.indexOf(t),r=y&&!e?"inactivate":"exit";return{type:r,state:t}});var S=e.options&&!!e.options.reload;p=d.entering.map(function(t){var r=m(t,e.toParams,e.reloadStateTree,S);return S=S||"reload"===r,{type:r,state:t}});var b=d.entering.map(function(t){return h.filter(i(t.parent))}).reduce(n,[]).filter(g).filter(c).concat(h.filter(i(e.toState))),E=v(),k=b.map(function(t){return E[t.name]}).filter(t.isDefined).reduce(n,[]).concat(b).sort(function(t,e){return t.name.split(".").length-e.name.split(".").length}),P=l.filter(o("exit")).map(a("state")).concat(k);return f=h.filter(r(P)).filter(r(d.entering)).concat(l.filter(o("inactivate")).map(a("state"))),{keep:$,enter:new Array($).concat(p.map(a("type"))),exit:new Array($).concat(l.map(a("type"))),inactives:f,reactivatingStates:p.filter(o("reactivate")).map(a("state")),orphans:k}},stateInactivated:function(t){s[t.self.name]=t,t.self.status="inactive",t.self.onInactivate&&c.invoke(t.self.onInactivate,t.self,t.locals.globals)},stateReactivated:function(t){s[t.self.name]&&delete s[t.self.name],t.self.status="entered",t.self.onReactivate&&c.invoke(t.self.onReactivate,t.self,t.locals.globals)},stateExiting:function(e,r,n){var a={};t.forEach(r,function(t){a[t.self.name]=!0}),t.forEach(s,function(r,n){!a[n]&&r.includes[e.name]&&(f&&l.debug("Exiting "+n+" because it's a substate of "+e.name+" and wasn't found in ",a),r.self.onExit&&c.invoke(r.self.onExit,r.self,r.locals.globals),t.forEach(r.locals,function(t,e){delete j.locals[e]}),r.locals=null,r.self.status="exited",delete s[n])}),n&&c.invoke(n,e.self,e.locals.globals),e.locals=null,e.self.status="exited",delete s[e.self.name]},stateEntering:function(t,e,r,n){var a=h(t);if(a&&(n||!h(t,e))){var o=t.locals;this.stateExiting(a),t.locals=o}t.self.status="entered",r&&c.invoke(r,t.self,t.locals.globals)},reset:function(n,a){function o(t){y.reset(t)}if("*"===n)return t.forEach(y.getInactiveStates(),o),!0;var i=r.get(n);if(!i)return!1;var u=h(i,a);return u?(y.stateExiting(u),e.$broadcast("$viewContentLoading"),!0):!1}};return y}]}function l(t){return{resolve:{},locals:{globals:P&&P.locals&&P.locals.globals},views:{},self:{},params:{},ownParams:A.hasParamSet?{$$equals:function(){return!0}}:[],surrogateType:t}}var p=t.module("ct.ui.router.extras.core",["ui.router"]),v={},d=[];p.config(["$stateProvider","$injector",function(e,r){e.decorator("parent",function(e,r){return v[e.self.name]=e,e.self.$$state=function(){return v[e.self.name]},t.forEach(d,function(t){t(e)}),r(e)})}]);var m=t.forEach,h=t.extend,$=t.isArray,g=function(t,e){"use strict";var r=[];return m(t,function(t,n){r.push(e(t,n))}),r},x=function(t){"use strict";return g(t,function(t,e){return e})},y=function(t,e){"use strict";var r=[];return m(t,function(t,n){e(t,n)&&r.push(t)}),r},S=function(t,e){"use strict";var r={};return m(t,function(t,n){e(t,n)&&(r[n]=t)}),r};p.provider("uirextras_core",function(){var e={internalStates:v,onStateRegistered:s,forEach:m,extend:h,isArray:$,map:g,keys:x,filter:y,filterObj:S,ancestors:r,objectKeys:n,protoKeys:a,arraySearch:o,inheritParams:i,inherit:u};t.extend(this,e),this.$get=function(){return e}});var b;t.module("ct.ui.router.extras.dsr",["ct.ui.router.extras.core"]).config(["$provide",function(t){var e;t.decorator("$state",["$delegate","$q",function(t,r){return e=t.transitionTo,t.transitionTo=function(n,a,o){return o.ignoreDsr&&(b=o.ignoreDsr),e.apply(t,arguments).then(function(t){return c(),t},function(t){return c(),r.reject(t)})},t}])}]),t.module("ct.ui.router.extras.dsr").service("$deepStateRedirect",["$rootScope","$state","$injector",function(r,n,a){function o(t){var e=t.name;return l.hasOwnProperty(e)?l[e]:void u(e)}function i(e){var r=e.deepStateRedirect||e.dsr;if(!r)return{dsr:!1};var n={dsr:!0};return t.isFunction(r)?n.fn=r:t.isObject(r)&&(n=t.extend(n,r)),t.isString(n["default"])&&(n["default"]={state:n["default"]}),n.fn||(n.fn=["$dsr$",function(t){return t.redirect.state!=t.to.state}]),n}function u(t){var r=n.get(t);if(!r)return!1;var a=i(r);a.dsr&&(l[r.name]=p,f[t]===e&&(f[t]={}));var o=r.$$state&&r.$$state().parent;if(o){var s=u(o.self.name);s&&l[r.name]===e&&(l[r.name]=v)}return l[r.name]||!1}function s(r,n){n===!0&&(n=Object.keys(r)),null!==n&&n!==e||(n=[]);var a={};return t.forEach(n.sort(),function(t){a[t]=r[t]}),a}function c(e,r){function n(t){return t?t.toString():t}var a=s(e,r),o={};return t.forEach(a,function(t,e){o[e]=n(t)}),t.toJson(o)}var f={},l={},p="Redirect",v="AncestorRedirect";return r.$on("$stateChangeStart",function(e,r,u,l,v){var d=i(r);if(!b&&(o(r)===p||d["default"])){var m=c(u,d.params),h=f[r.name][m]||d["default"];if(h){var $={redirect:{state:h.state,params:h.params},to:{state:r.name,params:u}},g=a.invoke(d.fn,r,{$dsr$:$});if(g){g.state&&(h=g),e.preventDefault();var x=s(u,d.params);n.go(h.state,t.extend(x,h.params))}}}}),r.$on("$stateChangeSuccess",function(e,r,a,u,s){var l=o(r);if(l){var p=r.name;t.forEach(f,function(e,o){var u=i(n.get(o)),s=c(a,u.params);r.$$state().includes[o]&&(f[o][s]={state:p,params:t.copy(a)})})}}),{getRedirect:function(t,e){var r=n.get(t);o(r);var a=i(r),u=c(e,a.params),s=f[r.name][u]||a["default"];return s},reset:function(e,r){if(e){var a=n.get(e);if(!a)throw new Error("Unknown state: "+e);if(f[a.name])if(r){var o=c(r,i(a).params);delete f[a.name][o]}else f[a.name]={}}else t.forEach(f,function(t,e){f[e]={}})}}}]),t.module("ct.ui.router.extras.dsr").run(["$deepStateRedirect",function(t){}]),t.module("ct.ui.router.extras.sticky",["ct.ui.router.extras.core"]);var E=t.module("ct.ui.router.extras.sticky");f.$inject=["$stateProvider","uirextras_coreProvider"],E.provider("$stickyState",f);var k,P,w,j,v={},R=[],F={},A={hasParamSet:!1};t.module("ct.ui.router.extras.sticky").run(["$stickyState",function(t){k=t}]),t.module("ct.ui.router.extras.sticky").config(["$provide","$stateProvider","$stickyStateProvider","$urlMatcherFactoryProvider","uirextras_coreProvider",function(r,n,a,o,i){function u(e,r,n){function a(t,e,r){return t[e]?t[e].toUpperCase()+": "+r.self.name:"("+r.self.name+")"}var o=d(n.inactives,function(t){return t.self.name}),i=d(r.toState.path,function(t,e){return a(n.enter,e,t)}),u=d(r.fromState.path,function(t,e){return a(n.exit,e,t)}),s=r.fromState.self.name+": "+t.toJson(r.fromParams)+":  -> "+r.toState.self.name+": "+t.toJson(r.toParams);e.debug("------------------------------------------------------"),e.debug("   Current transition: ",s),e.debug("Before transition, inactives are:   : ",d(k.getInactiveStates(),function(t){return t.self.name})),e.debug("After transition,  inactives will be: ",o),e.debug("Transition will exit:  ",u),e.debug("Transition will enter: ",i)}function s(t,e,r){t.debug("Current state: "+e.self.name+", inactive states: ",d(k.getInactiveStates(),function(t){return t.self.name}));for(var n=function(t,e){return"'"+e+"' ("+t.$$state.name+")"},a=function(t,e){return"globals"!=e&&"resolve"!=e},o=function(t){var e=d(m(t.locals,a),n).join(", ");return"("+(t.self.name?t.self.name:"root")+".locals"+(e.length?": "+e:"")+")"},i=o(e),u=e.parent;u&&u!==e;)""===u.self.name&&(i=o(r.$current.path[0])+" / "+i),i=o(u)+" / "+i,e=u,u=e.parent;t.debug("Views: "+i)}var c=i,f=c.internalStates,p=c.inherit,v=(c.inheritParams,c.forEach),d=c.map,m=c.filterObj;A.hasParamSet=!!o.ParamSet,j=t.extend(new l("__inactives"),{self:{name:"__inactives"}}),P=w=e,R=[],i.onStateRegistered(function(t){t.self.sticky===!0&&a.registerStickyState(t.self)});var h;r.decorator("$state",["$delegate","$log","$q",function(r,n,i){return P=r.$current,f[""]=P,P.parent=j,j.parent=e,j.locals=p(F,j.locals),P.locals=p(j.locals,P.locals),delete j.locals.globals,h=r.transitionTo,r.transitionTo=function(e,c,p){function m(e){var r=t.extend(new l("reactivate_phase1"),{locals:e.locals});return r.self=t.extend({},e.self),r}function $(e){var r=t.extend(new l("reactivate_phase2"),e),n=r.self.onEnter;return r.resolve={},r.views={},r.self.onEnter=function(){r.locals=e.locals,k.stateReactivated(e)},J.addRestoreFunction(function(){e.self.onEnter=n}),r}function g(t){var e=new l("inactivate");e.self=t.self;var r=t.self.onExit;return e.self.onExit=function(){k.stateInactivated(t)},J.addRestoreFunction(function(){t.self.onExit=r}),e}function x(t,e){var r=t.self.onEnter;return t.self.onEnter=function(){k.stateEntering(t,e,r)},J.addRestoreFunction(function(){t.self.onEnter=r}),t}function y(t,e){var r=t.self.onEnter;return t.self.onEnter=function(){k.stateEntering(t,e,r,!0)},J.addRestoreFunction(function(){t.self.onEnter=r}),t}function S(t){var e=t.self.onExit;return t.self.onExit=function(){k.stateExiting(t,K,e)},J.addRestoreFunction(function(){t.self.onExit=e}),t}var b=a.debugMode();j.locals||(j.locals=P.locals);var E=R.length;w&&(w(),b&&n.debug("Restored paths from pending transition"));var O,T,_,q,I=r.$current,M=r.params,C=p&&p.relative||r.$current,D=r.get(e,C),N=[],K=[];c=c||{},arguments[1]=c;var z=function(){},J=function(){O&&(L.path=O,O=null),T&&(I.path=T,T=null),t.forEach(J.restoreFunctions,function(t){t()}),J=z,w=null,R.splice(E,1)};if(J.restoreFunctions=[],J.addRestoreFunction=function(t){this.restoreFunctions.push(t)},D){var L=f[D.name];if(L){O=L.path,T=I.path;var B=p&&p.reload||!1,H=B&&(B===!0?O[0].self:r.get(B,C));p&&B&&B!==!0&&delete p.reload;var U={toState:L,toParams:c||{},fromState:I,fromParams:M||{},options:p,reloadStateTree:H};if(R.push(U),w=J,H){U.toParams.$$uirouterextrasreload=Math.random();var V=H.$$state().params,W=H.$$state().ownParams;if(A.hasParamSet){var Y=new o.Param("$$uirouterextrasreload");V.$$uirouterextrasreload=W.$$uirouterextrasreload=Y,J.restoreFunctions.push(function(){delete V.$$uirouterextrasreload,delete W.$$uirouterextrasreload})}else V.push("$$uirouterextrasreload"),W.push("$$uirouterextrasreload"),J.restoreFunctions.push(function(){V.length=V.length-1,W.length=W.length-1})}_=k.processTransition(U),b&&u(n,U,_);var G=L.path.slice(0,_.keep),Q=I.path.slice(0,_.keep);t.forEach(j.locals,function(t,e){-1!=e.indexOf("@")&&delete j.locals[e]});var X=function(t){return function(e,r){-1!==r.indexOf("@")&&(t[r]=e)}};v(_.inactives,function(t){v(t.locals,X(j.locals))}),v(_.reactivatingStates,function(t){v(t.locals,X(F))}),J.addRestoreFunction(function(){v(F,function(t,e){delete F[e]})}),t.forEach(_.enter,function(t,e){var r,n=L.path[e];"reactivate"===t?(r=m(n),G.push(r),Q.push(r),N.push($(n)),q=n):"reload"===t?(G.push(y(n)),q=n):"enter"===t&&G.push(x(n))}),t.forEach(_.exit,function(t,e){var r=I.path[e];"inactivate"===t?(Q.push(g(r)),K.push(r)):"exit"===t&&(Q.push(S(r)),K.push(r))}),N.length&&t.forEach(N,function(t){G.push(t)});var Z=_.orphans;Q=Q.concat(d(Z,function(t){return S(t)})),K=K.concat(Z),I.path=Q,L.path=G;var tt=function(t){return(t.surrogateType?t.surrogateType+":":"")+t.self.name};b&&n.debug("SurrogateFromPath: ",d(Q,tt)),b&&n.debug("SurrogateToPath:   ",d(G,tt))}}var et=h.apply(r,arguments);return et.then(function(t){return J(),b&&s(n,f[t.name],r),t.status="active",t},function(t){return J(),b&&"transition prevented"!==t.message&&"transition aborted"!==t.message&&"transition superseded"!==t.message&&(n.debug("transition failed",t),n.debug(t.stack)),i.reject(t)})},r}])}]),function(t,e){function r(e,r,n,a){function o(e,r){var n=t.isObject(e)?e.name:e;return r?v[n]:l[n]}function i(t,e){if(e.name){var r=e.name.split(/\./);for("."===e.name.charAt(0)&&(r[0]=t.current.name);r.length;){var n=r.join(".");if(t.get(n,{relative:t.current}))return null;if(v[n])return v[n];r.pop()}}if(e.url){var a=[];for(var o in v){var i=v[o].urlMatcher;i&&i.exec(e.url)&&a.push(v[o])}for(var u=a.slice(0),s=a.length-1;s>=0;s--)for(var c=0;c<u.length;c++)a[s]===u[c].parentFutureState&&a.splice(s,1);return a[0]}}function u(t,e){function r(){delete v[e.name]}function n(t){return"remove"===l&&r(),a.reject(t)}d=!0;var a=t.get("$q");if(!e){var o=a.defer();return o.reject("No lazyState passed in "+e),o.promise}var i=a.when([]),s=e.parentFutureState;s&&v[s.name]&&(i=u(t,v[s.name]));var c=e.type,f=p[c];if(!f)throw Error("No state factory for futureState.type: "+(e&&e.type));var l=f.$options&&f.$options.failedLazyLoadPolicy||"remove";return i.then(function(n){var a=t.invoke(f,f,{futureState:e});return a.then(function(t){return r(),t&&n.push(t),n})})["catch"](n)}function s(t,r){var n=!1,a=["$rootScope","$urlRouter","$state",function(a,o,s){function f(){n=!0,o.sync(),n=!1}if(!h)return c().then(f),void(h=!0);var l=i(s,{url:r.path()});return l?void u(t,l).then(function(t){t.forEach(function(t){t&&(!s.get(t)||t.name&&!s.get(t.name))&&e.state(t)}),d=!1,f()},function(){d=!1,f()}):t.invoke(g)}];if(!d){var o=n?g:a;return t.invoke(o)}}var c,f=a,l=f.internalStates,p={},v={},d=!1,m=[],h=!1,$=this;this.addResolve=function(t){m.push(t)},this.stateFactory=function(t,e){p[t]=e},this.futureState=function(e){e.stateName&&(e.name=e.stateName),e.urlPrefix&&(e.url="^"+e.urlPrefix),v[e.name]=e;var r,a=e.name.split(/\./).slice(0,-1).join("."),i=o(e.parent||a);if(i)r=i.url||i.navigable&&i.navigable.url;else if(""===a)r=n.compile("");else{var u=o(e.parent||a,!0);if(!u)throw new Error("Couldn't determine parent state of future state. FutureState:"+t.toJson(e));var s;s=u.urlMatcher?u.urlMatcher.source.replace(/\*rest$/,""):"",r=n.compile(s),e.parentFutureState=u}e.url&&(e.urlMatcher="^"===e.url.charAt(0)?n.compile(e.url.substring(1)+"*rest"):r.concat(e.url+"*rest"))},this.get=function(){return t.extend({},v)};var g=["$log","$location",function(t,e){}];r.otherwise(s),r.otherwise=function(e){if(t.isString(e)){var n=e;e=function(){return n}}else if(!t.isFunction(e))throw new Error("'rule' must be a function");return g=["$injector","$location",e],r};var x={getResolvePromise:function(){return c()}};this.$get=["$injector","$state","$q","$rootScope","$urlRouter","$timeout","$log",function(r,n,a,o,s,f,l){function p(){if(o.$on("$stateNotFound",function(t,a,o,s){if(!d){var c=i(n,{name:a.to});if(c){t.preventDefault();var f=u(r,c);f.then(function(t){t.forEach(function(t){t&&(!n.get(t)||t.name&&!n.get(t.name))&&e.state(t)}),n.go(a.to,a.toParams,a.options),d=!1},function(t){console.log("failed to lazy load state ",t),o.name&&n.go(o,s),d=!1})}}}),!c){var l=[];t.forEach(m,function(t){l.push(r.invoke(t))}),c=function(){return a.all(l)}}c().then(function p(){f(function(){n.transition?n.transition.then(p,p):s.sync()})})}return p(),x.state=e.state,x.futureState=$.futureState,x.get=$.get,x}]}var n=t.module("ct.ui.router.extras.future",["ct.ui.router.extras.core"]);r.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","uirextras_coreProvider"],n.provider("$futureState",r);var a={state:function(t){a.$rootScope&&a.$rootScope.$broadcast("$stateAdded",t)},itsNowRuntimeOhWhatAHappyDay:function(t){a.$rootScope=t},$rootScope:e};n.config(["$stateProvider",function(e){var r=e.state;e.state=function(){var n=r.apply(e,arguments),o=t.isObject(arguments[0])?arguments[0]:arguments[1];return a.state(o),n}}]),n.run(["$futureState",function(t,e){a.itsNowRuntimeOhWhatAHappyDay(e)}])}(t),t.module("ct.ui.router.extras.previous",["ct.ui.router.extras.core","ct.ui.router.extras.transition"]).service("$previousState",["$rootScope","$state","$q",function(t,r,n){var a=null,o=null,i={};t.$on("$transitionStart",function(t,e){function r(){o=null}function n(){a=o}var i=e.from,u=i.state&&i.state.$$state&&i.state.$$state();u&&(o=a,a=e.from,e.promise.then(r)["catch"](n))});var u={get:function(t){return t?i[t]:a},set:function(t,e,n){i[t]={state:r.get(e),params:n}},go:function(t,e){var a=u.get(t);return a?r.go(a.state,a.params,e):n.reject(new Error("no previous state "+(t?"for memo: "+t:"")))},memo:function(t,e,n){i[t]=a||{state:r.get(e),params:n}},forget:function(t){t?delete i[t]:a=e}};return u}]),t.module("ct.ui.router.extras.previous").run(["$previousState",function(t){}]),t.module("ct.ui.router.extras.transition",["ct.ui.router.extras.core"]).config(["$provide",function(e){e.decorator("$state",["$delegate","$rootScope","$q","$injector",function(e,r,n,a){function o(e){var r=a.invoke,n=a.instantiate;return a.invoke=function(n,a,o){return r(n,a,t.extend({$transition$:e},o))},a.instantiate=function(r,a){return n(r,t.extend({$transition$:e},a))},function(){a.invoke=r,a.instantiate=n}}function i(){p.pop()(),l.pop(),f--}function u(t,e){return function(n){return i(),r.$broadcast("$transitionSuccess",e),t.resolve(n),n}}function s(t,e){return function(a){return i(),r.$broadcast("$transitionError",e,a),t.reject(a),n.reject(a)}}var c=e.transitionTo,f=-1,l=[],p=[];return e.transitionTo=function(t,r,a){var o=n.defer(),i=l[++f]={promise:o.promise};p[f]=function(){};var v=c.apply(e,arguments);return v.then(u(o,i),s(o,i))},r.$on("$stateChangeStart",function(e,n,a,i,u){if(!(f>=l.length)){var s=f,c=t.extend(l[s],{to:{state:n,params:a},from:{state:i,params:u}}),v=o(c);p[s]=v,r.$broadcast("$transitionStart",c)}}),e}])}]),function(){"use strict";function e(e,r,n){return{scope:{width:"@",height:"@"},restrict:"AE",template:"<svg></svg>",link:function(r,a,o){function i(e){e=e.map(function(e){return""===e.name?p:t.copy(e)}),t.extend(s,e.reduce(function(t,e){return t[e.name]=e,t},{})),e.forEach(function(t){var e=t.name.split(/\./).slice(0,-1).join("."),r=t.name!=e&&s[e];r&&((r.children||(r.children=[])).push(t),t.px=r.px,t.py=r.py,v.push(t))})}function u(){function t(t){var e=t.name.split(".").pop();return t.sticky&&(e+=" (STICKY)"),t.deepStateRedirect&&(e+=" (DSR)"),e}$=$.data(l.nodes(p),function(t){return t.name}),g=g.data(l.links(v),function(t){return t.target.name}),x=x.data(d),v.forEach(function(t){t.y=70*t.depth});var e=$.enter();x.enter().append("circle").attr("class","active").attr("r",13).attr("cx",function(t){return t.parent.px||100}).attr("cy",function(t){return t.parent.py||100}),e.append("circle").attr("class","node").attr("r",9).attr("cx",function(t){return t.parent.px}).attr("cy",function(t){return t.parent.py}),e.append("text").attr("class","label").attr("x",function(t){return t.parent.px}).attr("y",function(t){return t.parent.py}).attr("text-anchor",function(t){return"middle"}).text(t).style("fill-opacity",1),g.enter().insert("path",".node").attr("class","link").attr("d",function(t){var e={x:t.source.px,y:t.source.py};return m({source:e,target:e})});var r=h.transition().duration(S);r.selectAll(".link").attr("d",m);var n={entered:"#AF0",exited:"#777",active:"#0f0",inactive:"#55F",future:"#009"};r.selectAll(".node").attr("cx",function(t){return t.px=t.x}).attr("cy",function(t){return t.py=t.y}).attr("r",function(t){return"active"===t.status?15:10}).style("fill",function(t){return n[t.status]||"#FFF"}),r.selectAll(".label").attr("x",function(t){return t.px=t.x}).attr("y",function(t){return t.py=t.y-15}).attr("transform",function(t){return"rotate(-25 "+t.x+" "+t.y+")"}),r.selectAll(".active").attr("x",function(t){return t.px=t.x}).attr("y",function(t){return t.py=t.y-15})}var s={},c=r.width||400,f=r.height||400,l=d3.layout.tree().size([c-20,f-20]).separation(function(t,e){return t.parent==e.parent?10:25}),p=e.get().filter(function(t){return""===t.name})[0],v=l(p);p.parent=p,p.px=p.x=c/2,p.py=p.y=f/2;var d={};d.px=d.x=p.px,d.py=d.y=p.py;var m=d3.svg.diagonal(),h=d3.select(a.find("svg")[0]).attr("width",c).attr("height",f).append("g").attr("transform","translate(10, 10)"),$=h.selectAll(".node"),g=h.selectAll(".link"),x=h.selectAll(".active"),y=200,S=200;setInterval(u,y);n(function(){r.states=e.get(),t.forEach(v,function(t){var r=e.get(t.name);r&&(t.status=r.status||"exited")})},250),r.$watchCollection("states",function(t,e){var r=(e||[]).map(function(t){return t.name});i((t||[]).filter(function(t){return-1==r.indexOf(t.name)}))}),u(y)}}}var r=t.module("ct.ui.router.extras.statevis",["ct.ui.router.extras.core","ct.ui.router.extras.sticky"]);r.directive("stateVis",["$state","$timeout","$interval",e])}(),t.module("ct.ui.router.extras",["ct.ui.router.extras.core","ct.ui.router.extras.dsr","ct.ui.router.extras.future","ct.ui.router.extras.previous","ct.ui.router.extras.statevis","ct.ui.router.extras.sticky","ct.ui.router.extras.transition"])});
/*
 AngularJS v1.3.15
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(N,f,W){'use strict';f.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(X,C,g){g=g.ngAnimateChildren;f.isString(g)&&0===g.length?C.data("$$ngAnimateChildren",!0):X.$watch(g,function(f){C.data("$$ngAnimateChildren",!!f)})}}).factory("$$animateReflow",["$$rAF","$document",function(f,C){return function(g){return f(function(){g()})}}]).config(["$provide","$animateProvider",function(X,C){function g(f){for(var n=0;n<f.length;n++){var g=f[n];if(1==g.nodeType)return g}}
function ba(f,n){return g(f)==g(n)}var t=f.noop,n=f.forEach,da=C.$$selectors,aa=f.isArray,ea=f.isString,ga=f.isObject,r={running:!0},u;X.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(O,N,M,Y,y,H,P,W,Z,Q){function R(a,c){var b=a.data("$$ngAnimateState")||{};c&&(b.running=!0,b.structural=!0,a.data("$$ngAnimateState",b));return b.disabled||b.running&&b.structural}function D(a){var c,b=N.defer();
b.promise.$$cancelFn=function(){c&&c()};P.$$postDigest(function(){c=a(function(){b.resolve()})});return b.promise}function I(a){if(ga(a))return a.tempClasses&&ea(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a}function S(a,c,b){b=b||{};var d={};n(b,function(e,a){n(a.split(" "),function(a){d[a]=e})});var h=Object.create(null);n((a.attr("class")||"").split(/\s+/),function(e){h[e]=!0});var f=[],l=[];n(c&&c.classes||[],function(e,a){var b=h[a],c=d[a]||{};!1===e?(b||"addClass"==c.event)&&
l.push(a):!0===e&&(b&&"removeClass"!=c.event||f.push(a))});return 0<f.length+l.length&&[f.join(" "),l.join(" ")]}function T(a){if(a){var c=[],b={};a=a.substr(1).split(".");(Y.transitions||Y.animations)&&c.push(M.get(da[""]));for(var d=0;d<a.length;d++){var f=a[d],k=da[f];k&&!b[f]&&(c.push(M.get(k)),b[f]=!0)}return c}}function U(a,c,b,d){function h(e,a){var b=e[a],c=e["before"+a.charAt(0).toUpperCase()+a.substr(1)];if(b||c)return"leave"==a&&(c=b,b=null),u.push({event:a,fn:b}),J.push({event:a,fn:c}),
!0}function k(c,l,w){var E=[];n(c,function(a){a.fn&&E.push(a)});var m=0;n(E,function(c,f){var p=function(){a:{if(l){(l[f]||t)();if(++m<E.length)break a;l=null}w()}};switch(c.event){case "setClass":l.push(c.fn(a,e,A,p,d));break;case "animate":l.push(c.fn(a,b,d.from,d.to,p));break;case "addClass":l.push(c.fn(a,e||b,p,d));break;case "removeClass":l.push(c.fn(a,A||b,p,d));break;default:l.push(c.fn(a,p,d))}});l&&0===l.length&&w()}var l=a[0];if(l){d&&(d.to=d.to||{},d.from=d.from||{});var e,A;aa(b)&&(e=
b[0],A=b[1],e?A?b=e+" "+A:(b=e,c="addClass"):(b=A,c="removeClass"));var w="setClass"==c,E=w||"addClass"==c||"removeClass"==c||"animate"==c,p=a.attr("class")+" "+b;if(x(p)){var ca=t,m=[],J=[],g=t,s=[],u=[],p=(" "+p).replace(/\s+/g,".");n(T(p),function(a){!h(a,c)&&w&&(h(a,"addClass"),h(a,"removeClass"))});return{node:l,event:c,className:b,isClassBased:E,isSetClassOperation:w,applyStyles:function(){d&&a.css(f.extend(d.from||{},d.to||{}))},before:function(a){ca=a;k(J,m,function(){ca=t;a()})},after:function(a){g=
a;k(u,s,function(){g=t;a()})},cancel:function(){m&&(n(m,function(a){(a||t)(!0)}),ca(!0));s&&(n(s,function(a){(a||t)(!0)}),g(!0))}}}}}function G(a,c,b,d,h,k,l,e){function A(e){var l="$animate:"+e;J&&J[l]&&0<J[l].length&&H(function(){b.triggerHandler(l,{event:a,className:c})})}function w(){A("before")}function E(){A("after")}function p(){p.hasBeenRun||(p.hasBeenRun=!0,k())}function g(){if(!g.hasBeenRun){m&&m.applyStyles();g.hasBeenRun=!0;l&&l.tempClasses&&n(l.tempClasses,function(a){u.removeClass(b,
a)});var w=b.data("$$ngAnimateState");w&&(m&&m.isClassBased?B(b,c):(H(function(){var e=b.data("$$ngAnimateState")||{};fa==e.index&&B(b,c,a)}),b.data("$$ngAnimateState",w)));A("close");e()}}var m=U(b,a,c,l);if(!m)return p(),w(),E(),g(),t;a=m.event;c=m.className;var J=f.element._data(m.node),J=J&&J.events;d||(d=h?h.parent():b.parent());if(z(b,d))return p(),w(),E(),g(),t;d=b.data("$$ngAnimateState")||{};var L=d.active||{},s=d.totalActive||0,q=d.last;h=!1;if(0<s){s=[];if(m.isClassBased)"setClass"==q.event?
(s.push(q),B(b,c)):L[c]&&(v=L[c],v.event==a?h=!0:(s.push(v),B(b,c)));else if("leave"==a&&L["ng-leave"])h=!0;else{for(var v in L)s.push(L[v]);d={};B(b,!0)}0<s.length&&n(s,function(a){a.cancel()})}!m.isClassBased||m.isSetClassOperation||"animate"==a||h||(h="addClass"==a==b.hasClass(c));if(h)return p(),w(),E(),A("close"),e(),t;L=d.active||{};s=d.totalActive||0;if("leave"==a)b.one("$destroy",function(a){a=f.element(this);var e=a.data("$$ngAnimateState");e&&(e=e.active["ng-leave"])&&(e.cancel(),B(a,"ng-leave"))});
u.addClass(b,"ng-animate");l&&l.tempClasses&&n(l.tempClasses,function(a){u.addClass(b,a)});var fa=K++;s++;L[c]=m;b.data("$$ngAnimateState",{last:m,active:L,index:fa,totalActive:s});w();m.before(function(e){var l=b.data("$$ngAnimateState");e=e||!l||!l.active[c]||m.isClassBased&&l.active[c].event!=a;p();!0===e?g():(E(),m.after(g))});return m.cancel}function q(a){if(a=g(a))a=f.isFunction(a.getElementsByClassName)?a.getElementsByClassName("ng-animate"):a.querySelectorAll(".ng-animate"),n(a,function(a){a=
f.element(a);(a=a.data("$$ngAnimateState"))&&a.active&&n(a.active,function(a){a.cancel()})})}function B(a,c){if(ba(a,y))r.disabled||(r.running=!1,r.structural=!1);else if(c){var b=a.data("$$ngAnimateState")||{},d=!0===c;!d&&b.active&&b.active[c]&&(b.totalActive--,delete b.active[c]);if(d||!b.totalActive)u.removeClass(a,"ng-animate"),a.removeData("$$ngAnimateState")}}function z(a,c){if(r.disabled)return!0;if(ba(a,y))return r.running;var b,d,g;do{if(0===c.length)break;var k=ba(c,y),l=k?r:c.data("$$ngAnimateState")||
{};if(l.disabled)return!0;k&&(g=!0);!1!==b&&(k=c.data("$$ngAnimateChildren"),f.isDefined(k)&&(b=k));d=d||l.running||l.last&&!l.last.isClassBased}while(c=c.parent());return!g||!b&&d}u=Q;y.data("$$ngAnimateState",r);var $=P.$watch(function(){return Z.totalPendingRequests},function(a,c){0===a&&($(),P.$$postDigest(function(){P.$$postDigest(function(){r.running=!1})}))}),K=0,V=C.classNameFilter(),x=V?function(a){return V.test(a)}:function(){return!0};return{animate:function(a,c,b,d,h){d=d||"ng-inline-animate";
h=I(h)||{};h.from=b?c:null;h.to=b?b:c;return D(function(b){return G("animate",d,f.element(g(a)),null,null,t,h,b)})},enter:function(a,c,b,d){d=I(d);a=f.element(a);c=c&&f.element(c);b=b&&f.element(b);R(a,!0);O.enter(a,c,b);return D(function(h){return G("enter","ng-enter",f.element(g(a)),c,b,t,d,h)})},leave:function(a,c){c=I(c);a=f.element(a);q(a);R(a,!0);return D(function(b){return G("leave","ng-leave",f.element(g(a)),null,null,function(){O.leave(a)},c,b)})},move:function(a,c,b,d){d=I(d);a=f.element(a);
c=c&&f.element(c);b=b&&f.element(b);q(a);R(a,!0);O.move(a,c,b);return D(function(h){return G("move","ng-move",f.element(g(a)),c,b,t,d,h)})},addClass:function(a,c,b){return this.setClass(a,c,[],b)},removeClass:function(a,c,b){return this.setClass(a,[],c,b)},setClass:function(a,c,b,d){d=I(d);a=f.element(a);a=f.element(g(a));if(R(a))return O.$$setClassImmediately(a,c,b,d);var h,k=a.data("$$animateClasses"),l=!!k;k||(k={classes:{}});h=k.classes;c=aa(c)?c:c.split(" ");n(c,function(a){a&&a.length&&(h[a]=
!0)});b=aa(b)?b:b.split(" ");n(b,function(a){a&&a.length&&(h[a]=!1)});if(l)return d&&k.options&&(k.options=f.extend(k.options||{},d)),k.promise;a.data("$$animateClasses",k={classes:h,options:d});return k.promise=D(function(e){var l=a.parent(),b=g(a),c=b.parentNode;if(!c||c.$$NG_REMOVED||b.$$NG_REMOVED)e();else{b=a.data("$$animateClasses");a.removeData("$$animateClasses");var c=a.data("$$ngAnimateState")||{},d=S(a,b,c.active);return d?G("setClass",d,a,l,null,function(){d[0]&&O.$$addClassImmediately(a,
d[0]);d[1]&&O.$$removeClassImmediately(a,d[1])},b.options,e):e()}})},cancel:function(a){a.$$cancelFn()},enabled:function(a,c){switch(arguments.length){case 2:if(a)B(c);else{var b=c.data("$$ngAnimateState")||{};b.disabled=!0;c.data("$$ngAnimateState",b)}break;case 1:r.disabled=!a;break;default:a=!r.disabled}return!!a}}}]);C.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,C,M,Y){function y(){b||(b=Y(function(){c=[];b=null;x={}}))}function H(a,e){b&&b();c.push(e);b=Y(function(){n(c,
function(a){a()});c=[];b=null;x={}})}function P(a,e){var b=g(a);a=f.element(b);k.push(a);b=Date.now()+e;b<=h||(M.cancel(d),h=b,d=M(function(){X(k);k=[]},e,!1))}function X(a){n(a,function(a){(a=a.data("$$ngAnimateCSS3Data"))&&n(a.closeAnimationFns,function(a){a()})})}function Z(a,e){var b=e?x[e]:null;if(!b){var c=0,d=0,f=0,g=0;n(a,function(a){if(1==a.nodeType){a=r.getComputedStyle(a)||{};c=Math.max(Q(a[z+"Duration"]),c);d=Math.max(Q(a[z+"Delay"]),d);g=Math.max(Q(a[K+"Delay"]),g);var e=Q(a[K+"Duration"]);
0<e&&(e*=parseInt(a[K+"IterationCount"],10)||1);f=Math.max(e,f)}});b={total:0,transitionDelay:d,transitionDuration:c,animationDelay:g,animationDuration:f};e&&(x[e]=b)}return b}function Q(a){var e=0;a=ea(a)?a.split(/\s*,\s*/):[];n(a,function(a){e=Math.max(parseFloat(a)||0,e)});return e}function R(b,e,c,d){b=0<=["ng-enter","ng-leave","ng-move"].indexOf(c);var f,p=e.parent(),h=p.data("$$ngAnimateKey");h||(p.data("$$ngAnimateKey",++a),h=a);f=h+"-"+g(e).getAttribute("class");var p=f+" "+c,h=x[p]?++x[p].total:
0,m={};if(0<h){var n=c+"-stagger",m=f+" "+n;(f=!x[m])&&u.addClass(e,n);m=Z(e,m);f&&u.removeClass(e,n)}u.addClass(e,c);var n=e.data("$$ngAnimateCSS3Data")||{},k=Z(e,p);f=k.transitionDuration;k=k.animationDuration;if(b&&0===f&&0===k)return u.removeClass(e,c),!1;c=d||b&&0<f;b=0<k&&0<m.animationDelay&&0===m.animationDuration;e.data("$$ngAnimateCSS3Data",{stagger:m,cacheKey:p,running:n.running||0,itemIndex:h,blockTransition:c,closeAnimationFns:n.closeAnimationFns||[]});p=g(e);c&&(I(p,!0),d&&e.css(d));
b&&(p.style[K+"PlayState"]="paused");return!0}function D(a,e,b,c,d){function f(){e.off(D,h);u.removeClass(e,k);u.removeClass(e,t);z&&M.cancel(z);G(e,b);var a=g(e),c;for(c in s)a.style.removeProperty(s[c])}function h(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||b.timeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-H,0)>=C&&b>=x&&c()}var m=g(e);a=e.data("$$ngAnimateCSS3Data");if(-1!=m.getAttribute("class").indexOf(b)&&a){var k="",t="";n(b.split(" "),function(a,
b){var e=(0<b?" ":"")+a;k+=e+"-active";t+=e+"-pending"});var s=[],q=a.itemIndex,v=a.stagger,r=0;if(0<q){r=0;0<v.transitionDelay&&0===v.transitionDuration&&(r=v.transitionDelay*q);var y=0;0<v.animationDelay&&0===v.animationDuration&&(y=v.animationDelay*q,s.push(B+"animation-play-state"));r=Math.round(100*Math.max(r,y))/100}r||(u.addClass(e,k),a.blockTransition&&I(m,!1));var F=Z(e,a.cacheKey+" "+k),x=Math.max(F.transitionDuration,F.animationDuration);if(0===x)u.removeClass(e,k),G(e,b),c();else{!r&&
d&&0<Object.keys(d).length&&(F.transitionDuration||(e.css("transition",F.animationDuration+"s linear all"),s.push("transition")),e.css(d));var q=Math.max(F.transitionDelay,F.animationDelay),C=1E3*q;0<s.length&&(v=m.getAttribute("style")||"",";"!==v.charAt(v.length-1)&&(v+=";"),m.setAttribute("style",v+" "));var H=Date.now(),D=V+" "+$,q=1E3*(r+1.5*(q+x)),z;0<r&&(u.addClass(e,t),z=M(function(){z=null;0<F.transitionDuration&&I(m,!1);0<F.animationDuration&&(m.style[K+"PlayState"]="");u.addClass(e,k);
u.removeClass(e,t);d&&(0===F.transitionDuration&&e.css("transition",F.animationDuration+"s linear all"),e.css(d),s.push("transition"))},1E3*r,!1));e.on(D,h);a.closeAnimationFns.push(function(){f();c()});a.running++;P(e,q);return f}}else c()}function I(a,b){a.style[z+"Property"]=b?"none":""}function S(a,b,c,d){if(R(a,b,c,d))return function(a){a&&G(b,c)}}function T(a,b,c,d,f){if(b.data("$$ngAnimateCSS3Data"))return D(a,b,c,d,f);G(b,c);d()}function U(a,b,c,d,f){var g=S(a,b,c,f.from);if(g){var h=g;H(b,
function(){h=T(a,b,c,d,f.to)});return function(a){(h||t)(a)}}y();d()}function G(a,b){u.removeClass(a,b);var c=a.data("$$ngAnimateCSS3Data");c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData("$$ngAnimateCSS3Data"))}function q(a,b){var c="";a=aa(a)?a:a.split(/\s+/);n(a,function(a,d){a&&0<a.length&&(c+=(0<d?" ":"")+a+b)});return c}var B="",z,$,K,V;N.ontransitionend===W&&N.onwebkittransitionend!==W?(B="-webkit-",z="WebkitTransition",$="webkitTransitionEnd transitionend"):(z="transition",
$="transitionend");N.onanimationend===W&&N.onwebkitanimationend!==W?(B="-webkit-",K="WebkitAnimation",V="webkitAnimationEnd animationend"):(K="animation",V="animationend");var x={},a=0,c=[],b,d=null,h=0,k=[];return{animate:function(a,b,c,d,f,g){g=g||{};g.from=c;g.to=d;return U("animate",a,b,f,g)},enter:function(a,b,c){c=c||{};return U("enter",a,"ng-enter",b,c)},leave:function(a,b,c){c=c||{};return U("leave",a,"ng-leave",b,c)},move:function(a,b,c){c=c||{};return U("move",a,"ng-move",b,c)},beforeSetClass:function(a,
b,c,d,f){f=f||{};b=q(c,"-remove")+" "+q(b,"-add");if(f=S("setClass",a,b,f.from))return H(a,d),f;y();d()},beforeAddClass:function(a,b,c,d){d=d||{};if(b=S("addClass",a,q(b,"-add"),d.from))return H(a,c),b;y();c()},beforeRemoveClass:function(a,b,c,d){d=d||{};if(b=S("removeClass",a,q(b,"-remove"),d.from))return H(a,c),b;y();c()},setClass:function(a,b,c,d,f){f=f||{};c=q(c,"-remove");b=q(b,"-add");return T("setClass",a,c+" "+b,d,f.to)},addClass:function(a,b,c,d){d=d||{};return T("addClass",a,q(b,"-add"),
c,d.to)},removeClass:function(a,b,c,d){d=d||{};return T("removeClass",a,q(b,"-remove"),c,d.to)}}}])}])})(window,window.angular);
//# sourceMappingURL=angular-animate.min.js.map

/*
 AngularJS v1.4.7
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(n,h,p){'use strict';function E(a){var f=[];r(f,h.noop).chars(a);return f.join("")}function g(a,f){var d={},c=a.split(","),b;for(b=0;b<c.length;b++)d[f?h.lowercase(c[b]):c[b]]=!0;return d}function F(a,f){function d(a,b,d,l){b=h.lowercase(b);if(s[b])for(;e.last()&&t[e.last()];)c("",e.last());u[b]&&e.last()==b&&c("",b);(l=v[b]||!!l)||e.push(b);var m={};d.replace(G,function(b,a,f,c,d){m[a]=q(f||c||d||"")});f.start&&f.start(b,m,l)}function c(b,a){var c=0,d;if(a=h.lowercase(a))for(c=e.length-
1;0<=c&&e[c]!=a;c--);if(0<=c){for(d=e.length-1;d>=c;d--)f.end&&f.end(e[d]);e.length=c}}"string"!==typeof a&&(a=null===a||"undefined"===typeof a?"":""+a);var b,k,e=[],m=a,l;for(e.last=function(){return e[e.length-1]};a;){l="";k=!0;if(e.last()&&w[e.last()])a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+e.last()+"[^>]*>","i"),function(a,b){b=b.replace(H,"$1").replace(I,"$1");f.chars&&f.chars(q(b));return""}),c("",e.last());else{if(0===a.indexOf("\x3c!--"))b=a.indexOf("--",4),0<=b&&a.lastIndexOf("--\x3e",
b)===b&&(f.comment&&f.comment(a.substring(4,b)),a=a.substring(b+3),k=!1);else if(x.test(a)){if(b=a.match(x))a=a.replace(b[0],""),k=!1}else if(J.test(a)){if(b=a.match(y))a=a.substring(b[0].length),b[0].replace(y,c),k=!1}else K.test(a)&&((b=a.match(z))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(z,d)),k=!1):(l+="<",a=a.substring(1)));k&&(b=a.indexOf("<"),l+=0>b?a:a.substring(0,b),a=0>b?"":a.substring(b),f.chars&&f.chars(q(l)))}if(a==m)throw L("badparse",a);m=a}c()}function q(a){if(!a)return"";A.innerHTML=
a.replace(/</g,"&lt;");return A.textContent}function B(a){return a.replace(/&/g,"&amp;").replace(M,function(a){var d=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(d-55296)+(a-56320)+65536)+";"}).replace(N,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(a,f){var d=!1,c=h.bind(a,a.push);return{start:function(a,k,e){a=h.lowercase(a);!d&&w[a]&&(d=a);d||!0!==C[a]||(c("<"),c(a),h.forEach(k,function(d,e){var k=h.lowercase(e),g="img"===a&&"src"===k||
"background"===k;!0!==O[k]||!0===D[k]&&!f(d,g)||(c(" "),c(e),c('="'),c(B(d)),c('"'))}),c(e?"/>":">"))},end:function(a){a=h.lowercase(a);d||!0!==C[a]||(c("</"),c(a),c(">"));a==d&&(d=!1)},chars:function(a){d||c(B(a))}}}var L=h.$$minErr("$sanitize"),z=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,y=/^<\/\s*([\w:-]+)[^>]*>/,G=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,K=/^</,J=/^<\//,H=/\x3c!--(.*?)--\x3e/g,x=/<!DOCTYPE([^>]*?)>/i,
I=/<!\[CDATA\[(.*?)]]\x3e/g,M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N=/([^\#-~| |!])/g,v=g("area,br,col,hr,img,wbr");n=g("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr");p=g("rp,rt");var u=h.extend({},p,n),s=h.extend({},n,g("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),t=h.extend({},p,g("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));
n=g("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var w=g("script,style"),C=h.extend({},v,s,t,u,n),D=g("background,cite,href,longdesc,src,usemap,xlink:href");n=g("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width");
p=g("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",
!0);var O=h.extend({},D,p,n),A=document.createElement("pre");h.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(f){var d=[];F(f,r(d,function(c,b){return!/^unsafe/.test(a(c,b))}));return d.join("")}}]});h.module("ngSanitize").filter("linky",["$sanitize",function(a){var f=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i;return function(c,b){function k(a){a&&g.push(E(a))}function e(a,
c){g.push("<a ");h.isDefined(b)&&g.push('target="',b,'" ');g.push('href="',a.replace(/"/g,"&quot;"),'">');k(c);g.push("</a>")}if(!c)return c;for(var m,l=c,g=[],n,p;m=l.match(f);)n=m[0],m[2]||m[4]||(n=(m[3]?"http://":"mailto:")+n),p=m.index,k(l.substr(0,p)),e(n,m[0].replace(d,"")),l=l.substring(p+m[0].length);k(l);return a(g.join(""))}}])})(window,window.angular);
//# sourceMappingURL=angular-sanitize.min.js.map

angular.module("colorpicker.module",[]).factory("Helper",function(){"use strict";return{closestSlider:function(e){var o=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return o.bind(e)("I")?e.parentNode:e},getOffset:function(e,o){for(var t=0,n=0,r=e.getBoundingClientRect();e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)o||"BODY"!==e.tagName?(t+=e.scrollLeft,n+=e.scrollTop):(t+=document.documentElement.scrollLeft||e.scrollLeft,n+=document.documentElement.scrollTop||e.scrollTop),e=e.offsetParent;return{top:r.top+window.pageYOffset,left:r.left+window.pageXOffset,scrollX:t,scrollY:n}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}]}}).factory("Color",["Helper",function(e){"use strict";return{value:{h:1,s:1,b:1,a:1},rgb:function(){var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(e,o,t,n){e/=255,o/=255,t/=255;var r,i,l,s;return l=Math.max(e,o,t),s=l-Math.min(e,o,t),r=0===s?null:l===e?(o-t)/s:l===o?(t-e)/s+2:(e-o)/s+4,r=(r+360)%6*60/360,i=0===s?0:s/l,{h:r||1,s:i,b:l,a:n||1}},setColor:function(o){o=o?o.toLowerCase():o;for(var t in e.stringParsers)if(e.stringParsers.hasOwnProperty(t)){var n=e.stringParsers[t],r=n.re.exec(o),i=r&&n.parse(r);if(i)return this.value=this.RGBtoHSB.apply(null,i),!1}},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,o,t,n){e||(e=this.value.h,o=this.value.s,t=this.value.b),e*=360;var r,i,l,s,c;return e=e%360/60,c=t*o,s=c*(1-Math.abs(e%2-1)),r=i=l=t-c,e=~~e,r+=[c,s,0,0,s,c][e],i+=[s,c,c,s,0,0][e],l+=[0,0,s,c,c,s][e],{r:Math.round(255*r),g:Math.round(255*i),b:Math.round(255*l),a:n||this.value.a}},toHex:function(e,o,t,n){var r=this.toRGB(e,o,t,n);return"#"+(1<<24|parseInt(r.r,10)<<16|parseInt(r.g,10)<<8|parseInt(r.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(e){"use strict";var o={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},t={};return{getSlider:function(){return o},getLeftPosition:function(e){return Math.max(0,Math.min(o.maxLeft,o.left+((e.pageX||t.left)-t.left)))},getTopPosition:function(e){return Math.max(0,Math.min(o.maxTop,o.top+((e.pageY||t.top)-t.top)))},setSlider:function(n,r){var i=e.closestSlider(n.target),l=e.getOffset(i,r),s=i.getBoundingClientRect(),c=n.clientX-s.left,a=n.clientY-s.top;o.knob=i.children[0].style,o.left=n.pageX-l.left-window.pageXOffset+l.scrollX,o.top=n.pageY-l.top-window.pageYOffset+l.scrollY,t={left:n.pageX-(c-o.left),top:n.pageY-(a-o.top)}},setSaturation:function(e,t,n){o={maxLeft:n,maxTop:n,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(e,t)},setHue:function(e,t,n){o={maxLeft:0,maxTop:n,callLeft:!1,callTop:"setHue"},this.setSlider(e,t)},setAlpha:function(e,t,n){o={maxLeft:0,maxTop:n,callLeft:!1,callTop:"setAlpha"},this.setSlider(e,t)},setKnob:function(e,t){o.knob.top=e+"px",o.knob.left=t+"px"}}}]).directive("colorpicker",["$document","$compile","Color","Slider","Helper",function(e,o,t,n,r){"use strict";return{require:"?ngModel",restrict:"A",link:function(i,l,s,c){function a(){e.on("mousemove",u),e.on("mouseup",f)}function p(){try{D.css("backgroundColor",M[w]())}catch(e){D.css("backgroundColor",M.toHex())}B.css("backgroundColor",M.toHex(M.value.h,1,1,1)),"rgba"===w&&(x.css.backgroundColor=M.toHex())}function u(e){var o=n.getLeftPosition(e),t=n.getTopPosition(e),r=n.getSlider();n.setKnob(t,o),r.callLeft&&M[r.callLeft].call(M,o/P),r.callTop&&M[r.callTop].call(M,t/P),p();var s=M[w]();return l.val(s),c&&i.$apply(c.$setViewValue(s)),$&&F.val(s),!1}function f(){m("colorpicker-selected"),e.off("mousemove",u),e.off("mouseup",f)}function d(e){M.setColor(l.val()),$&&!e&&F.val(l.val()),Y.eq(0).css({left:M.value.s*P+"px",top:P-M.value.b*P+"px"}),Y.eq(1).css("top",P*(1-M.value.h)+"px"),Y.eq(2).css("top",P*(1-M.value.a)+"px"),p()}function h(){var e,o=r.getOffset(l[0]);return angular.isDefined(s.colorpickerParent)&&(o.left=0,o.top=0),"top"===S?e={top:o.top-147,left:o.left}:"right"===S?e={top:o.top,left:o.left+126}:"bottom"===S?e={top:o.top+l[0].offsetHeight+2,left:o.left}:"left"===S&&(e={top:o.top,left:o.left-150}),{top:e.top+"px",left:e.left+"px"}}function g(){v()}function k(){y.hasClass("colorpicker-visible")||(d(),y.addClass("colorpicker-visible").css(h()),m("colorpicker-shown"),I===!1&&e.on("mousedown",g),s.colorpickerIsOpen&&(i[s.colorpickerIsOpen]=!0,i.$$phase||i.$digest()))}function m(e){c&&i.$emit(e,{name:s.ngModel,value:c.$modelValue})}function v(){y.hasClass("colorpicker-visible")&&(y.removeClass("colorpicker-visible"),m("colorpicker-closed"),e.off("mousedown",g),s.colorpickerIsOpen&&(i[s.colorpickerIsOpen]=!1,i.$$phase||i.$digest()))}var b,x,w=s.colorpicker?s.colorpicker:"hex",S=angular.isDefined(s.colorpickerPosition)?s.colorpickerPosition:"bottom",I=angular.isDefined(s.colorpickerInline)?s.colorpickerInline:!1,C=angular.isDefined(s.colorpickerFixedPosition)?s.colorpickerFixedPosition:!1,L=angular.isDefined(s.colorpickerParent)?l.parent():angular.element(document.body),$=angular.isDefined(s.colorpickerWithInput)?s.colorpickerWithInput:!1,P=angular.isDefined(s.colorpickerSize)?s.colorpickerSize:100,b=P+"px",H=$?'<input type="text" name="colorpicker-input" spellcheck="false">':"",T=I?"":'<button type="button" class="close close-colorpicker">&times;</button>',O='<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>'+H+T+"</div></div>",y=angular.element(O),M=t,A=y.find("colorpicker-hue"),B=y.find("colorpicker-saturation"),D=y.find("colorpicker-preview"),Y=y.find("i");if(o(y)(i),y.css("min-width",parseInt(P)+29+"px"),B.css({width:b,height:b}),A.css("height",b),$){var F=y.find("input");F.css("width",b),F.on("mousedown",function(e){e.stopPropagation()}).on("keyup",function(){var e=this.value;l.val(e),c&&c.$modelValue!==e&&(i.$apply(c.$setViewValue(e)),d(!0))})}"rgba"===w&&(y.addClass("alpha"),x=y.find("colorpicker-alpha"),x.css("height",b),x.on("click",function(e){n.setAlpha(e,C,P),u(e)}).on("mousedown",function(e){n.setAlpha(e,C,P),a()}).on("mouseup",function(e){m("colorpicker-selected-alpha")})),A.on("click",function(e){n.setHue(e,C,P),u(e)}).on("mousedown",function(e){n.setHue(e,C,P),a()}).on("mouseup",function(e){m("colorpicker-selected-hue")}),B.on("click",function(e){n.setSaturation(e,C,P),u(e),angular.isDefined(s.colorpickerCloseOnSelect)&&v()}).on("mousedown",function(e){n.setSaturation(e,C,P),a()}).on("mouseup",function(e){m("colorpicker-selected-saturation")}),C&&y.addClass("colorpicker-fixed-position"),y.addClass("colorpicker-position-"+S),"true"===I&&y.addClass("colorpicker-inline"),L.append(y),c&&(c.$render=function(){l.val(c.$viewValue),d()}),l.on("blur keyup change",function(){d()}),l.on("$destroy",function(){y.remove()}),I===!1?l.on("click",k):k(),y.on("mousedown",function(e){e.stopPropagation(),e.preventDefault()}),y.find("button").on("click",function(){v()}),s.colorpickerIsOpen&&i.$watch(s.colorpickerIsOpen,function(e){e===!0?k():e===!1&&v()})}}}]);
(function(){angular.module("imageSpinner",[]).value("version","0.1.6")}).call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("imageSpinner").constant("imageSpinnerDefaultSettings",{lines:9,length:10,width:2,radius:3,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:10,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"}).directive("imageSpinner",["$window","imageSpinnerDefaultSettings",function(b,c){var d,e,f,g,h;return d=b.Image,f=function(){function b(b,e){var f=this;this.el=b,this.settings=e,this.load=a(this.load,this),null==e&&(e={}),e=angular.extend(c,e),this.spinner=new Spinner(e),this.container=this.el.parent(),this.container.hide=function(){return f.container.css("display","none")},this.container.show=function(){return f.container.css("display","block")},this.loader=new d,this.loader.onload=function(){return f.load()}}return b.prototype.setWidth=function(a){return a=""+a.replace(/px/,"")+"px",angular.element(this.container).css("width",a)},b.prototype.setHeight=function(a){return a=""+a.replace(/px/,"")+"px",angular.element(this.container).css("height",a)},b.prototype.show=function(){return this.loader.src=this.el.attr("src"),this.el.css("display","none"),this.spin()},b.prototype.load=function(){return this.unspin(),this.el.css("display","block"),this.container.css("display","block")},b.prototype.spin=function(){return this.hasSpinner?void 0:(this.hasSpinner=!0,this.spinner.spin(this.container[0]))},b.prototype.unspin=function(){return this.hasSpinner?(this.hasSpinner=!1,this.spinner.stop()):void 0},b}(),e="spinner-container",g=function(a){return void 0===a||null===a||""===a},h=function(a,b,c){var d,h,i,j;return d=angular.element("<div>").addClass(e).css("position","relative"),b.wrap(d),h=angular.element(b),i=c.imageSpinnerSettings,null==i&&(i={}),i=a.$eval(i),j=new f(h,i),function(b){var d,e,f;return e=function(a){return g(a)||g(h.attr("width"))||g(h.attr("height"))?void 0:b.show()},d=function(){var a;return a=h.attr("src"),f()?(e(a),g(a)?void 0:b.container.show()):(b.unspin(),b.container.hide())},f=function(){return!h.hasClass("ng-hide")},a.$watch(function(){return f()},function(a){return null!=a?d():void 0}),a.$on("$destroy",function(){return b.container.hide()}),c.$observe("ng-src",function(a){return g(a)?void 0:d()}),c.$observe("src",function(a){return g(a)?void 0:d()}),c.$observe("width",function(a){return g(a)?void 0:(b.setWidth(a),e(h.attr("src")))}),c.$observe("height",function(a){return g(a)?void 0:(b.setHeight(a),e(h.attr("src")))})}(j)},{restrict:"A",link:h,scope:{}}}])}.call(this);
/*! angularjs-slider - v5.4.3 -  (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervieu.me>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> -  https://github.com/angular-slider/angularjs-slider -  2016-08-07 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):"object"==typeof module&&module.exports?module.exports=b(require("angular")):b(a.angular)}(this,function(a){"use strict";var b=a.module("rzModule",[]).factory("RzSliderOptions",function(){var b={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,pushRange:!1,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,bindIndexForStepsArray:!1,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,hidePointerLabels:!1,hideLimitLabels:!1,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getTickColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,boundPointerLabels:!0,mergeRangeLabelsIfSame:!1,customTemplateScope:null},c={},d={};return d.options=function(b){a.extend(c,b)},d.getOptions=function(d){return a.extend({},b,c,d)},d}).factory("rzThrottle",["$timeout",function(a){return function(b,c,d){var e,f,g,h=Date.now||function(){return(new Date).getTime()},i=null,j=0;d=d||{};var k=function(){j=h(),i=null,g=b.apply(e,f),e=f=null};return function(){var l=h(),m=c-(l-j);return e=this,f=arguments,0>=m?(a.cancel(i),i=null,j=l,g=b.apply(e,f),e=f=null):i||d.trailing===!1||(i=a(k,m)),g}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(b,c,d,e,f,g){var h=function(a,b){this.scope=a,this.lowValue=0,this.highValue=0,this.sliderElem=b,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,offset:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.firstKeyDown=!1,this.internalChange=!1,this.cmbLabelShown=!1,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return h.prototype={init:function(){var b,c,e=this,f=function(){e.calcViewDimensions()};this.applyOptions(),this.syncLowValue(),this.range&&this.syncHighValue(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",f),a.element(d).on("resize",f),this.initHasRun=!0,b=g(function(){e.onLowHandleChange()},e.options.interval),c=g(function(){e.onHighHandleChange()},e.options.interval),this.scope.$on("rzSliderForceRender",function(){e.resetLabelsValue(),b(),e.range&&c(),e.resetSlider()}),this.scope.$watch("rzSliderOptions()",function(a,b){a!==b&&(e.applyOptions(),e.syncLowValue(),e.range&&e.syncHighValue(),e.resetSlider())},!0),this.scope.$watch("rzSliderModel",function(a,c){e.internalChange||a!==c&&b()}),this.scope.$watch("rzSliderHigh",function(a,b){e.internalChange||a!==b&&(null!=a&&c(),(e.range&&null==a||!e.range&&null!=a)&&(e.applyOptions(),e.resetSlider()))}),this.scope.$on("$destroy",function(){e.unbindEvents(),a.element(d).off("resize",f)})},findStepIndex:function(b){for(var c=0,d=0;d<this.options.stepsArray.length;d++){var e=this.options.stepsArray[d];if(e===b){c=d;break}if(a.isObject(e)&&e.value===b){c=d;break}}return c},syncLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.lowValue=this.scope.rzSliderModel:this.lowValue=this.findStepIndex(this.scope.rzSliderModel):this.lowValue=this.scope.rzSliderModel},syncHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.highValue=this.scope.rzSliderHigh:this.highValue=this.findStepIndex(this.scope.rzSliderHigh):this.highValue=this.scope.rzSliderHigh},getStepValue:function(b){var c=this.options.stepsArray[b];return a.isObject(c)?c.value:c},applyLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderModel=this.lowValue:this.scope.rzSliderModel=this.getStepValue(this.lowValue):this.scope.rzSliderModel=this.lowValue},applyHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderHigh=this.highValue:this.scope.rzSliderHigh=this.getStepValue(this.highValue):this.scope.rzSliderHigh=this.highValue},onLowHandleChange:function(){this.syncLowValue(),this.range&&this.syncHighValue(),this.setMinAndMax(),this.updateLowHandle(this.valueToOffset(this.lowValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.syncLowValue(),this.syncHighValue(),this.setMinAndMax(),this.updateHighHandle(this.valueToOffset(this.highValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var b;b=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{},this.options=f.getOptions(b),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues,this.scope.showTicks=this.options.showTicks,a.isNumber(this.options.showTicks)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(a){return String(a)},this.getLegend=this.options.getLegend),this.options.vertical&&(this.positionProperty="bottom",this.dimensionProperty="height"),this.options.customTemplateScope&&(this.scope.custom=this.options.customTemplateScope)},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(a){return this.options.bindIndexForStepsArray?this.getStepValue(a):a},this.getLegend=function(b){var c=this.options.stepsArray[b];return a.isObject(c)?c.legend:null}},resetSlider:function(){this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions()},initElemHandles:function(){a.forEach(this.sliderElem.children(),function(b,c){var d=a.element(b);switch(c){case 0:this.fullBar=d;break;case 1:this.selBar=d;break;case 2:this.minH=d;break;case 3:this.maxH=d;break;case 4:this.flrLab=d;break;case 5:this.ceilLab=d;break;case 6:this.minLab=d;break;case 7:this.maxLab=d;break;case 8:this.cmbLab=d;break;case 9:this.ticks=d}},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var a=this.options.showTicksValues&&!this.intermediateTicks;this.alwaysHide(this.minLab,a||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,a||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,a||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.options.vertical&&this.sliderElem.addClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(a,b){a.rzAlwaysHide=b,b?this.hideEl(a):this.showEl(a)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToOffset(this.lowValue)),this.range&&this.updateHighHandle(this.valueToOffset(this.highValue)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(a,b,c,d){d=void 0===d?!0:d;var e="",f=!1,g=b.hasClass("no-label-injection");d?(this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(a=this.getStepValue(a)),e=String(this.customTrFn(a,this.options.id,c))):e=String(a),(void 0===b.rzsv||b.rzsv.length!==e.length||b.rzsv.length>0&&0===b.rzsd)&&(f=!0,b.rzsv=e),g||b.html(e),this.scope[c+"Label"]=e,f&&this.getDimension(b)},setMinAndMax:function(){this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.enforceStep&&(this.lowValue=this.roundStep(this.lowValue),this.range&&(this.highValue=this.roundStep(this.highValue))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.highValue:this.lowValue,this.options.enforceRange&&(this.lowValue=this.sanitizeValue(this.lowValue),this.range&&(this.highValue=this.sanitizeValue(this.highValue))),this.applyLowValue(),this.range&&this.applyHighValue(),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical&&this.minH.attr("aria-orientation","vertical"),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical&&this.maxH.attr("aria-orientation","vertical"))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var a=this.getDimension(this.minH);this.handleHalfDim=a/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-a,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun&&(this.updateFloorLab(),this.updateCeilLab(),this.initHandles())},updateTicksScale:function(){if(this.options.showTicks){var a=this.step;this.intermediateTicks&&(a=this.options.showTicks);var b=Math.round((this.maxValue-this.minValue)/a)+1;this.scope.ticks=[];for(var c=0;b>c;c++){var d=this.roundStep(this.minValue+c*a),e={selected:this.isTickSelected(d)};if(e.selected&&this.options.getSelectionBarColor&&(e.style={"background-color":this.getSelectionBarColor()}),!e.selected&&this.options.getTickColor&&(e.style={"background-color":this.getTickColor(d)}),this.options.ticksTooltip&&(e.tooltip=this.options.ticksTooltip(d),e.tooltipPlacement=this.options.vertical?"right":"top"),this.options.showTicksValues&&(e.value=this.getDisplayValue(d,"tick-value"),this.options.ticksValuesTooltip&&(e.valueTooltip=this.options.ticksValuesTooltip(d),e.valueTooltipPlacement=this.options.vertical?"right":"top")),this.getLegend){var f=this.getLegend(d,this.options.id);f&&(e.legend=f)}this.options.rightToLeft?this.scope.ticks.unshift(e):this.scope.ticks.push(e)}}},isTickSelected:function(a){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var b=this.options.showSelectionBarFromValue;if(this.lowValue>b&&a>=b&&a<=this.lowValue)return!0;if(this.lowValue<b&&b>=a&&a>=this.lowValue)return!0}else if(this.options.showSelectionBarEnd){if(a>=this.lowValue)return!0}else if(this.options.showSelectionBar&&a<=this.lowValue)return!0;return this.range&&a>=this.lowValue&&a<=this.highValue?!0:!1},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var a=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,a)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var a=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,a)},updateHandles:function(a,b){"lowValue"===a?this.updateLowHandle(b):this.updateHighHandle(b),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(a,b){var c=this[a].rzsd,d=b-c/2+this.handleHalfDim,e=this.barDimension-c;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===a||!this.options.rightToLeft&&"maxLab"===a?Math.min(d,e):Math.min(Math.max(d,0),e):d},updateLowHandle:function(a){if(this.setPosition(this.minH,a),this.translateFn(this.lowValue,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",a)),this.options.getPointerColor){var b=this.getPointerColor("min");this.scope.minPointerStyle={backgroundColor:b}}this.shFloorCeil()},updateHighHandle:function(a){if(this.setPosition(this.maxH,a),this.translateFn(this.highValue,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",a)),this.options.getPointerColor){var b=this.getPointerColor("max");this.scope.maxPointerStyle={backgroundColor:b}}this.shFloorCeil()},shFloorCeil:function(){if(!this.options.hidePointerLabels){var a=!1,b=!1,c=this.options.rightToLeft,d=this.flrLab.rzsp,e=this.flrLab.rzsd,f=this.minLab.rzsp,g=this.minLab.rzsd,h=this.maxLab.rzsp,i=this.maxLab.rzsd,j=this.cmbLab.rzsp,k=this.cmbLab.rzsd,l=this.ceilLab.rzsp,m=this.handleHalfDim,n=c?f+g>=d-e-5:d+e+5>=f,o=c?l+m+10>=f-g:f+g>=l-m-10,p=c?l+10>=h-i:h+i>=l-10,q=c?j>=d-e-m:d+e+m>=j,r=c?l+10>=j-k:j+k>=l-10;if(n?(a=!0,this.hideEl(this.flrLab)):(a=!1,this.showEl(this.flrLab)),o?(b=!0,this.hideEl(this.ceilLab)):(b=!1,this.showEl(this.ceilLab)),this.range){var s=this.cmbLabelShown?r:p,t=this.cmbLabelShown?q:n;s?this.hideEl(this.ceilLab):b||this.showEl(this.ceilLab),t?this.hideEl(this.flrLab):a||this.showEl(this.flrLab)}}},updateSelectionBar:function(){var a=0,b=0,c=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,d=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;if(this.range)b=Math.abs(this.maxH.rzsp-this.minH.rzsp),a=d;else if(null!==this.options.showSelectionBarFromValue){var e=this.options.showSelectionBarFromValue,f=this.valueToOffset(e),g=this.options.rightToLeft?this.lowValue<=e:this.lowValue>e;g?(b=this.minH.rzsp-f,a=f+this.handleHalfDim):(b=f-this.minH.rzsp,a=this.minH.rzsp+this.handleHalfDim)}else c?(b=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,a=this.minH.rzsp+this.handleHalfDim):(b=Math.abs(this.maxH.rzsp-this.minH.rzsp)+this.handleHalfDim,a=0);if(this.setDimension(this.selBar,b),this.setPosition(this.selBar,a),this.options.getSelectionBarColor){var h=this.getSelectionBarColor();this.scope.barStyle={backgroundColor:h}}},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(a){return"max"===a?this.options.getPointerColor(this.scope.rzSliderHigh,a):this.options.getPointerColor(this.scope.rzSliderModel,a)},getTickColor:function(a){return this.options.getTickColor(a)},updateCmbLabel:function(){var a=null;if(a=this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp){var b=this.getDisplayValue(this.lowValue,"model"),c=this.getDisplayValue(this.highValue,"high"),d="";d=this.options.mergeRangeLabelsIfSame&&b===c?b:this.options.rightToLeft?c+" - "+b:b+" - "+c,this.translateFn(d,this.cmbLab,"cmb",!1);var e=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2;this.setPosition(this.cmbLab,e),this.cmbLabelShown=!0,this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)}else this.cmbLabelShown=!1,this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab)},getDisplayValue:function(a,b){return this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(a=this.getStepValue(a)),this.customTrFn(a,this.options.id,b)},roundStep:function(a,b){var c=b?b:this.step,d=parseFloat((a-this.minValue)/c).toPrecision(12);d=Math.round(+d)*c;var e=(this.minValue+d).toFixed(this.precision);return+e},hideEl:function(a){return a.css({visibility:"hidden"})},showEl:function(a){return a.rzAlwaysHide?a:a.css({visibility:"visible"})},setPosition:function(a,b){a.rzsp=b;var c={};return c[this.positionProperty]=b+"px",a.css(c),b},getDimension:function(a){var b=a[0].getBoundingClientRect();return this.options.vertical?a.rzsd=(b.bottom-b.top)*this.options.scale:a.rzsd=(b.right-b.left)*this.options.scale,a.rzsd},setDimension:function(a,b){a.rzsd=b;var c={};return c[this.dimensionProperty]=b+"px",a.css(c),b},valueToOffset:function(a){return this.options.rightToLeft?(this.maxValue-this.sanitizeValue(a))*this.maxPos/this.valueRange||0:(this.sanitizeValue(a)-this.minValue)*this.maxPos/this.valueRange||0},sanitizeValue:function(a){return Math.min(Math.max(a,this.minValue),this.maxValue)},offsetToValue:function(a){return this.options.rightToLeft?(1-a/this.maxPos)*this.valueRange+this.minValue:a/this.maxPos*this.valueRange+this.minValue},getEventXY:function(a){var b=this.options.vertical?"clientY":"clientX";return void 0!==a[b]?a[b]:void 0===a.originalEvent?a.touches[0][b]:a.originalEvent.touches[0][b]},getEventPosition:function(a){var b=this.sliderElem.rzsp,c=0;return c=this.options.vertical?-this.getEventXY(a)+b:this.getEventXY(a)-b,(c-this.handleHalfDim)*this.options.scale},getEventNames:function(a){var b={moveEvent:"",endEvent:""};return a.touches||void 0!==a.originalEvent&&a.originalEvent.touches?(b.moveEvent="touchmove",b.endEvent="touchend"):(b.moveEvent="mousemove",b.endEvent="mouseup"),b},getNearestHandle:function(a){if(!this.range)return this.minH;var b=this.getEventPosition(a),c=Math.abs(b-this.minH.rzsp),d=Math.abs(b-this.maxH.rzsp);return d>c?this.minH:c>d?this.maxH:this.options.rightToLeft?b>this.minH.rzsp?this.minH:this.maxH:b<this.minH.rzsp?this.minH:this.maxH},focusElement:function(a){var b=0;a[b].focus()},bindEvents:function(){var b,c,d;this.options.draggableRange?(b="rzSliderDrag",c=this.onDragStart,d=this.onDragMove):(b="lowValue",c=this.onStart,d=this.onMove),this.options.onlyBindHandles||(this.selBar.on("mousedown",a.bind(this,c,null,b)),this.selBar.on("mousedown",a.bind(this,d,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",a.bind(this,c,null,b)),this.maxH.on("mousedown",a.bind(this,c,null,b))):(this.minH.on("mousedown",a.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("mousedown",a.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",a.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",a.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",a.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",a.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",a.bind(this,c,null,b)),this.selBar.on("touchstart",a.bind(this,d,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",a.bind(this,c,null,b)),this.maxH.on("touchstart",a.bind(this,c,null,b))):(this.minH.on("touchstart",a.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("touchstart",a.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",a.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",a.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",a.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",a.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",a.bind(this,this.onPointerFocus,this.minH,"lowValue")),this.range&&this.maxH.on("focus",a.bind(this,this.onPointerFocus,this.maxH,"highValue")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(b,d,e){var f,g,h=this.getEventNames(e);e.stopPropagation(),e.preventDefault(),this.calcViewDimensions(),b?this.tracking=d:(b=this.getNearestHandle(e),this.tracking=b===this.minH?"lowValue":"highValue"),b.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(b),f=a.bind(this,this.dragging.active?this.onDragMove:this.onMove,b),g=a.bind(this,this.onEnd,f),c.on(h.moveEvent,f),c.one(h.endEvent,g),this.callOnStart()},onMove:function(b,c,d){var e,f=this.getEventPosition(c),g=this.options.rightToLeft?this.minValue:this.maxValue,h=this.options.rightToLeft?this.maxValue:this.minValue;0>=f?e=h:f>=this.maxPos?e=g:(e=this.offsetToValue(f),e=d&&a.isNumber(this.options.showTicks)?this.roundStep(e,this.options.showTicks):this.roundStep(e)),this.positionTrackingHandle(e)},onEnd:function(a,b){var d=this.getEventNames(b).moveEvent;this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1,c.off(d,a),this.callOnEnd()},onTickClick:function(a,b){this.onMove(a,b,!0)},onPointerFocus:function(b,c){this.tracking=c,b.one("blur",a.bind(this,this.onPointerBlur,b)),b.on("keydown",a.bind(this,this.onKeyboardEvent)),b.on("keyup",a.bind(this,this.onKeyUp)),this.firstKeyDown=!0,b.addClass("rz-active")},onKeyUp:function(){this.firstKeyDown=!0,this.callOnEnd()},onPointerBlur:function(a){a.off("keydown"),a.off("keyup"),this.tracking="",a.removeClass("rz-active")},getKeyActions:function(a){var b=a+this.step,c=a-this.step,d=a+this.valueRange/10,e=a-this.valueRange/10,f={UP:b,DOWN:c,LEFT:c,RIGHT:b,PAGEUP:d,PAGEDOWN:e,HOME:this.minValue,END:this.maxValue};return this.options.rightToLeft&&(f.LEFT=b,f.RIGHT=c,this.options.vertical&&(f.UP=c,f.DOWN=b)),f},onKeyboardEvent:function(a){var c=this[this.tracking],d=a.keyCode||a.which,e={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"},f=this.getKeyActions(c),g=e[d],h=f[g];if(null!=h&&""!==this.tracking){a.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.callOnStart());var i=this;b(function(){var a=i.roundStep(i.sanitizeValue(h));if(i.options.draggableRangeOnly){var b,c,d=i.highValue-i.lowValue;"lowValue"===i.tracking?(b=a,c=a+d,c>i.maxValue&&(c=i.maxValue,b=c-d)):(c=a,b=a-d,b<i.minValue&&(b=i.minValue,c=b+d)),i.positionTrackingBar(b,c)}else i.positionTrackingHandle(a)})}},onDragStart:function(a,b,c){var d=this.getEventPosition(c);this.dragging={active:!0,value:this.offsetToValue(d),difference:this.highValue-this.lowValue,lowLimit:this.options.rightToLeft?this.minH.rzsp-d:d-this.minH.rzsp,highLimit:this.options.rightToLeft?d-this.maxH.rzsp:this.maxH.rzsp-d},this.onStart(a,b,c)},getValue:function(a,b,c,d){var e=this.options.rightToLeft,f=null;return f="min"===a?c?d?e?this.minValue:this.maxValue-this.dragging.difference:e?this.maxValue-this.dragging.difference:this.minValue:e?this.offsetToValue(b+this.dragging.lowLimit):this.offsetToValue(b-this.dragging.lowLimit):c?d?e?this.minValue+this.dragging.difference:this.maxValue:e?this.maxValue:this.minValue+this.dragging.difference:e?this.offsetToValue(b+this.dragging.lowLimit)+this.dragging.difference:this.offsetToValue(b-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(f)},onDragMove:function(a,b){var c,d,e,f,g,h,i,j,k=this.getEventPosition(b);if(this.options.rightToLeft?(e=this.dragging.lowLimit,f=this.dragging.highLimit,i=this.maxH,j=this.minH):(e=this.dragging.highLimit,f=this.dragging.lowLimit,i=this.minH,j=this.maxH),g=f>=k,h=k>=this.maxPos-e,g){if(0===i.rzsp)return;c=this.getValue("min",k,!0,!1),d=this.getValue("max",k,!0,!1)}else if(h){if(j.rzsp===this.maxPos)return;d=this.getValue("max",k,!0,!0),c=this.getValue("min",k,!0,!0)}else c=this.getValue("min",k,!1),d=this.getValue("max",k,!1);this.positionTrackingBar(c,d)},positionTrackingBar:function(a,b){null!=this.options.minLimit&&a<this.options.minLimit&&(a=this.options.minLimit,b=a+this.dragging.difference),null!=this.options.maxLimit&&b>this.options.maxLimit&&(b=this.options.maxLimit,a=b-this.dragging.difference),this.lowValue=a,this.highValue=b,this.applyLowValue(),this.range&&this.applyHighValue(),this.applyModel(),this.updateHandles("lowValue",this.valueToOffset(a)),this.updateHandles("highValue",this.valueToOffset(b))},positionTrackingHandle:function(a){var b=!1;a=this.applyMinMaxLimit(a),this.range&&(this.options.pushRange?(a=this.applyPushRange(a),b=!0):(this.options.noSwitching&&("lowValue"===this.tracking&&a>this.highValue?a=this.applyMinMaxRange(this.highValue):"highValue"===this.tracking&&a<this.lowValue&&(a=this.applyMinMaxRange(this.lowValue))),a=this.applyMinMaxRange(a),"lowValue"===this.tracking&&a>this.highValue?(this.lowValue=this.highValue,this.applyLowValue(),this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="highValue",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH),b=!0):"highValue"===this.tracking&&a<this.lowValue&&(this.highValue=this.lowValue,this.applyHighValue(),this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="lowValue",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH),b=!0))),this[this.tracking]!==a&&(this[this.tracking]=a,"lowValue"===this.tracking?this.applyLowValue():this.applyHighValue(),this.updateHandles(this.tracking,this.valueToOffset(a)),this.updateAriaAttributes(),b=!0),b&&this.applyModel()},applyMinMaxLimit:function(a){return null!=this.options.minLimit&&a<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&a>this.options.maxLimit?this.options.maxLimit:a},applyMinMaxRange:function(a){var b="lowValue"===this.tracking?this.highValue:this.lowValue,c=Math.abs(a-b);return null!=this.options.minRange&&c<this.options.minRange?"lowValue"===this.tracking?this.highValue-this.options.minRange:this.lowValue+this.options.minRange:null!=this.options.maxRange&&c>this.options.maxRange?"lowValue"===this.tracking?this.highValue-this.options.maxRange:this.lowValue+this.options.maxRange:a},applyPushRange:function(a){var b="lowValue"===this.tracking?this.highValue-a:a-this.lowValue,c=null!==this.options.minRange?this.options.minRange:this.options.step;return c>b&&("lowValue"===this.tracking?(this.highValue=Math.min(a+c,this.maxValue),a=this.highValue-c,this.applyHighValue(),this.updateHandles("highValue",this.valueToOffset(this.highValue))):(this.lowValue=Math.max(a-c,this.minValue),a=this.lowValue+c,this.applyLowValue(),this.updateHandles("lowValue",this.valueToOffset(this.lowValue))),this.updateAriaAttributes()),a},applyModel:function(){this.internalChange=!0,this.scope.$apply(),this.callOnChange(),this.internalChange=!1},callOnStart:function(){if(this.options.onStart){var a=this,b="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){a.options.onStart(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh,b)})}},callOnChange:function(){if(this.options.onChange){var a=this,b="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){a.options.onChange(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh,b)})}},callOnEnd:function(){if(this.options.onEnd){var a=this,b="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){a.options.onEnd(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh,b)})}this.scope.$emit("slideEnded")}},h}]).directive("rzslider",["RzSlider",function(a){return{restrict:"AE",replace:!0,scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(a,b){return b.rzSliderTplUrl||"rzSliderTpl.html"},link:function(b,c){b.slider=new a(b,c)}}}]);return b.run(["$templateCache",function(a){a.put("rzSliderTpl.html",'<div class=rzslider><span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>')}]),b.name});
/**
 * Copyright (c) 2011-2014 Felix Gnass
 * Licensed under the MIT license
 */
(function(root, factory) {

  /* CommonJS */
  if (typeof exports == 'object')  module.exports = factory()

  /* AMD module */
  else if (typeof define == 'function' && define.amd) define(factory)

  /* Browser global */
  else root.Spinner = factory()
}
(this, function() {
  "use strict";

  var prefixes = ['webkit', 'Moz', 'ms', 'O'] /* Vendor prefixes */
    , animations = {} /* Animation rules keyed by their name */
    , useCssAnimations /* Whether to use CSS animations or setTimeout */

  /**
   * Utility function to create elements. If no tag name is given,
   * a DIV is created. Optionally properties can be passed.
   */
  function createEl(tag, prop) {
    var el = document.createElement(tag || 'div')
      , n

    for(n in prop) el[n] = prop[n]
    return el
  }

  /**
   * Appends children and returns the parent.
   */
  function ins(parent /* child1, child2, ...*/) {
    for (var i=1, n=arguments.length; i<n; i++)
      parent.appendChild(arguments[i])

    return parent
  }

  /**
   * Insert a new stylesheet to hold the @keyframe or VML rules.
   */
  var sheet = (function() {
    var el = createEl('style', {type : 'text/css'})
    ins(document.getElementsByTagName('head')[0], el)
    return el.sheet || el.styleSheet
  }())

  /**
   * Creates an opacity keyframe animation rule and returns its name.
   * Since most mobile Webkits have timing issues with animation-delay,
   * we create separate rules for each line/segment.
   */
  function addAnimation(alpha, trail, i, lines) {
    var name = ['opacity', trail, ~~(alpha*100), i, lines].join('-')
      , start = 0.01 + i/lines * 100
      , z = Math.max(1 - (1-alpha) / trail * (100-start), alpha)
      , prefix = useCssAnimations.substring(0, useCssAnimations.indexOf('Animation')).toLowerCase()
      , pre = prefix && '-' + prefix + '-' || ''

    if (!animations[name]) {
      sheet.insertRule(
        '@' + pre + 'keyframes ' + name + '{' +
        '0%{opacity:' + z + '}' +
        start + '%{opacity:' + alpha + '}' +
        (start+0.01) + '%{opacity:1}' +
        (start+trail) % 100 + '%{opacity:' + alpha + '}' +
        '100%{opacity:' + z + '}' +
        '}', sheet.cssRules.length)

      animations[name] = 1
    }

    return name
  }

  /**
   * Tries various vendor prefixes and returns the first supported property.
   */
  function vendor(el, prop) {
    var s = el.style
      , pp
      , i

    prop = prop.charAt(0).toUpperCase() + prop.slice(1)
    for(i=0; i<prefixes.length; i++) {
      pp = prefixes[i]+prop
      if(s[pp] !== undefined) return pp
    }
    if(s[prop] !== undefined) return prop
  }

  /**
   * Sets multiple style properties at once.
   */
  function css(el, prop) {
    for (var n in prop)
      el.style[vendor(el, n)||n] = prop[n]

    return el
  }

  /**
   * Fills in default values.
   */
  function merge(obj) {
    for (var i=1; i < arguments.length; i++) {
      var def = arguments[i]
      for (var n in def)
        if (obj[n] === undefined) obj[n] = def[n]
    }
    return obj
  }

  /**
   * Returns the line color from the given string or array.
   */
  function getColor(color, idx) {
    return typeof color == 'string' ? color : color[idx % color.length]
  }

  // Built-in defaults

  var defaults = {
    lines: 12,            // The number of lines to draw
    length: 7,            // The length of each line
    width: 5,             // The line thickness
    radius: 10,           // The radius of the inner circle
    rotate: 0,            // Rotation offset
    corners: 1,           // Roundness (0..1)
    color: '#000',        // #rgb or #rrggbb
    direction: 1,         // 1: clockwise, -1: counterclockwise
    speed: 1,             // Rounds per second
    trail: 100,           // Afterglow percentage
    opacity: 1/4,         // Opacity of the lines
    fps: 20,              // Frames per second when using setTimeout()
    zIndex: 2e9,          // Use a high z-index by default
    className: 'spinner', // CSS class to assign to the element
    top: '50%',           // center vertically
    left: '50%',          // center horizontally
    position: 'absolute'  // element position
  }

  /** The constructor */
  function Spinner(o) {
    this.opts = merge(o || {}, Spinner.defaults, defaults)
  }

  // Global defaults that override the built-ins:
  Spinner.defaults = {}

  merge(Spinner.prototype, {

    /**
     * Adds the spinner to the given target element. If this instance is already
     * spinning, it is automatically removed from its previous target b calling
     * stop() internally.
     */
    spin: function(target) {
      this.stop()

      var self = this
        , o = self.opts
        , el = self.el = css(createEl(0, {className: o.className}), {position: o.position, width: 0, zIndex: o.zIndex})

      css(el, {
        left: o.left,
        top: o.top
      })
        
      if (target) {
        target.insertBefore(el, target.firstChild||null)
      }

      el.setAttribute('role', 'progressbar')
      self.lines(el, self.opts)

      if (!useCssAnimations) {
        // No CSS animation support, use setTimeout() instead
        var i = 0
          , start = (o.lines - 1) * (1 - o.direction) / 2
          , alpha
          , fps = o.fps
          , f = fps/o.speed
          , ostep = (1-o.opacity) / (f*o.trail / 100)
          , astep = f/o.lines

        ;(function anim() {
          i++;
          for (var j = 0; j < o.lines; j++) {
            alpha = Math.max(1 - (i + (o.lines - j) * astep) % f * ostep, o.opacity)

            self.opacity(el, j * o.direction + start, alpha, o)
          }
          self.timeout = self.el && setTimeout(anim, ~~(1000/fps))
        })()
      }
      return self
    },

    /**
     * Stops and removes the Spinner.
     */
    stop: function() {
      var el = this.el
      if (el) {
        clearTimeout(this.timeout)
        if (el.parentNode) el.parentNode.removeChild(el)
        this.el = undefined
      }
      return this
    },

    /**
     * Internal method that draws the individual lines. Will be overwritten
     * in VML fallback mode below.
     */
    lines: function(el, o) {
      var i = 0
        , start = (o.lines - 1) * (1 - o.direction) / 2
        , seg

      function fill(color, shadow) {
        return css(createEl(), {
          position: 'absolute',
          width: (o.length+o.width) + 'px',
          height: o.width + 'px',
          background: color,
          boxShadow: shadow,
          transformOrigin: 'left',
          transform: 'rotate(' + ~~(360/o.lines*i+o.rotate) + 'deg) translate(' + o.radius+'px' +',0)',
          borderRadius: (o.corners * o.width>>1) + 'px'
        })
      }

      for (; i < o.lines; i++) {
        seg = css(createEl(), {
          position: 'absolute',
          top: 1+~(o.width/2) + 'px',
          transform: o.hwaccel ? 'translate3d(0,0,0)' : '',
          opacity: o.opacity,
          animation: useCssAnimations && addAnimation(o.opacity, o.trail, start + i * o.direction, o.lines) + ' ' + 1/o.speed + 's linear infinite'
        })

        if (o.shadow) ins(seg, css(fill('#000', '0 0 4px ' + '#000'), {top: 2+'px'}))
        ins(el, ins(seg, fill(getColor(o.color, i), '0 0 1px rgba(0,0,0,.1)')))
      }
      return el
    },

    /**
     * Internal method that adjusts the opacity of a single line.
     * Will be overwritten in VML fallback mode below.
     */
    opacity: function(el, i, val) {
      if (i < el.childNodes.length) el.childNodes[i].style.opacity = val
    }

  })


  function initVML() {

    /* Utility function to create a VML tag */
    function vml(tag, attr) {
      return createEl('<' + tag + ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">', attr)
    }

    // No CSS transforms but VML support, add a CSS rule for VML elements:
    sheet.addRule('.spin-vml', 'behavior:url(#default#VML)')

    Spinner.prototype.lines = function(el, o) {
      var r = o.length+o.width
        , s = 2*r

      function grp() {
        return css(
          vml('group', {
            coordsize: s + ' ' + s,
            coordorigin: -r + ' ' + -r
          }),
          { width: s, height: s }
        )
      }

      var margin = -(o.width+o.length)*2 + 'px'
        , g = css(grp(), {position: 'absolute', top: margin, left: margin})
        , i

      function seg(i, dx, filter) {
        ins(g,
          ins(css(grp(), {rotation: 360 / o.lines * i + 'deg', left: ~~dx}),
            ins(css(vml('roundrect', {arcsize: o.corners}), {
                width: r,
                height: o.width,
                left: o.radius,
                top: -o.width>>1,
                filter: filter
              }),
              vml('fill', {color: getColor(o.color, i), opacity: o.opacity}),
              vml('stroke', {opacity: 0}) // transparent stroke to fix color bleeding upon opacity change
            )
          )
        )
      }

      if (o.shadow)
        for (i = 1; i <= o.lines; i++)
          seg(i, -2, 'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')

      for (i = 1; i <= o.lines; i++) seg(i)
      return ins(el, g)
    }

    Spinner.prototype.opacity = function(el, i, val, o) {
      var c = el.firstChild
      o = o.shadow && o.lines || 0
      if (c && i+o < c.childNodes.length) {
        c = c.childNodes[i+o]; c = c && c.firstChild; c = c && c.firstChild
        if (c) c.opacity = val
      }
    }
  }

  var probe = css(createEl('group'), {behavior: 'url(#default#VML)'})

  if (!vendor(probe, 'transform') && probe.adj) initVML()
  else useCssAnimations = vendor(probe, 'animation')

  return Spinner

}));

//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
//# sourceMappingURL=underscore-min.map
/**
 * angular-strap
 * @version v2.2.4 - 2015-05-28
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com> (https://github.com/mgcrea)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(e,t,n){'use strict';angular.module('mgcrea.ngStrap',['mgcrea.ngStrap.modal','mgcrea.ngStrap.aside','mgcrea.ngStrap.alert','mgcrea.ngStrap.button','mgcrea.ngStrap.select','mgcrea.ngStrap.datepicker','mgcrea.ngStrap.timepicker','mgcrea.ngStrap.navbar','mgcrea.ngStrap.tooltip','mgcrea.ngStrap.popover','mgcrea.ngStrap.dropdown','mgcrea.ngStrap.typeahead','mgcrea.ngStrap.scrollspy','mgcrea.ngStrap.affix','mgcrea.ngStrap.tab','mgcrea.ngStrap.collapse']),angular.module('mgcrea.ngStrap.affix',['mgcrea.ngStrap.helpers.dimensions','mgcrea.ngStrap.helpers.debounce']).provider('$affix',function(){var e=this.defaults={offsetTop:'auto',inlineStyles:!0};this.$get=['$window','debounce','dimensions',function(t,n,a){function o(o,s){function l(e,t,n){var a=u(),o=c();return v>=a?'top':null!==e&&a+e<=t.top?'middle':null!==w&&t.top+n+$>=o-w?'bottom':'middle'}function u(){return p[0]===t?t.pageYOffset:p[0].scrollTop}function c(){return p[0]===t?t.document.body.scrollHeight:p[0].scrollHeight}var d={},f=angular.extend({},e,s),p=f.target,g='affix affix-top affix-bottom',m=!1,$=0,h=0,v=0,w=0,y=null,b=null,D=o.parent();if(f.offsetParent)if(f.offsetParent.match(/^\d+$/))for(var k=0;k<1*f.offsetParent-1;k++)D=D.parent();else D=angular.element(f.offsetParent);return d.init=function(){this.$parseOffsets(),h=a.offset(o[0]).top+$,m=!o[0].style.width,p.on('scroll',this.checkPosition),p.on('click',this.checkPositionWithEventLoop),r.on('resize',this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},d.destroy=function(){p.off('scroll',this.checkPosition),p.off('click',this.checkPositionWithEventLoop),r.off('resize',this.$debouncedOnResize)},d.checkPositionWithEventLoop=function(){setTimeout(d.checkPosition,1)},d.checkPosition=function(){var e=u(),t=a.offset(o[0]),n=a.height(o[0]),r=l(b,t,n);y!==r&&(y=r,o.removeClass(g).addClass('affix'+('middle'!==r?'-'+r:'')),'top'===r?(b=null,m&&o.css('width',''),f.inlineStyles&&(o.css('position',f.offsetParent?'':'relative'),o.css('top',''))):'bottom'===r?(b=f.offsetUnpin?-(1*f.offsetUnpin):t.top-e,m&&o.css('width',''),f.inlineStyles&&(o.css('position',f.offsetParent?'':'relative'),o.css('top',f.offsetParent?'':i[0].offsetHeight-w-n-h+'px'))):(b=null,m&&o.css('width',o[0].offsetWidth+'px'),f.inlineStyles&&(o.css('position','fixed'),o.css('top',$+'px'))))},d.$onResize=function(){d.$parseOffsets(),d.checkPosition()},d.$debouncedOnResize=n(d.$onResize,50),d.$parseOffsets=function(){var e=o.css('position');f.inlineStyles&&o.css('position',f.offsetParent?'':'relative'),f.offsetTop&&('auto'===f.offsetTop&&(f.offsetTop='+0'),f.offsetTop.match(/^[-+]\d+$/)?($=1*-f.offsetTop,v=f.offsetParent?a.offset(D[0]).top+1*f.offsetTop:a.offset(o[0]).top-a.css(o[0],'marginTop',!0)+1*f.offsetTop):v=1*f.offsetTop),f.offsetBottom&&(w=f.offsetParent&&f.offsetBottom.match(/^[-+]\d+$/)?c()-(a.offset(D[0]).top+a.height(D[0]))+1*f.offsetBottom+1:1*f.offsetBottom),f.inlineStyles&&o.css('position',e)},d.init(),d}var i=angular.element(t.document.body),r=angular.element(t);return o}]}).directive('bsAffix',['$affix','$window',function(e,t){return{restrict:'EAC',require:'^?bsAffixTarget',link:function(n,a,o,i){var r={scope:n,target:i?i.$element:angular.element(t)};angular.forEach(['offsetTop','offsetBottom','offsetParent','offsetUnpin','inlineStyles'],function(e){if(angular.isDefined(o[e])){var t=o[e];/true/i.test(t)&&(t=!0),/false/i.test(t)&&(t=!1),r[e]=t}});var s=e(a,r);n.$on('$destroy',function(){s&&s.destroy(),r=null,s=null})}}}]).directive('bsAffixTarget',function(){return{controller:['$element',function(e){this.$element=e}]}}),angular.module('mgcrea.ngStrap.alert',['mgcrea.ngStrap.modal']).provider('$alert',function(){var e=this.defaults={animation:'am-fade',prefixClass:'alert',prefixEvent:'alert',placement:null,template:'alert/alert.tpl.html',container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=['$modal','$timeout',function(t,n){function a(a){var o={},i=angular.extend({},e,a);o=t(i),o.$scope.dismissable=!!i.dismissable,i.type&&(o.$scope.type=i.type);var r=o.show;return i.duration&&(o.show=function(){r(),n(function(){o.hide()},1e3*i.duration)}),o}return a}]}).directive('bsAlert',['$window','$sce','$alert',function(e,t,n){e.requestAnimationFrame||e.setTimeout;return{restrict:'EAC',scope:!0,link:function(e,a,o,i){var r={scope:e,element:a,show:!1};angular.forEach(['template','placement','keyboard','html','container','animation','duration','dismissable'],function(e){angular.isDefined(o[e])&&(r[e]=o[e])});var s=/^(false|0|)$/i;angular.forEach(['keyboard','html','container','dismissable'],function(e){angular.isDefined(o[e])&&s.test(o[e])&&(r[e]=!1)}),e.hasOwnProperty('title')||(e.title=''),angular.forEach(['title','content','type'],function(n){o[n]&&o.$observe(n,function(a,o){e[n]=t.trustAsHtml(a)})}),o.bsAlert&&e.$watch(o.bsAlert,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var l=n(r);a.on(o.trigger||'click',l.toggle),e.$on('$destroy',function(){l&&l.destroy(),r=null,l=null})}}}]),angular.module('mgcrea.ngStrap.aside',['mgcrea.ngStrap.modal']).provider('$aside',function(){var e=this.defaults={animation:'am-fade-and-slide-right',prefixClass:'aside',prefixEvent:'aside',placement:'right',template:'aside/aside.tpl.html',contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=['$modal',function(t){function n(n){var a={},o=angular.extend({},e,n);return a=t(o)}return n}]}).directive('bsAside',['$window','$sce','$aside',function(e,t,n){e.requestAnimationFrame||e.setTimeout;return{restrict:'EAC',scope:!0,link:function(e,a,o,i){var r={scope:e,element:a,show:!1};angular.forEach(['template','contentTemplate','placement','backdrop','keyboard','html','container','animation'],function(e){angular.isDefined(o[e])&&(r[e]=o[e])});var s=/^(false|0|)$/i;angular.forEach(['backdrop','keyboard','html','container'],function(e){angular.isDefined(o[e])&&s.test(o[e])&&(r[e]=!1)}),angular.forEach(['title','content'],function(n){o[n]&&o.$observe(n,function(a,o){e[n]=t.trustAsHtml(a)})}),o.bsAside&&e.$watch(o.bsAside,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var l=n(r);a.on(o.trigger||'click',l.toggle),e.$on('$destroy',function(){l&&l.destroy(),r=null,l=null})}}}]),angular.module('mgcrea.ngStrap.collapse',[]).provider('$collapse',function(){var e=this.defaults={animation:'am-collapse',disallowToggle:!1,activeClass:'in',startCollapsed:!1,allowMultiple:!1},t=this.controller=function(t,n,a){function o(e){for(var t=l.$targets.$active,n=0;n<t.length;n++)e<t[n]&&(t[n]=t[n]-1),t[n]===l.$targets.length&&(t[n]=l.$targets.length-1)}function i(e){var t=l.$targets.$active;return-1===t.indexOf(e)?!1:!0}function r(e){var t=l.$targets.$active.indexOf(e);-1!==t&&l.$targets.$active.splice(t,1)}function s(e){l.$options.allowMultiple||l.$targets.$active.splice(0,1),-1===l.$targets.$active.indexOf(e)&&l.$targets.$active.push(e)}var l=this;l.$options=angular.copy(e),angular.forEach(['animation','disallowToggle','activeClass','startCollapsed','allowMultiple'],function(e){angular.isDefined(a[e])&&(l.$options[e]=a[e])});var u=/^(false|0|)$/i;angular.forEach(['disallowToggle','startCollapsed','allowMultiple'],function(e){angular.isDefined(a[e])&&u.test(a[e])&&(l.$options[e]=!1)}),l.$toggles=[],l.$targets=[],l.$viewChangeListeners=[],l.$registerToggle=function(e){l.$toggles.push(e)},l.$registerTarget=function(e){l.$targets.push(e)},l.$unregisterToggle=function(e){var t=l.$toggles.indexOf(e);l.$toggles.splice(t,1)},l.$unregisterTarget=function(e){var t=l.$targets.indexOf(e);l.$targets.splice(t,1),l.$options.allowMultiple&&r(e),o(t),l.$viewChangeListeners.forEach(function(e){e()})},l.$targets.$active=l.$options.startCollapsed?[]:[0],l.$setActive=t.$setActive=function(e){angular.isArray(e)?l.$targets.$active=e:l.$options.disallowToggle?s(e):i(e)?r(e):s(e),l.$viewChangeListeners.forEach(function(e){e()})},l.$activeIndexes=function(){return l.$options.allowMultiple?l.$targets.$active:1===l.$targets.$active.length?l.$targets.$active[0]:-1}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive('bsCollapse',['$window','$animate','$collapse',function(e,t,n){n.defaults;return{require:['?ngModel','bsCollapse'],controller:['$scope','$element','$attrs',n.controller],link:function(e,t,n,a){var o=a[0],i=a[1];o&&(i.$viewChangeListeners.push(function(){o.$setViewValue(i.$activeIndexes())}),o.$formatters.push(function(e){if(angular.isArray(e))i.$setActive(e);else{var t=i.$activeIndexes();angular.isArray(t)?-1===t.indexOf(1*e)&&i.$setActive(1*e):t!==1*e&&i.$setActive(1*e)}return e}))}}}]).directive('bsCollapseToggle',function(){return{require:['^?ngModel','^bsCollapse'],link:function(e,t,n,a){var o=(a[0],a[1]);t.attr('data-toggle','collapse'),o.$registerToggle(t),e.$on('$destroy',function(){o.$unregisterToggle(t)}),t.on('click',function(){var a=n.bsCollapseToggle||o.$toggles.indexOf(t);o.$setActive(1*a),e.$apply()})}}}).directive('bsCollapseTarget',['$animate',function(e){return{require:['^?ngModel','^bsCollapse'],link:function(t,n,a,o){function i(){var t=r.$targets.indexOf(n),a=r.$activeIndexes(),o='removeClass';angular.isArray(a)?-1!==a.indexOf(t)&&(o='addClass'):t===a&&(o='addClass'),e[o](n,r.$options.activeClass)}var r=(o[0],o[1]);n.addClass('collapse'),r.$options.animation&&n.addClass(r.$options.animation),r.$registerTarget(n),t.$on('$destroy',function(){r.$unregisterTarget(n)}),r.$viewChangeListeners.push(function(){i()}),i()}}}]),angular.module('mgcrea.ngStrap.datepicker',['mgcrea.ngStrap.helpers.dateParser','mgcrea.ngStrap.helpers.dateFormatter','mgcrea.ngStrap.tooltip']).provider('$datepicker',function(){var e=this.defaults={animation:'am-fade',prefixClass:'datepicker',placement:'bottom-left',template:'datepicker/datepicker.tpl.html',trigger:'focus',container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:'date',dateFormat:'shortDate',timezone:null,modelDateFormat:null,dayFormat:'dd',monthFormat:'MMM',yearFormat:'yyyy',monthTitleFormat:'MMMM yyyy',yearTitleFormat:'yyyy',strictFormat:!1,autoclose:!1,minDate:-(1/0),maxDate:+(1/0),startView:0,minView:0,startWeek:0,daysOfWeekDisabled:'',iconLeft:'glyphicon glyphicon-chevron-left',iconRight:'glyphicon glyphicon-chevron-right'};this.$get=['$window','$document','$rootScope','$sce','$dateFormatter','datepickerViews','$tooltip','$timeout',function(t,n,a,o,i,r,s,l){function u(t,n,a){function o(e){e.selected=u.$isSelected(e.date)}function i(){t[0].focus()}var u=s(t,angular.extend({},e,a)),f=a.scope,p=u.$options,g=u.$scope;p.startView&&(p.startView-=p.minView);var m=r(u);u.$views=m.views;var $=m.viewDate;g.$mode=p.startView,g.$iconLeft=p.iconLeft,g.$iconRight=p.iconRight;var h=u.$views[g.$mode];g.$select=function(e){u.select(e)},g.$selectPane=function(e){u.$selectPane(e)},g.$toggleMode=function(){u.setMode((g.$mode+1)%u.$views.length)},u.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())&&(u.$date=e,h.update.call(h,e)),u.$build(!0)},u.updateDisabledDates=function(e){p.disabledDateRanges=e;for(var t=0,n=g.rows.length;n>t;t++)angular.forEach(g.rows[t],u.$setDisabledEl)},u.select=function(e,t){angular.isDate(n.$dateValue)||(n.$dateValue=new Date(e)),!g.$mode||t?(n.$setViewValue(angular.copy(e)),n.$render(),p.autoclose&&!t&&l(function(){u.hide(!0)})):(angular.extend($,{year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),u.setMode(g.$mode-1),u.$build())},u.setMode=function(e){g.$mode=e,h=u.$views[g.$mode],u.$build()},u.$build=function(e){e===!0&&h.built||(e!==!1||h.built)&&h.build.call(h)},u.$updateSelected=function(){for(var e=0,t=g.rows.length;t>e;e++)angular.forEach(g.rows[e],o)},u.$isSelected=function(e){return h.isSelected(e)},u.$setDisabledEl=function(e){e.disabled=h.isDisabled(e.date)},u.$selectPane=function(e){var t=h.steps,n=new Date(Date.UTC($.year+(t.year||0)*e,$.month+(t.month||0)*e,1));angular.extend($,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),u.$build()},u.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),d){var t=angular.element(e.target);'button'!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler('click')}},u.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return g.$mode?g.$apply(function(){u.setMode(g.$mode-1)}):u.hide(!0);h.onKeyDown(e),f.$digest()}};var v=u.init;u.init=function(){return c&&p.useNative?(t.prop('type','date'),void t.css('-webkit-appearance','textfield')):(d&&(t.prop('type','text'),t.attr('readonly','true'),t.on('click',i)),void v())};var w=u.destroy;u.destroy=function(){c&&p.useNative&&t.off('click',i),w()};var y=u.show;u.show=function(){y(),l(function(){u.$isShown&&(u.$element.on(d?'touchstart':'mousedown',u.$onMouseDown),p.keyboard&&t.on('keydown',u.$onKeyDown))},0,!1)};var b=u.hide;return u.hide=function(e){u.$isShown&&(u.$element.off(d?'touchstart':'mousedown',u.$onMouseDown),p.keyboard&&t.off('keydown',u.$onKeyDown),b(e))},u}var c=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),d='createTouch'in t.document&&c;return e.lang||(e.lang=i.getDefaultLocale()),u.defaults=e,u}]}).directive('bsDatepicker',['$window','$parse','$q','$dateFormatter','$dateParser','$datepicker',function(e,t,n,a,o,i){var r=(i.defaults,/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent));return{restrict:'EAC',require:'ngModel',link:function(e,t,n,s){function l(e){return e&&e.length?e:null}function u(e){if(angular.isDate(e)){var t=isNaN(p.$options.minDate)||e.getTime()>=p.$options.minDate,n=isNaN(p.$options.maxDate)||e.getTime()<=p.$options.maxDate,a=t&&n;s.$setValidity('date',a),s.$setValidity('min',t),s.$setValidity('max',n),a&&(s.$dateValue=e)}}function c(){return!s.$dateValue||isNaN(s.$dateValue.getTime())?'':m(s.$dateValue,d.dateFormat)}var d={scope:e,controller:s};angular.forEach(['placement','container','delay','trigger','html','animation','template','autoclose','dateType','dateFormat','timezone','modelDateFormat','dayFormat','strictFormat','startWeek','startDate','useNative','lang','startView','minView','iconLeft','iconRight','daysOfWeekDisabled','id','prefixClass','prefixEvent'],function(e){angular.isDefined(n[e])&&(d[e]=n[e])});var f=/^(false|0|)$/i;angular.forEach(['html','container','autoclose','useNative'],function(e){angular.isDefined(n[e])&&f.test(n[e])&&(d[e]=!1)}),n.bsShow&&e.$watch(n.bsShow,function(e,t){p&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(datepicker),?/i)),e===!0?p.show():p.hide())});var p=i(t,s,d);d=p.$options,r&&d.useNative&&(d.dateFormat='yyyy-MM-dd');var g=d.lang,m=function(e,t){return a.formatDate(e,t,g)},$=o({format:d.dateFormat,lang:g,strict:d.strictFormat});angular.forEach(['minDate','maxDate'],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){p.$options[e]=$.getDateForAttribute(e,t),!isNaN(p.$options[e])&&p.$build(!1),u(s.$dateValue)})}),e.$watch(n.ngModel,function(e,t){p.update(s.$dateValue)},!0),angular.isDefined(n.disabledDates)&&e.$watch(n.disabledDates,function(e,t){e=l(e),t=l(t),e&&p.updateDisabledDates(e)}),s.$parsers.unshift(function(e){var t;if(!e)return s.$setValidity('date',!0),null;var n=$.parse(e,s.$dateValue);return!n||isNaN(n.getTime())?void s.$setValidity('date',!1):(u(n),'string'===d.dateType?(t=$.timezoneOffsetAdjust(n,d.timezone,!0),m(t,d.modelDateFormat||d.dateFormat)):(t=$.timezoneOffsetAdjust(s.$dateValue,d.timezone,!0),'number'===d.dateType?t.getTime():'unix'===d.dateType?t.getTime()/1e3:'iso'===d.dateType?t.toISOString():new Date(t)))}),s.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?0/0:angular.isDate(e)?e:'string'===d.dateType?$.parse(e,null,d.modelDateFormat):new Date('unix'===d.dateType?1e3*e:e),s.$dateValue=$.timezoneOffsetAdjust(t,d.timezone),c()}),s.$render=function(){t.val(c())},e.$on('$destroy',function(){p&&p.destroy(),d=null,p=null})}}}]).provider('datepickerViews',function(){function e(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function t(e,t){return(e%t+t)%t}this.defaults={dayFormat:'dd',daySplit:7};this.$get=['$dateFormatter','$dateParser','$sce',function(n,a,o){return function(i){var r=i.$scope,s=i.$options,l=s.lang,u=function(e,t){return n.formatDate(e,t,l)},c=a({format:s.dateFormat,lang:l,strict:s.strictFormat}),d=n.weekdaysShort(l),f=d.slice(s.startWeek).concat(d.slice(0,s.startWeek)),p=o.trustAsHtml('<th class="dow text-center">'+f.join('</th><th class="dow text-center">')+'</th>'),g=i.$date||(s.startDate?c.getDateForAttribute('startDate',s.startDate):new Date),m={year:g.getFullYear(),month:g.getMonth(),date:g.getDate()},$=[{format:s.dayFormat,split:7,steps:{month:1},update:function(e,t){!this.built||t||e.getFullYear()!==m.year||e.getMonth()!==m.month?(angular.extend(m,{year:i.$date.getFullYear(),month:i.$date.getMonth(),date:i.$date.getDate()}),i.$build()):(e.getDate()!==m.date||1===e.getDate())&&(m.date=i.$date.getDate(),i.$updateSelected())},build:function(){var n=new Date(m.year,m.month,1),a=n.getTimezoneOffset(),o=new Date(+n-864e5*t(n.getDay()-s.startWeek,7)),l=o.getTimezoneOffset(),d=c.timezoneOffsetAdjust(new Date,s.timezone).toDateString();l!==a&&(o=new Date(+o+6e4*(l-a)));for(var f,g=[],$=0;42>$;$++)f=c.daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth(),o.getDate()+$)),g.push({date:f,isToday:f.toDateString()===d,label:u(f,this.format),selected:i.$date&&this.isSelected(f),muted:f.getMonth()!==m.month,disabled:this.isDisabled(f)});r.title=u(n,s.monthTitleFormat),r.showLabels=!0,r.labels=p,r.rows=e(g,this.split),this.built=!0},isSelected:function(e){return i.$date&&e.getFullYear()===i.$date.getFullYear()&&e.getMonth()===i.$date.getMonth()&&e.getDate()===i.$date.getDate()},isDisabled:function(e){var t=e.getTime();if(t<s.minDate||t>s.maxDate)return!0;if(-1!==s.daysOfWeekDisabled.indexOf(e.getDay()))return!0;if(s.disabledDateRanges)for(var n=0;n<s.disabledDateRanges.length;n++)if(t>=s.disabledDateRanges[n].start&&t<=s.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(e){if(i.$date){var t,n=i.$date.getTime();37===e.keyCode?t=new Date(n-864e5):38===e.keyCode?t=new Date(n-6048e5):39===e.keyCode?t=new Date(n+864e5):40===e.keyCode&&(t=new Date(n+6048e5)),this.isDisabled(t)||i.select(t,!0)}}},{name:'month',format:s.monthFormat,split:4,steps:{year:1},update:function(e,t){this.built&&e.getFullYear()===m.year?e.getMonth()!==m.month&&(angular.extend(m,{month:i.$date.getMonth(),date:i.$date.getDate()}),i.$updateSelected()):(angular.extend(m,{year:i.$date.getFullYear(),month:i.$date.getMonth(),date:i.$date.getDate()}),i.$build())},build:function(){for(var t,n=(new Date(m.year,0,1),[]),a=0;12>a;a++)t=new Date(m.year,a,1),n.push({date:t,label:u(t,this.format),selected:i.$isSelected(t),disabled:this.isDisabled(t)});r.title=u(t,s.yearTitleFormat),r.showLabels=!1,r.rows=e(n,this.split),this.built=!0},isSelected:function(e){return i.$date&&e.getFullYear()===i.$date.getFullYear()&&e.getMonth()===i.$date.getMonth()},isDisabled:function(e){var t=+new Date(e.getFullYear(),e.getMonth()+1,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){if(i.$date){var t=i.$date.getMonth(),n=new Date(i.$date);37===e.keyCode?n.setMonth(t-1):38===e.keyCode?n.setMonth(t-4):39===e.keyCode?n.setMonth(t+1):40===e.keyCode&&n.setMonth(t+4),this.isDisabled(n)||i.select(n,!0)}}},{name:'year',format:s.yearFormat,split:4,steps:{year:12},update:function(e,t){!this.built||t||parseInt(e.getFullYear()/20,10)!==parseInt(m.year/20,10)?(angular.extend(m,{year:i.$date.getFullYear(),month:i.$date.getMonth(),date:i.$date.getDate()}),i.$build()):e.getFullYear()!==m.year&&(angular.extend(m,{year:i.$date.getFullYear(),month:i.$date.getMonth(),date:i.$date.getDate()}),i.$updateSelected())},build:function(){for(var t,n=m.year-m.year%(3*this.split),a=[],o=0;12>o;o++)t=new Date(n+o,0,1),a.push({date:t,label:u(t,this.format),selected:i.$isSelected(t),disabled:this.isDisabled(t)});r.title=a[0].label+'-'+a[a.length-1].label,r.showLabels=!1,r.rows=e(a,this.split),this.built=!0},isSelected:function(e){return i.$date&&e.getFullYear()===i.$date.getFullYear()},isDisabled:function(e){var t=+new Date(e.getFullYear()+1,0,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){if(i.$date){var t=i.$date.getFullYear(),n=new Date(i.$date);37===e.keyCode?n.setYear(t-1):38===e.keyCode?n.setYear(t-4):39===e.keyCode?n.setYear(t+1):40===e.keyCode&&n.setYear(t+4),this.isDisabled(n)||i.select(n,!0)}}}];return{views:s.minView?Array.prototype.slice.call($,s.minView):$,viewDate:m}}}]}),angular.module('mgcrea.ngStrap.dropdown',['mgcrea.ngStrap.tooltip']).provider('$dropdown',function(){var e=this.defaults={animation:'am-fade',prefixClass:'dropdown',prefixEvent:'dropdown',placement:'bottom-left',template:'dropdown/dropdown.tpl.html',trigger:'click',container:!1,keyboard:!0,html:!1,delay:0};this.$get=['$window','$rootScope','$tooltip','$timeout',function(t,n,a,o){function i(t,i){function l(e){return e.target!==t[0]?e.target!==t[0]&&u.hide():void 0}{var u={},c=angular.extend({},e,i);u.$scope=c.scope&&c.scope.$new()||n.$new()}u=a(t,c);var d=t.parent();u.$onKeyDown=function(e){if(/(38|40)/.test(e.keyCode)){e.preventDefault(),e.stopPropagation();var t=angular.element(u.$element[0].querySelectorAll('li:not(.divider) a'));if(t.length){var n;angular.forEach(t,function(e,t){s&&s.call(e,':focus')&&(n=t)}),38===e.keyCode&&n>0?n--:40===e.keyCode&&n<t.length-1?n++:angular.isUndefined(n)&&(n=0),t.eq(n)[0].focus()}}};var f=u.show;u.show=function(){f(),o(function(){c.keyboard&&u.$element&&u.$element.on('keydown',u.$onKeyDown),r.on('click',l)},0,!1),d.hasClass('dropdown')&&d.addClass('open')};var p=u.hide;u.hide=function(){u.$isShown&&(c.keyboard&&u.$element&&u.$element.off('keydown',u.$onKeyDown),r.off('click',l),d.hasClass('dropdown')&&d.removeClass('open'),p())};var g=u.destroy;return u.destroy=function(){r.off('click',l),g()},u}var r=angular.element(t.document.body),s=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return i}]}).directive('bsDropdown',['$window','$sce','$dropdown',function(e,t,n){return{restrict:'EAC',scope:!0,link:function(e,t,a,o){var i={scope:e};angular.forEach(['placement','container','delay','trigger','keyboard','html','animation','template','id'],function(e){angular.isDefined(a[e])&&(i[e]=a[e])});var r=/^(false|0|)$/i;angular.forEach(['html','container'],function(e){angular.isDefined(a[e])&&r.test(a[e])&&(i[e]=!1)}),a.bsDropdown&&e.$watch(a.bsDropdown,function(t,n){e.content=t},!0),a.bsShow&&e.$watch(a.bsShow,function(e,t){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(dropdown),?/i)),e===!0?s.show():s.hide())});var s=n(t,i);e.$on('$destroy',function(){s&&s.destroy(),i=null,s=null})}}}]),angular.module('mgcrea.ngStrap.button',[]).provider('$button',function(){var e=this.defaults={activeClass:'active',toggleEvent:'click'};this.$get=function(){return{defaults:e}}}).directive('bsCheckboxGroup',function(){return{restrict:'A',require:'ngModel',compile:function(e,t){e.attr('data-toggle','buttons'),e.removeAttr('ng-model');var n=e[0].querySelectorAll('input[type="checkbox"]');angular.forEach(n,function(e){var n=angular.element(e);n.attr('bs-checkbox',''),n.attr('ng-model',t.ngModel+'.'+n.attr('value'))})}}}).directive('bsCheckbox',['$button','$$rAF',function(e,t){var n=e.defaults,a=/^(true|false|\d+)$/;return{restrict:'A',require:'ngModel',link:function(e,o,i,r){var s=n,l='INPUT'===o[0].nodeName,u=l?o.parent():o,c=angular.isDefined(i.trueValue)?i.trueValue:!0;a.test(i.trueValue)&&(c=e.$eval(i.trueValue));var d=angular.isDefined(i.falseValue)?i.falseValue:!1;a.test(i.falseValue)&&(d=e.$eval(i.falseValue));var f='boolean'!=typeof c||'boolean'!=typeof d;f&&(r.$parsers.push(function(e){return e?c:d}),r.$formatters.push(function(e){return angular.equals(e,c)}),e.$watch(i.ngModel,function(e,t){r.$render()})),r.$render=function(){var e=angular.equals(r.$modelValue,c);t(function(){l&&(o[0].checked=e),u.toggleClass(s.activeClass,e)})},o.bind(s.toggleEvent,function(){e.$apply(function(){l||r.$setViewValue(!u.hasClass('active')),f||r.$render()})})}}}]).directive('bsRadioGroup',function(){return{restrict:'A',require:'ngModel',compile:function(e,t){e.attr('data-toggle','buttons'),e.removeAttr('ng-model');var n=e[0].querySelectorAll('input[type="radio"]');angular.forEach(n,function(e){angular.element(e).attr('bs-radio',''),angular.element(e).attr('ng-model',t.ngModel)})}}}).directive('bsRadio',['$button','$$rAF',function(e,t){var n=e.defaults,a=/^(true|false|\d+)$/;return{restrict:'A',require:'ngModel',link:function(e,o,i,r){var s,l=n,u='INPUT'===o[0].nodeName,c=u?o.parent():o;i.$observe('value',function(t){s=a.test(t)?e.$eval(t):t,r.$render()}),r.$render=function(){var e=angular.equals(r.$modelValue,s);t(function(){u&&(o[0].checked=e),c.toggleClass(l.activeClass,e)})},o.bind(l.toggleEvent,function(){e.$apply(function(){r.$setViewValue(s),r.$render()})})}}}]),angular.module('mgcrea.ngStrap.helpers.dateFormatter',[]).service('$dateFormatter',['$locale','dateFilter',function(e,t){function n(e){return/(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(e).slice(1)}this.getDefaultLocale=function(){return e.id},this.getDatetimeFormat=function(t,n){return e.DATETIME_FORMATS[t]||t},this.weekdaysShort=function(t){return e.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(e){return n(e)[0]},this.minutesFormat=function(e){return n(e)[2]},this.secondsFormat=function(e){return n(e)[4]},this.timeSeparator=function(e){return n(e)[1]},this.showSeconds=function(e){return!!n(e)[4]},this.showAM=function(e){return!!n(e)[5]},this.formatDate=function(e,n,a,o){return t(e,n,o)}}]),angular.module('mgcrea.ngStrap.helpers.dateParser',[]).provider('$dateParser',['$localeProvider',function(e){function t(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function n(){}function a(e){return!isNaN(parseFloat(e))&&isFinite(e)}function o(e,t){for(var n=e.length,a=t.toString().toLowerCase(),o=0;n>o;o++)if(e[o].toLowerCase()===a)return o;return-1}t.prototype.setMilliseconds=function(e){this.milliseconds=e},t.prototype.setSeconds=function(e){this.seconds=e},t.prototype.setMinutes=function(e){this.minutes=e},t.prototype.setHours=function(e){this.hours=e},t.prototype.getHours=function(){return this.hours},t.prototype.setDate=function(e){this.day=e},t.prototype.setMonth=function(e){this.month=e},t.prototype.setFullYear=function(e){this.year=e},t.prototype.fromDate=function(e){return this.year=e.getFullYear(),this.month=e.getMonth(),this.day=e.getDate(),this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds(),this},t.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var i=t.prototype,r=this.defaults={format:'shortDate',strict:!1};this.$get=['$locale','dateFilter',function(e,s){var l=function(l){function u(e){var t,n=Object.keys(h),a=[],o=[],i=e;for(t=0;t<n.length;t++)if(e.split(n[t]).length>1){var r=i.search(n[t]);e=e.split(n[t]).join(''),h[n[t]]&&(a[r]=h[n[t]])}return angular.forEach(a,function(e){e&&o.push(e)}),o}function c(e){return e.replace(/\//g,'[\\/]').replace('/-/g','[-]').replace(/\./g,'[.]').replace(/\\s/g,'[\\s]')}function d(e){var t,n=Object.keys($),a=e;for(t=0;t<n.length;t++)a=a.split(n[t]).join('${'+t+'}');for(t=0;t<n.length;t++)a=a.split('${'+t+'}').join('('+$[n[t]]+')');return e=c(e),new RegExp('^'+a+'$',['i'])}var f,p,g=angular.extend({},r,l),m={},$={sss:'[0-9]{3}',ss:'[0-5][0-9]',s:g.strict?'[1-5]?[0-9]':'[0-9]|[0-5][0-9]',mm:'[0-5][0-9]',m:g.strict?'[1-5]?[0-9]':'[0-9]|[0-5][0-9]',HH:'[01][0-9]|2[0-3]',H:g.strict?'1?[0-9]|2[0-3]':'[01]?[0-9]|2[0-3]',hh:'[0][1-9]|[1][012]',h:g.strict?'[1-9]|1[012]':'0?[1-9]|1[012]',a:'AM|PM',EEEE:e.DATETIME_FORMATS.DAY.join('|'),EEE:e.DATETIME_FORMATS.SHORTDAY.join('|'),dd:'0[1-9]|[12][0-9]|3[01]',d:g.strict?'[1-9]|[1-2][0-9]|3[01]':'0?[1-9]|[1-2][0-9]|3[01]',MMMM:e.DATETIME_FORMATS.MONTH.join('|'),MMM:e.DATETIME_FORMATS.SHORTMONTH.join('|'),MM:'0[1-9]|1[012]',M:g.strict?'[1-9]|1[012]':'0?[1-9]|1[012]',yyyy:'[1]{1}[0-9]{3}|[2]{1}[0-9]{3}',yy:'[0-9]{2}',y:g.strict?'-?(0|[1-9][0-9]{0,3})':'-?0*[0-9]{1,4}'},h={sss:i.setMilliseconds,ss:i.setSeconds,s:i.setSeconds,mm:i.setMinutes,m:i.setMinutes,HH:i.setHours,H:i.setHours,hh:i.setHours,h:i.setHours,EEEE:n,EEE:n,dd:i.setDate,d:i.setDate,a:function(e){var t=this.getHours()%12;return this.setHours(e.match(/pm/i)?t+12:t)},MMMM:function(t){return this.setMonth(o(e.DATETIME_FORMATS.MONTH,t))},MMM:function(t){return this.setMonth(o(e.DATETIME_FORMATS.SHORTMONTH,t))},MM:function(e){return this.setMonth(1*e-1)},M:function(e){return this.setMonth(1*e-1)},yyyy:i.setFullYear,yy:function(e){return this.setFullYear(2e3+1*e)},y:i.setFullYear};return m.init=function(){m.$format=e.DATETIME_FORMATS[g.format]||g.format,f=d(m.$format),p=u(m.$format)},m.isValid=function(e){return angular.isDate(e)?!isNaN(e.getTime()):f.test(e)},m.parse=function(n,a,o,i){o&&(o=e.DATETIME_FORMATS[o]||o),angular.isDate(n)&&(n=s(n,o||m.$format,i));var r=o?d(o):f,l=o?u(o):p,c=r.exec(n);if(!c)return!1;for(var g=(new t).fromDate(a&&!isNaN(a.getTime())?a:new Date(1970,0,1,0)),$=0;$<c.length-1;$++)l[$]&&l[$].call(g,c[$+1]);var h=g.toDate();return parseInt(g.day,10)!==h.getDate()?!1:h},m.getDateForAttribute=function(e,t){var n;if('today'===t){var o=new Date;n=new Date(o.getFullYear(),o.getMonth(),o.getDate()+('maxDate'===e?1:0),0,0,0,'minDate'===e?0:-1)}else n=angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)):a(t)?new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?'minDate'===e?-(1/0):+(1/0):new Date(t);return n},m.getTimeForAttribute=function(e,t){var n;return n='now'===t?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)).setFullYear(1970,0,1):a(t)?new Date(parseInt(t,10)).setFullYear(1970,0,1):angular.isString(t)&&0===t.length?'minTime'===e?-(1/0):+(1/0):m.parse(t,new Date(1970,0,1,0))},m.daylightSavingAdjust=function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},m.timezoneOffsetAdjust=function(e,t,n){return e?(t&&'UTC'===t&&(e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+(n?-1:1)*e.getTimezoneOffset())),e):null},m.init(),m};return l}]}]),angular.module('mgcrea.ngStrap.helpers.debounce',[]).factory('debounce',['$timeout',function(e){return function(t,n,a){var o=null;return function(){var i=this,r=arguments,s=a&&!o;return o&&e.cancel(o),o=e(function(){o=null,a||t.apply(i,r)},n,!1),s&&t.apply(i,r),o}}}]).factory('throttle',['$timeout',function(e){return function(t,n,a){var o=null;return a||(a={}),function(){var i=this,r=arguments;o||(a.leading!==!1&&t.apply(i,r),o=e(function(){o=null,a.trailing!==!1&&t.apply(i,r)},n,!1))}}}]),angular.module('mgcrea.ngStrap.helpers.dimensions',[]).factory('dimensions',['$document','$window',function(t,n){var a=(angular.element,{}),o=a.nodeName=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()};a.css=function(t,n,a){var o;return o=t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n],a===!0?parseFloat(o)||0:o},a.offset=function(t){var n=t.getBoundingClientRect(),a=t.ownerDocument;return{width:n.width||t.offsetWidth,height:n.height||t.offsetHeight,top:n.top+(e.pageYOffset||a.documentElement.scrollTop)-(a.documentElement.clientTop||0),left:n.left+(e.pageXOffset||a.documentElement.scrollLeft)-(a.documentElement.clientLeft||0)}},a.setOffset=function(e,t,n){var o,i,r,s,l,u,c,d=a.css(e,'position'),f=angular.element(e),p={};'static'===d&&(e.style.position='relative'),l=a.offset(e),r=a.css(e,'top'),u=a.css(e,'left'),c=('absolute'===d||'fixed'===d)&&(r+u).indexOf('auto')>-1,c?(o=a.position(e),s=o.top,i=o.left):(s=parseFloat(r)||0,i=parseFloat(u)||0),angular.isFunction(t)&&(t=t.call(e,n,l)),
null!==t.top&&(p.top=t.top-l.top+s),null!==t.left&&(p.left=t.left-l.left+i),'using'in t?t.using.call(f,p):f.css({top:p.top+'px',left:p.left+'px'})},a.position=function(e){var t,n,r={top:0,left:0};return'fixed'===a.css(e,'position')?n=e.getBoundingClientRect():(t=i(e),n=a.offset(e),o(t,'html')||(r=a.offset(t)),r.top+=a.css(t,'borderTopWidth',!0),r.left+=a.css(t,'borderLeftWidth',!0)),{width:e.offsetWidth,height:e.offsetHeight,top:n.top-r.top-a.css(e,'marginTop',!0),left:n.left-r.left-a.css(e,'marginLeft',!0)}};var i=function(e){var t=e.ownerDocument,n=e.offsetParent||t;if(o(n,'#document'))return t.documentElement;for(;n&&!o(n,'html')&&'static'===a.css(n,'position');)n=n.offsetParent;return n||t.documentElement};return a.height=function(e,t){var n=e.offsetHeight;return t?n+=a.css(e,'marginTop',!0)+a.css(e,'marginBottom',!0):n-=a.css(e,'paddingTop',!0)+a.css(e,'paddingBottom',!0)+a.css(e,'borderTopWidth',!0)+a.css(e,'borderBottomWidth',!0),n},a.width=function(e,t){var n=e.offsetWidth;return t?n+=a.css(e,'marginLeft',!0)+a.css(e,'marginRight',!0):n-=a.css(e,'paddingLeft',!0)+a.css(e,'paddingRight',!0)+a.css(e,'borderLeftWidth',!0)+a.css(e,'borderRightWidth',!0),n},a}]),angular.module('mgcrea.ngStrap.helpers.parseOptions',[]).provider('$parseOptions',function(){var e=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=['$parse','$q',function(t,n){function a(a,o){function i(e,t){return e.map(function(e,n){var a,o,i={};return i[c]=e,a=u(t,i),o=p(t,i),{label:a,value:o,index:n}})}var r={},s=angular.extend({},e,o);r.$values=[];var l,u,c,d,f,p,g;return r.init=function(){r.$match=l=a.match(s.regexp),u=t(l[2]||l[1]),c=l[4]||l[6],d=l[5],f=t(l[3]||''),p=t(l[2]?l[1]:c),g=t(l[7])},r.valuesFn=function(e,t){return n.when(g(e,t)).then(function(t){return r.$values=t?i(t,e):{},r.$values})},r.displayValue=function(e){var t={};return t[c]=e,u(t)},r.init(),r}return a}]}),angular.version.minor<3&&angular.version.dot<14&&angular.module('ng').factory('$$rAF',['$window','$timeout',function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,a=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!n,i=o?function(e){var t=n(e);return function(){a(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return i.supported=o,i}]),angular.module('mgcrea.ngStrap.modal',['mgcrea.ngStrap.helpers.dimensions']).provider('$modal',function(){var e=this.defaults={animation:'am-fade',backdropAnimation:'am-fade',prefixClass:'modal',prefixEvent:'modal',placement:'top',template:'modal/modal.tpl.html',contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=['$window','$rootScope','$compile','$q','$templateCache','$http','$animate','$timeout','$sce','dimensions',function(n,a,o,i,r,s,l,u,c,d){function f(t){function n(){f.$emit(d.prefixEvent+'.show',u)}function i(){f.$emit(d.prefixEvent+'.hide',u),w.removeClass(d.prefixClass+'-open'),d.animation&&w.removeClass(d.prefixClass+'-with-'+d.animation)}function r(e){e.target===e.currentTarget&&('static'===d.backdrop?u.focus():u.hide())}function s(e){e.preventDefault()}var u={},d=u.$options=angular.extend({},e,t);u.$promise=m(d.template);var f=u.$scope=d.scope&&d.scope.$new()||a.$new();d.element||d.container||(d.container='body'),u.$id=d.id||d.element&&d.element.attr('id')||'',$(['title','content'],function(e){d[e]&&(f[e]=c.trustAsHtml(d[e]))}),f.$hide=function(){f.$$postDigest(function(){u.hide()})},f.$show=function(){f.$$postDigest(function(){u.show()})},f.$toggle=function(){f.$$postDigest(function(){u.toggle()})},u.$isShown=f.$isShown=!1,d.contentTemplate&&(u.$promise=u.$promise.then(function(e){var n=angular.element(e);return m(d.contentTemplate).then(function(e){var a=g('[ng-bind="content"]',n[0]).removeAttr('ng-bind').html(e);return t.template||a.next().remove(),n[0].outerHTML})}));var b,D,k=angular.element('<div class="'+d.prefixClass+'-backdrop"/>');return k.css({position:'fixed',top:'0px',left:'0px',bottom:'0px',right:'0px','z-index':1038}),u.$promise.then(function(e){angular.isObject(e)&&(e=e.data),d.html&&(e=e.replace(y,'ng-bind-html="')),e=h.apply(e),b=o(e),u.init()}),u.init=function(){d.show&&f.$$postDigest(function(){u.show()})},u.destroy=function(){D&&(D.remove(),D=null),k&&(k.remove(),k=null),f.$destroy()},u.show=function(){if(!u.$isShown){var e,t;if(angular.isElement(d.container)?(e=d.container,t=d.container[0].lastChild?angular.element(d.container[0].lastChild):null):d.container?(e=g(d.container),t=e[0]&&e[0].lastChild?angular.element(e[0].lastChild):null):(e=null,t=d.element),D=u.$element=b(f,function(e,t){}),!f.$emit(d.prefixEvent+'.show.before',u).defaultPrevented){D.css({display:'block'}).addClass(d.placement),d.animation&&(d.backdrop&&k.addClass(d.backdropAnimation),D.addClass(d.animation)),d.backdrop&&l.enter(k,w,null),angular.version.minor<=2?l.enter(D,e,t,n):l.enter(D,e,t).then(n),u.$isShown=f.$isShown=!0,p(f);var a=D[0];v(function(){a.focus()}),w.addClass(d.prefixClass+'-open'),d.animation&&w.addClass(d.prefixClass+'-with-'+d.animation),d.backdrop&&(D.on('click',r),k.on('click',r),k.on('wheel',s)),d.keyboard&&D.on('keyup',u.$onKeyUp)}}},u.hide=function(){u.$isShown&&(f.$emit(d.prefixEvent+'.hide.before',u).defaultPrevented||(angular.version.minor<=2?l.leave(D,i):l.leave(D).then(i),d.backdrop&&l.leave(k),u.$isShown=f.$isShown=!1,p(f),d.backdrop&&(D.off('click',r),k.off('click',r),k.off('wheel',s)),d.keyboard&&D.off('keyup',u.$onKeyUp)))},u.toggle=function(){u.$isShown?u.hide():u.show()},u.focus=function(){D[0].focus()},u.$onKeyUp=function(e){27===e.which&&u.$isShown&&(u.hide(),e.stopPropagation())},u}function p(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function g(e,n){return angular.element((n||t).querySelectorAll(e))}function m(e){return b[e]?b[e]:b[e]=s.get(e,{cache:r}).then(function(e){return e.data})}var $=angular.forEach,h=String.prototype.trim,v=n.requestAnimationFrame||n.setTimeout,w=angular.element(n.document.body),y=/ng-bind="/gi,b={};return f}]}).directive('bsModal',['$window','$sce','$modal',function(e,t,n){return{restrict:'EAC',scope:!0,link:function(e,a,o,i){var r={scope:e,element:a,show:!1};angular.forEach(['template','contentTemplate','placement','backdrop','keyboard','html','container','animation','id','prefixEvent','prefixClass'],function(e){angular.isDefined(o[e])&&(r[e]=o[e])});var s=/^(false|0|)$/i;angular.forEach(['backdrop','keyboard','html','container'],function(e){angular.isDefined(o[e])&&s.test(o[e])&&(r[e]=!1)}),angular.forEach(['title','content'],function(n){o[n]&&o.$observe(n,function(a,o){e[n]=t.trustAsHtml(a)})}),o.bsModal&&e.$watch(o.bsModal,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var l=n(r);a.on(o.trigger||'click',l.toggle),e.$on('$destroy',function(){l&&l.destroy(),r=null,l=null})}}}]),angular.module('mgcrea.ngStrap.navbar',[]).provider('$navbar',function(){var e=this.defaults={activeClass:'active',routeAttr:'data-match-route',strict:!1};this.$get=function(){return{defaults:e}}}).directive('bsNavbar',['$window','$location','$navbar',function(e,t,n){var a=n.defaults;return{restrict:'A',link:function(e,n,o,i){var r=angular.copy(a);angular.forEach(Object.keys(a),function(e){angular.isDefined(o[e])&&(r[e]=o[e])}),e.$watch(function(){return t.path()},function(e,t){var a=n[0].querySelectorAll('li['+r.routeAttr+']');angular.forEach(a,function(t){var n=angular.element(t),a=n.attr(r.routeAttr).replace('/','\\/');r.strict&&(a='^'+a+'$');var o=new RegExp(a,'i');o.test(e)?n.addClass(r.activeClass):n.removeClass(r.activeClass)})})}}}]),angular.module('mgcrea.ngStrap.popover',['mgcrea.ngStrap.tooltip']).provider('$popover',function(){var e=this.defaults={animation:'am-fade',customClass:'',container:!1,target:!1,placement:'right',template:'popover/popover.tpl.html',contentTemplate:!1,trigger:'click',keyboard:!0,html:!1,title:'',content:'',delay:0,autoClose:!1};this.$get=['$tooltip',function(t){function n(n,a){var o=angular.extend({},e,a),i=t(n,o);return o.content&&(i.$scope.content=o.content),i}return n}]}).directive('bsPopover',['$window','$sce','$popover',function(e,t,n){var a=e.requestAnimationFrame||e.setTimeout;return{restrict:'EAC',scope:!0,link:function(e,o,i){var r={scope:e};angular.forEach(['template','contentTemplate','placement','container','delay','trigger','html','animation','customClass','autoClose','id','prefixClass','prefixEvent'],function(e){angular.isDefined(i[e])&&(r[e]=i[e])});var s=/^(false|0|)$/i;angular.forEach(['html','container','autoClose'],function(e){angular.isDefined(i[e])&&s.test(i[e])&&(r[e]=!1)});var l=o.attr('data-target');angular.isDefined(l)&&(r.target=s.test(l)?!1:l),angular.forEach(['title','content'],function(n){i[n]&&i.$observe(n,function(o,i){e[n]=t.trustAsHtml(o),angular.isDefined(i)&&a(function(){u&&u.$applyPlacement()})})}),i.bsPopover&&e.$watch(i.bsPopover,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t,angular.isDefined(n)&&a(function(){u&&u.$applyPlacement()})},!0),i.bsShow&&e.$watch(i.bsShow,function(e,t){u&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(popover),?/i)),e===!0?u.show():u.hide())}),i.viewport&&e.$watch(i.viewport,function(e){u&&angular.isDefined(e)&&u.setViewport(e)});var u=n(o,r);e.$on('$destroy',function(){u&&u.destroy(),r=null,u=null})}}}]),angular.module('mgcrea.ngStrap.scrollspy',['mgcrea.ngStrap.helpers.debounce','mgcrea.ngStrap.helpers.dimensions']).provider('$scrollspy',function(){var e=this.$$spies={},n=this.defaults={debounce:150,throttle:100,offset:100};this.$get=['$window','$document','$rootScope','dimensions','debounce','throttle',function(a,o,i,r,s,l){function u(e,t){return e[0].nodeName&&e[0].nodeName.toLowerCase()===t.toLowerCase()}function c(o){var c=angular.extend({},n,o);c.element||(c.element=p);var g=u(c.element,'body'),m=g?d:c.element,$=g?'window':c.id;if(e[$])return e[$].$$count++,e[$];var h,v,w,y,b,D,k,S,x={},T=x.$trackedElements=[],C=[];return x.init=function(){this.$$count=1,y=s(this.checkPosition,c.debounce),b=l(this.checkPosition,c.throttle),m.on('click',this.checkPositionWithEventLoop),d.on('resize',y),m.on('scroll',b),D=s(this.checkOffsets,c.debounce),h=i.$on('$viewContentLoaded',D),v=i.$on('$includeContentLoaded',D),D(),$&&(e[$]=x)},x.destroy=function(){this.$$count--,this.$$count>0||(m.off('click',this.checkPositionWithEventLoop),d.off('resize',y),m.off('scroll',b),h(),v(),$&&delete e[$])},x.checkPosition=function(){if(C.length){if(S=(g?a.pageYOffset:m.prop('scrollTop'))||0,k=Math.max(a.innerHeight,f.prop('clientHeight')),S<C[0].offsetTop&&w!==C[0].target)return x.$activateElement(C[0]);for(var e=C.length;e--;)if(!angular.isUndefined(C[e].offsetTop)&&null!==C[e].offsetTop&&w!==C[e].target&&!(S<C[e].offsetTop||C[e+1]&&S>C[e+1].offsetTop))return x.$activateElement(C[e])}},x.checkPositionWithEventLoop=function(){setTimeout(x.checkPosition,1)},x.$activateElement=function(e){if(w){var t=x.$getTrackedElement(w);t&&(t.source.removeClass('active'),u(t.source,'li')&&u(t.source.parent().parent(),'li')&&t.source.parent().parent().removeClass('active'))}w=e.target,e.source.addClass('active'),u(e.source,'li')&&u(e.source.parent().parent(),'li')&&e.source.parent().parent().addClass('active')},x.$getTrackedElement=function(e){return T.filter(function(t){return t.target===e})[0]},x.checkOffsets=function(){angular.forEach(T,function(e){var n=t.querySelector(e.target);e.offsetTop=n?r.offset(n).top:null,c.offset&&null!==e.offsetTop&&(e.offsetTop-=1*c.offset)}),C=T.filter(function(e){return null!==e.offsetTop}).sort(function(e,t){return e.offsetTop-t.offsetTop}),y()},x.trackElement=function(e,t){T.push({target:e,source:t})},x.untrackElement=function(e,t){for(var n,a=T.length;a--;)if(T[a].target===e&&T[a].source===t){n=a;break}T=T.splice(n,1)},x.activate=function(e){T[e].addClass('active')},x.init(),x}var d=angular.element(a),f=angular.element(o.prop('documentElement')),p=angular.element(a.document.body);return c}]}).directive('bsScrollspy',['$rootScope','debounce','dimensions','$scrollspy',function(e,t,n,a){return{restrict:'EAC',link:function(e,t,n){var o={scope:e};angular.forEach(['offset','target'],function(e){angular.isDefined(n[e])&&(o[e]=n[e])});var i=a(o);i.trackElement(o.target,t),e.$on('$destroy',function(){i&&(i.untrackElement(o.target,t),i.destroy()),o=null,i=null})}}}]).directive('bsScrollspyList',['$rootScope','debounce','dimensions','$scrollspy',function(e,t,n,a){return{restrict:'A',compile:function(e,t){var n=e[0].querySelectorAll('li > a[href]');angular.forEach(n,function(e){var t=angular.element(e);t.parent().attr('bs-scrollspy','').attr('data-target',t.attr('href'))})}}}]),angular.module('mgcrea.ngStrap.select',['mgcrea.ngStrap.tooltip','mgcrea.ngStrap.helpers.parseOptions']).provider('$select',function(){var e=this.defaults={animation:'am-fade',prefixClass:'select',prefixEvent:'$select',placement:'bottom-left',template:'select/select.tpl.html',trigger:'focus',container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:'Choose among the following...',allText:'All',noneText:'None',maxLength:3,maxLengthHtml:'selected',iconCheckmark:'glyphicon glyphicon-ok'};this.$get=['$window','$document','$rootScope','$tooltip','$timeout',function(t,n,a,o,i){function r(t,n,a){var r={},s=angular.extend({},e,a);r=o(t,s);var u=r.$scope;u.$matches=[],u.$activeIndex=s.multiple?[]:-1,u.$isMultiple=s.multiple,u.$showAllNoneButtons=s.allNoneButtons&&s.multiple,u.$iconCheckmark=s.iconCheckmark,u.$allText=s.allText,u.$noneText=s.noneText,u.$activate=function(e){u.$$postDigest(function(){r.activate(e)})},u.$select=function(e,t){u.$$postDigest(function(){r.select(e)})},u.$isVisible=function(){return r.$isVisible()},u.$isActive=function(e){return r.$isActive(e)},u.$selectAll=function(){for(var e=0;e<u.$matches.length;e++)u.$isActive(e)||u.$select(e)},u.$selectNone=function(){for(var e=0;e<u.$matches.length;e++)u.$isActive(e)&&u.$select(e)},r.update=function(e){u.$matches=e,r.$updateActiveIndex()},r.activate=function(e){return s.multiple?(r.$isActive(e)?u.$activeIndex.splice(u.$activeIndex.indexOf(e),1):u.$activeIndex.push(e),s.sort&&u.$activeIndex.sort(function(e,t){return e-t})):u.$activeIndex=e,u.$activeIndex},r.select=function(e){var t=u.$matches[e].value;u.$apply(function(){r.activate(e),s.multiple?n.$setViewValue(u.$activeIndex.map(function(e){return u.$matches[e].value})):(n.$setViewValue(t),r.hide())}),u.$emit(s.prefixEvent+'.select',t,e,r)},r.$updateActiveIndex=function(){n.$modelValue&&u.$matches.length?u.$activeIndex=s.multiple&&angular.isArray(n.$modelValue)?n.$modelValue.map(function(e){return r.$getIndex(e)}):r.$getIndex(n.$modelValue):u.$activeIndex>=u.$matches.length&&(u.$activeIndex=s.multiple?[]:0)},r.$isVisible=function(){return s.minLength&&n?u.$matches.length&&n.$viewValue.length>=s.minLength:u.$matches.length},r.$isActive=function(e){return s.multiple?-1!==u.$activeIndex.indexOf(e):u.$activeIndex===e},r.$getIndex=function(e){var t=u.$matches.length,n=t;if(t){for(n=t;n--&&u.$matches[n].value!==e;);if(!(0>n))return n}},r.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),l){var t=angular.element(e.target);t.triggerHandler('click')}},r.$onKeyDown=function(e){return/(9|13|38|40)/.test(e.keyCode)?(e.preventDefault(),e.stopPropagation(),s.multiple&&9===e.keyCode?r.hide():s.multiple||13!==e.keyCode&&9!==e.keyCode?void(s.multiple||(38===e.keyCode&&u.$activeIndex>0?u.$activeIndex--:38===e.keyCode&&u.$activeIndex<0?u.$activeIndex=u.$matches.length-1:40===e.keyCode&&u.$activeIndex<u.$matches.length-1?u.$activeIndex++:angular.isUndefined(u.$activeIndex)&&(u.$activeIndex=0),u.$digest())):r.select(u.$activeIndex)):void 0};var c=r.show;r.show=function(){c(),s.multiple&&r.$element.addClass('select-multiple'),i(function(){r.$element.on(l?'touchstart':'mousedown',r.$onMouseDown),s.keyboard&&t.on('keydown',r.$onKeyDown)},0,!1)};var d=r.hide;return r.hide=function(){s.multiple||n.$modelValue||(u.$activeIndex=-1),r.$element.off(l?'touchstart':'mousedown',r.$onMouseDown),s.keyboard&&t.off('keydown',r.$onKeyDown),d(!0)},r}var s=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),l='createTouch'in t.document&&s;return r.defaults=e,r}]}).directive('bsSelect',['$window','$parse','$q','$select','$parseOptions',function(e,t,n,a,o){var i=a.defaults;return{restrict:'EAC',require:'ngModel',link:function(e,t,n,r){var s={scope:e,placeholder:i.placeholder};angular.forEach(['placement','container','delay','trigger','keyboard','html','animation','template','placeholder','allNoneButtons','maxLength','maxLengthHtml','allText','noneText','iconCheckmark','autoClose','id','sort','caretHtml','prefixClass','prefixEvent'],function(e){angular.isDefined(n[e])&&(s[e]=n[e])});var l=/^(false|0|)$/i;angular.forEach(['html','container','allNoneButtons','sort'],function(e){angular.isDefined(n[e])&&l.test(n[e])&&(s[e]=!1)});var u=t.attr('data-multiple');if(angular.isDefined(u)&&(s.multiple=l.test(u)?!1:u),'select'===t[0].nodeName.toLowerCase()){var c=t;c.css('display','none'),t=angular.element('<button type="button" class="btn btn-default"></button>'),c.after(t)}var d=o(n.bsOptions),f=a(t,r,s),p=d.$match[7].replace(/\|.+/,'').trim();e.$watchCollection(p,function(t,n){d.valuesFn(e,r).then(function(e){f.update(e),r.$render()})}),e.$watch(n.ngModel,function(e,t){f.$updateActiveIndex(),r.$render()},!0),r.$render=function(){var e,n;s.multiple&&angular.isArray(r.$modelValue)?(e=r.$modelValue.map(function(e){return n=f.$getIndex(e),angular.isDefined(n)?f.$scope.$matches[n].label:!1}).filter(angular.isDefined),e=e.length>(s.maxLength||i.maxLength)?e.length+' '+(s.maxLengthHtml||i.maxLengthHtml):e.join(', ')):(n=f.$getIndex(r.$modelValue),e=angular.isDefined(n)?f.$scope.$matches[n].label:!1),t.html((e?e:s.placeholder)+(s.caretHtml?s.caretHtml:i.caretHtml))},s.multiple&&(r.$isEmpty=function(e){return!e||0===e.length}),e.$on('$destroy',function(){f&&f.destroy(),s=null,f=null})}}}]),angular.module('mgcrea.ngStrap.tab',[]).provider('$tab',function(){var e=this.defaults={animation:'am-fade',template:'tab/tab.tpl.html',navClass:'nav-tabs',activeClass:'active'},t=this.controller=function(t,n,a){var o=this;o.$options=angular.copy(e),angular.forEach(['animation','navClass','activeClass'],function(e){angular.isDefined(a[e])&&(o.$options[e]=a[e])}),t.$navClass=o.$options.navClass,t.$activeClass=o.$options.activeClass,o.$panes=t.$panes=[],o.$activePaneChangeListeners=o.$viewChangeListeners=[],o.$push=function(e){angular.isUndefined(o.$panes.$active)&&t.$setActive(e.name||0),o.$panes.push(e)},o.$remove=function(e){var t,n=o.$panes.indexOf(e),a=o.$panes.$active;t=angular.isString(a)?o.$panes.map(function(e){return e.name}).indexOf(a):o.$panes.$active,o.$panes.splice(n,1),t>n?t--:n===t&&t===o.$panes.length&&t--,t>=0&&t<o.$panes.length?o.$setActive(o.$panes[t].name||t):o.$setActive()},o.$setActive=t.$setActive=function(e){o.$panes.$active=e,o.$activePaneChangeListeners.forEach(function(e){e()})},o.$isActive=t.$isActive=function(e,t){return o.$panes.$active===e.name||o.$panes.$active===t}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive('bsTabs',['$window','$animate','$tab','$parse',function(e,t,n,a){var o=n.defaults;return{require:['?ngModel','bsTabs'],transclude:!0,scope:!0,controller:['$scope','$element','$attrs',n.controller],templateUrl:function(e,t){return t.template||o.template},link:function(e,t,n,o){var i=o[0],r=o[1];if(i&&(r.$activePaneChangeListeners.push(function(){i.$setViewValue(r.$panes.$active)}),i.$formatters.push(function(e){return r.$setActive(e),e})),n.bsActivePane){var s=a(n.bsActivePane);r.$activePaneChangeListeners.push(function(){s.assign(e,r.$panes.$active)}),e.$watch(n.bsActivePane,function(e,t){r.$setActive(e)},!0)}}}}]).directive('bsPane',['$window','$animate','$sce',function(e,t,n){return{require:['^?ngModel','^bsTabs'],scope:!0,link:function(e,a,o,i){function r(){var n=s.$panes.indexOf(e);t[s.$isActive(e,n)?'addClass':'removeClass'](a,s.$options.activeClass)}var s=(i[0],i[1]);a.addClass('tab-pane'),o.$observe('title',function(t,a){e.title=n.trustAsHtml(t)}),e.name=o.name,s.$options.animation&&a.addClass(s.$options.animation),o.$observe('disabled',function(t,n){e.disabled=e.$eval(t)}),s.$push(e),e.$on('$destroy',function(){s.$remove(e)}),s.$activePaneChangeListeners.push(function(){r()}),r()}}}]),angular.module('mgcrea.ngStrap.timepicker',['mgcrea.ngStrap.helpers.dateParser','mgcrea.ngStrap.helpers.dateFormatter','mgcrea.ngStrap.tooltip']).provider('$timepicker',function(){var e=this.defaults={animation:'am-fade',prefixClass:'timepicker',placement:'bottom-left',template:'timepicker/timepicker.tpl.html',trigger:'focus',container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:'date',timeFormat:'shortTime',timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-(1/0),maxTime:+(1/0),length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:'glyphicon glyphicon-chevron-up',iconDown:'glyphicon glyphicon-chevron-down',arrowBehavior:'pager'};this.$get=['$window','$document','$rootScope','$sce','$dateFormatter','$tooltip','$timeout',function(t,n,a,o,i,r,s){function l(t,n,a){function o(e){var t=6e4*g.minuteStep;return new Date(Math.floor(e.getTime()/t)*t)}function l(e,n){var a=e+n;if(t[0].createTextRange){var o=t[0].createTextRange();o.collapse(!0),o.moveStart('character',e),o.moveEnd('character',a),o.select()}else t[0].setSelectionRange?t[0].setSelectionRange(e,a):angular.isUndefined(t[0].selectionStart)&&(t[0].selectionStart=e,t[0].selectionEnd=a)}function d(){t[0].focus()}var f=r(t,angular.extend({},e,a)),p=a.scope,g=f.$options,m=f.$scope,$=g.lang,h=function(e,t,n){return i.formatDate(e,t,$,n)},v=0,w=g.roundDisplay?o(new Date):new Date,y=n.$dateValue||w,b={hour:y.getHours(),meridian:y.getHours()<12,minute:y.getMinutes(),second:y.getSeconds(),millisecond:y.getMilliseconds()},D=i.getDatetimeFormat(g.timeFormat,$),k=i.hoursFormat(D),S=i.timeSeparator(D),x=i.minutesFormat(D),T=i.secondsFormat(D),C=i.showSeconds(D),M=i.showAM(D);m.$iconUp=g.iconUp,m.$iconDown=g.iconDown,m.$select=function(e,t){f.select(e,t)},m.$moveIndex=function(e,t){f.$moveIndex(e,t)},m.$switchMeridian=function(e){f.switchMeridian(e)},f.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())?(f.$date=e,angular.extend(b,{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}),f.$build()):f.$isBuilt||f.$build()},f.select=function(e,t,a){(!n.$dateValue||isNaN(n.$dateValue.getTime()))&&(n.$dateValue=new Date(1970,0,1)),angular.isDate(e)||(e=new Date(e)),0===t?n.$dateValue.setHours(e.getHours()):1===t?n.$dateValue.setMinutes(e.getMinutes()):2===t&&n.$dateValue.setSeconds(e.getSeconds()),n.$setViewValue(angular.copy(n.$dateValue)),n.$render(),g.autoclose&&!a&&s(function(){f.hide(!0)})},f.switchMeridian=function(e){if(n.$dateValue&&!isNaN(n.$dateValue.getTime())){var t=(e||n.$dateValue).getHours();n.$dateValue.setHours(12>t?t+12:t-12),n.$setViewValue(angular.copy(n.$dateValue)),n.$render()}},f.$build=function(){var e,t,n=m.midIndex=parseInt(g.length/2,10),a=[];for(e=0;e<g.length;e++)t=new Date(1970,0,1,b.hour-(n-e)*g.hourStep),a.push({date:t,label:h(t,k),selected:f.$date&&f.$isSelected(t,0),disabled:f.$isDisabled(t,0)});var o,i=[];for(e=0;e<g.length;e++)o=new Date(1970,0,1,0,b.minute-(n-e)*g.minuteStep),i.push({date:o,label:h(o,x),selected:f.$date&&f.$isSelected(o,1),disabled:f.$isDisabled(o,1)});var r,s=[];for(e=0;e<g.length;e++)r=new Date(1970,0,1,0,0,b.second-(n-e)*g.secondStep),s.push({date:r,label:h(r,T),selected:f.$date&&f.$isSelected(r,2),disabled:f.$isDisabled(r,2)});var l=[];for(e=0;e<g.length;e++)l.push(C?[a[e],i[e],s[e]]:[a[e],i[e]]);m.rows=l,m.showSeconds=C,m.showAM=M,m.isAM=(f.$date||a[n].date).getHours()<12,m.timeSeparator=S,f.$isBuilt=!0},f.$isSelected=function(e,t){return f.$date?0===t?e.getHours()===f.$date.getHours():1===t?e.getMinutes()===f.$date.getMinutes():2===t?e.getSeconds()===f.$date.getSeconds():void 0:!1},f.$isDisabled=function(e,t){var n;return 0===t?n=e.getTime()+6e4*b.minute+1e3*b.second:1===t?n=e.getTime()+36e5*b.hour+1e3*b.second:2===t&&(n=e.getTime()+36e5*b.hour+6e4*b.minute),n<1*g.minTime||n>1*g.maxTime},m.$arrowAction=function(e,t){'picker'===g.arrowBehavior?f.$setTimeByStep(e,t):f.$moveIndex(e,t)},f.$setTimeByStep=function(e,t){{var n=new Date(f.$date),a=n.getHours(),o=(h(n,k).length,n.getMinutes()),i=(h(n,x).length,n.getSeconds());h(n,T).length}0===t?n.setHours(a-parseInt(g.hourStep,10)*e):1===t?n.setMinutes(o-parseInt(g.minuteStep,10)*e):2===t&&n.setSeconds(i-parseInt(g.secondStep,10)*e),f.select(n,t,!0)},f.$moveIndex=function(e,t){var n;0===t?(n=new Date(1970,0,1,b.hour+e*g.length,b.minute,b.second),angular.extend(b,{hour:n.getHours()})):1===t?(n=new Date(1970,0,1,b.hour,b.minute+e*g.length*g.minuteStep,b.second),angular.extend(b,{minute:n.getMinutes()})):2===t&&(n=new Date(1970,0,1,b.hour,b.minute,b.second+e*g.length*g.secondStep),angular.extend(b,{second:n.getSeconds()})),f.$build()},f.$onMouseDown=function(e){if('input'!==e.target.nodeName.toLowerCase()&&e.preventDefault(),e.stopPropagation(),c){var t=angular.element(e.target);'button'!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler('click')}},f.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return f.hide(!0);var t=new Date(f.$date),n=t.getHours(),a=h(t,k).length,o=t.getMinutes(),i=h(t,x).length,r=t.getSeconds(),s=h(t,T).length,u=1,c=/(37|39)/.test(e.keyCode),d=2+1*C+1*M;c&&(37===e.keyCode?v=1>v?d-1:v-1:39===e.keyCode&&(v=d-1>v?v+1:0));var m=[0,a],$=0;38===e.keyCode&&($=-1),40===e.keyCode&&($=1);var w=2===v&&C,y=2===v&&!C||3===v&&C;0===v?(t.setHours(n+$*parseInt(g.hourStep,10)),a=h(t,k).length,m=[0,a]):1===v?(t.setMinutes(o+$*parseInt(g.minuteStep,10)),i=h(t,x).length,m=[a+u,i]):w?(t.setSeconds(r+$*parseInt(g.secondStep,10)),s=h(t,T).length,m=[a+u+i+u,s]):y&&(c||f.switchMeridian(),m=[a+u+i+u+(s+u)*C,2]),f.select(t,v,!0),l(m[0],m[1]),p.$digest()}};var E=f.init;f.init=function(){return u&&g.useNative?(t.prop('type','time'),void t.css('-webkit-appearance','textfield')):(c&&(t.prop('type','text'),t.attr('readonly','true'),t.on('click',d)),void E())};var A=f.destroy;f.destroy=function(){u&&g.useNative&&t.off('click',d),A()};var F=f.show;f.show=function(){F(),s(function(){f.$element&&f.$element.on(c?'touchstart':'mousedown',f.$onMouseDown),g.keyboard&&t&&t.on('keydown',f.$onKeyDown)},0,!1)};var V=f.hide;return f.hide=function(e){f.$isShown&&(f.$element&&f.$element.off(c?'touchstart':'mousedown',f.$onMouseDown),g.keyboard&&t&&t.off('keydown',f.$onKeyDown),V(e))},f}var u=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),c='createTouch'in t.document&&u;return e.lang||(e.lang=i.getDefaultLocale()),l.defaults=e,l}]}).directive('bsTimepicker',['$window','$parse','$q','$dateFormatter','$dateParser','$timepicker',function(e,t,n,a,o,i){{var r=i.defaults,s=/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent);e.requestAnimationFrame||e.setTimeout}return{restrict:'EAC',require:'ngModel',link:function(e,t,n,l){function u(e){if(angular.isDate(e)){var t=isNaN(d.minTime)||new Date(e.getTime()).setFullYear(1970,0,1)>=d.minTime,n=isNaN(d.maxTime)||new Date(e.getTime()).setFullYear(1970,0,1)<=d.maxTime,a=t&&n;l.$setValidity('date',a),l.$setValidity('min',t),l.$setValidity('max',n),a&&(l.$dateValue=e)}}function c(){return!l.$dateValue||isNaN(l.$dateValue.getTime())?'':m(l.$dateValue,d.timeFormat)}var d={scope:e,controller:l};angular.forEach(['placement','container','delay','trigger','keyboard','html','animation','template','autoclose','timeType','timeFormat','timezone','modelTimeFormat','useNative','hourStep','minuteStep','secondStep','length','arrowBehavior','iconUp','iconDown','roundDisplay','id','prefixClass','prefixEvent'],function(e){angular.isDefined(n[e])&&(d[e]=n[e])});var f=/^(false|0|)$/i;angular.forEach(['html','container','autoclose','useNative','roundDisplay'],function(e){angular.isDefined(n[e])&&f.test(n[e])&&(d[e]=!1)}),n.bsShow&&e.$watch(n.bsShow,function(e,t){p&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(timepicker),?/i)),e===!0?p.show():p.hide())}),s&&(d.useNative||r.useNative)&&(d.timeFormat='HH:mm');var p=i(t,l,d);d=p.$options;var g=d.lang,m=function(e,t,n){return a.formatDate(e,t,g,n)},$=o({format:d.timeFormat,lang:g});angular.forEach(['minTime','maxTime'],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){p.$options[e]=$.getTimeForAttribute(e,t),!isNaN(p.$options[e])&&p.$build(),u(l.$dateValue)})}),e.$watch(n.ngModel,function(e,t){p.update(l.$dateValue)},!0),l.$parsers.unshift(function(e){var t;if(!e)return l.$setValidity('date',!0),null;var n=angular.isDate(e)?e:$.parse(e,l.$dateValue);return!n||isNaN(n.getTime())?void l.$setValidity('date',!1):(u(n),'string'===d.timeType?(t=$.timezoneOffsetAdjust(n,d.timezone,!0),m(t,d.modelTimeFormat||d.timeFormat)):(t=$.timezoneOffsetAdjust(l.$dateValue,d.timezone,!0),'number'===d.timeType?t.getTime():'unix'===d.timeType?t.getTime()/1e3:'iso'===d.timeType?t.toISOString():new Date(t)))}),l.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?0/0:angular.isDate(e)?e:'string'===d.timeType?$.parse(e,null,d.modelTimeFormat):new Date('unix'===d.timeType?1e3*e:e),l.$dateValue=$.timezoneOffsetAdjust(t,d.timezone),c()}),l.$render=function(){t.val(c())},e.$on('$destroy',function(){p&&p.destroy(),d=null,p=null})}}}]),angular.module('mgcrea.ngStrap.tooltip',['mgcrea.ngStrap.helpers.dimensions']).provider('$tooltip',function(){var e=this.defaults={animation:'am-fade',customClass:'',prefixClass:'tooltip',prefixEvent:'tooltip',container:!1,target:!1,placement:'top',template:'tooltip/tooltip.tpl.html',contentTemplate:!1,trigger:'hover focus',keyboard:!1,html:!1,show:!1,title:'',type:'',delay:0,autoClose:!1,bsEnabled:!0,viewport:{selector:'body',padding:0}};this.$get=['$window','$rootScope','$compile','$q','$templateCache','$http','$animate','$sce','dimensions','$$rAF','$timeout',function(n,a,o,i,r,s,l,u,c,d,f){function p(i,r){function s(){N.$emit(H.prefixEvent+'.show',I)}function p(){if(N.$emit(H.prefixEvent+'.hide',I),z===B){if(W&&'focus'===H.trigger)return i[0].blur();O()}}function b(){var e=H.trigger.split(' ');angular.forEach(e,function(e){'click'===e?i.on('click',I.toggle):'manual'!==e&&(i.on('hover'===e?'mouseenter':'focus',I.enter),i.on('hover'===e?'mouseleave':'blur',I.leave),'button'===P&&'hover'!==e&&i.on(v?'touchstart':'mousedown',I.$onFocusElementMouseDown))})}function D(){for(var e=H.trigger.split(' '),t=e.length;t--;){var n=e[t];'click'===n?i.off('click',I.toggle):'manual'!==n&&(i.off('hover'===n?'mouseenter':'focus',I.enter),i.off('hover'===n?'mouseleave':'blur',I.leave),'button'===P&&'hover'!==n&&i.off(v?'touchstart':'mousedown',I.$onFocusElementMouseDown))}}function k(){'focus'!==H.trigger?z.on('keyup',I.$onKeyUp):i.on('keyup',I.$onFocusKeyUp)}function S(){'focus'!==H.trigger?z.off('keyup',I.$onKeyUp):i.off('keyup',I.$onFocusKeyUp)}function x(){f(function(){z.on('click',C),y.on('click',I.hide),_=!0},0,!1)}function T(){_&&(z.off('click',C),y.off('click',I.hide),_=!1)}function C(e){e.stopPropagation()}function M(e){e=e||H.target||i;var a=e[0],o='BODY'===a.tagName,r=a.getBoundingClientRect(),s={};for(var l in r)s[l]=r[l];null===s.width&&(s=angular.extend({},s,{width:r.right-r.left,height:r.bottom-r.top}));var u=o?{top:0,left:0}:c.offset(a),d={scroll:o?t.documentElement.scrollTop||t.body.scrollTop:e.prop('scrollTop')||0},f=o?{width:t.documentElement.clientWidth,height:n.innerHeight}:null;return angular.extend({},s,d,f,u)}function E(e,t,n,a){var o,i=e.split('-');switch(i[0]){case'right':o={top:t.top+t.height/2-a/2,left:t.left+t.width
};break;case'bottom':o={top:t.top+t.height,left:t.left+t.width/2-n/2};break;case'left':o={top:t.top+t.height/2-a/2,left:t.left-n};break;default:o={top:t.top-a,left:t.left+t.width/2-n/2}}if(!i[1])return o;if('top'===i[0]||'bottom'===i[0])switch(i[1]){case'left':o.left=t.left;break;case'right':o.left=t.left+t.width-n}else if('left'===i[0]||'right'===i[0])switch(i[1]){case'top':o.top=t.top-a;break;case'bottom':o.top=t.top+t.height}return o}function A(e,t){var n=z[0],a=n.offsetWidth,o=n.offsetHeight,i=parseInt(c.css(n,'margin-top'),10),r=parseInt(c.css(n,'margin-left'),10);isNaN(i)&&(i=0),isNaN(r)&&(r=0),e.top=e.top+i,e.left=e.left+r,c.setOffset(n,angular.extend({using:function(e){z.css({top:Math.round(e.top)+'px',left:Math.round(e.left)+'px',right:''})}},e),0);var s=n.offsetWidth,l=n.offsetHeight;if('top'===t&&l!==o&&(e.top=e.top+o-l),!/top-left|top-right|bottom-left|bottom-right/.test(t)){var u=F(t,e,s,l);if(u.left?e.left+=u.left:e.top+=u.top,c.setOffset(n,e),/top|right|bottom|left/.test(t)){var d=/top|bottom/.test(t),f=d?2*u.left-a+s:2*u.top-o+l,p=d?'offsetWidth':'offsetHeight';V(f,n[p],d)}}}function F(e,t,n,a){var o={top:0,left:0},i=H.viewport&&m(H.viewport.selector||H.viewport);if(!i)return o;var r=H.viewport&&H.viewport.padding||0,s=M(i);if(/right|left/.test(e)){var l=t.top-r-s.scroll,u=t.top+r-s.scroll+a;l<s.top?o.top=s.top-l:u>s.top+s.height&&(o.top=s.top+s.height-u)}else{var c=t.left-r,d=t.left+r+n;c<s.left?o.left=s.left-c:d>s.width&&(o.left=s.left+s.width-d)}return o}function V(e,t,n){var a=m('.tooltip-arrow, .arrow',z[0]);a.css(n?'left':'top',50*(1-e/t)+'%').css(n?'top':'left','')}function O(){clearTimeout(R),I.$isShown&&null!==z&&(H.autoClose&&T(),H.keyboard&&S()),j&&(j.$destroy(),j=null),z&&(z.remove(),z=I.$element=null)}var I={},P=i[0].nodeName.toLowerCase(),H=I.$options=angular.extend({},e,r);I.$promise=$(H.template);var N=I.$scope=H.scope&&H.scope.$new()||a.$new();if(H.delay&&angular.isString(H.delay)){var L=H.delay.split(',').map(parseFloat);H.delay=L.length>1?{show:L[0],hide:L[1]}:L[0]}I.$id=H.id||i.attr('id')||'',H.title&&(N.title=u.trustAsHtml(H.title)),N.$setEnabled=function(e){N.$$postDigest(function(){I.setEnabled(e)})},N.$hide=function(){N.$$postDigest(function(){I.hide()})},N.$show=function(){N.$$postDigest(function(){I.show()})},N.$toggle=function(){N.$$postDigest(function(){I.toggle()})},I.$isShown=N.$isShown=!1;var R,Y;H.contentTemplate&&(I.$promise=I.$promise.then(function(e){var t=angular.element(e);return $(H.contentTemplate).then(function(e){var n=m('[ng-bind="content"]',t[0]);return n.length||(n=m('[ng-bind="title"]',t[0])),n.removeAttr('ng-bind').html(e),t[0].outerHTML})}));var q,z,K,U,j;I.$promise.then(function(e){angular.isObject(e)&&(e=e.data),H.html&&(e=e.replace(w,'ng-bind-html="')),e=h.apply(e),K=e,q=o(e),I.init()}),I.init=function(){H.delay&&angular.isNumber(H.delay)&&(H.delay={show:H.delay,hide:H.delay}),'self'===H.container?U=i:angular.isElement(H.container)?U=H.container:H.container&&(U=m(H.container)),b(),H.target&&(H.target=angular.isElement(H.target)?H.target:m(H.target)),H.show&&N.$$postDigest(function(){'focus'===H.trigger?i[0].focus():I.show()})},I.destroy=function(){D(),O(),N.$destroy()},I.enter=function(){return clearTimeout(R),Y='in',H.delay&&H.delay.show?void(R=setTimeout(function(){'in'===Y&&I.show()},H.delay.show)):I.show()},I.show=function(){if(H.bsEnabled&&!I.$isShown){N.$emit(H.prefixEvent+'.show.before',I);var e,t;H.container?(e=U,t=U[0].lastChild?angular.element(U[0].lastChild):null):(e=null,t=i),z&&O(),j=I.$scope.$new(),z=I.$element=q(j,function(e,t){}),z.css({top:'-9999px',left:'-9999px',right:'auto',display:'block',visibility:'hidden'}),H.animation&&z.addClass(H.animation),H.type&&z.addClass(H.prefixClass+'-'+H.type),H.customClass&&z.addClass(H.customClass),t?t.after(z):e.prepend(z),I.$isShown=N.$isShown=!0,g(N),I.$applyPlacement(),angular.version.minor<=2?l.enter(z,e,t,s):l.enter(z,e,t).then(s),g(N),d(function(){z&&z.css({visibility:'visible'})}),H.keyboard&&('focus'!==H.trigger&&I.focus(),k()),H.autoClose&&x()}},I.leave=function(){return clearTimeout(R),Y='out',H.delay&&H.delay.hide?void(R=setTimeout(function(){'out'===Y&&I.hide()},H.delay.hide)):I.hide()};var W,B;I.hide=function(e){I.$isShown&&(N.$emit(H.prefixEvent+'.hide.before',I),W=e,B=z,angular.version.minor<=2?l.leave(z,p):l.leave(z).then(p),I.$isShown=N.$isShown=!1,g(N),H.keyboard&&null!==z&&S(),H.autoClose&&null!==z&&T())},I.toggle=function(){I.$isShown?I.leave():I.enter()},I.focus=function(){z[0].focus()},I.setEnabled=function(e){H.bsEnabled=e},I.setViewport=function(e){H.viewport=e},I.$applyPlacement=function(){if(z){var t=H.placement,n=/\s?auto?\s?/i,a=n.test(t);a&&(t=t.replace(n,'')||e.placement),z.addClass(H.placement);var o=M(),r=z.prop('offsetWidth'),s=z.prop('offsetHeight');if(a){var l=t,u=H.container?m(H.container):i.parent(),c=M(u);l.indexOf('bottom')>=0&&o.bottom+s>c.bottom?t=l.replace('bottom','top'):l.indexOf('top')>=0&&o.top-s<c.top&&(t=l.replace('top','bottom')),('right'===l||'bottom-left'===l||'top-left'===l)&&o.right+r>c.width?t='right'===l?'left':t.replace('left','right'):('left'===l||'bottom-right'===l||'top-right'===l)&&o.left-r<c.left&&(t='left'===l?'right':t.replace('right','left')),z.removeClass(l).addClass(t)}var d=E(t,o,r,s);A(d,t)}},I.$onKeyUp=function(e){27===e.which&&I.$isShown&&(I.hide(),e.stopPropagation())},I.$onFocusKeyUp=function(e){27===e.which&&(i[0].blur(),e.stopPropagation())},I.$onFocusElementMouseDown=function(e){e.preventDefault(),e.stopPropagation(),I.$isShown?i[0].blur():i[0].focus()};var _=!1;return I}function g(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function m(e,n){return angular.element((n||t).querySelectorAll(e))}function $(e){return b[e]?b[e]:b[e]=s.get(e,{cache:r}).then(function(e){return e.data})}var h=String.prototype.trim,v='createTouch'in n.document,w=/ng-bind="/gi,y=angular.element(n.document),b={};return p}]}).directive('bsTooltip',['$window','$location','$sce','$tooltip','$$rAF',function(e,t,n,a,o){return{restrict:'EAC',scope:!0,link:function(e,t,i,r){var s={scope:e};angular.forEach(['template','contentTemplate','placement','container','delay','trigger','html','animation','backdropAnimation','type','customClass','id'],function(e){angular.isDefined(i[e])&&(s[e]=i[e])});var l=/^(false|0|)$/i;angular.forEach(['html','container'],function(e){angular.isDefined(i[e])&&l.test(i[e])&&(s[e]=!1)});var u=t.attr('data-target');angular.isDefined(u)&&(s.target=l.test(u)?!1:u),e.hasOwnProperty('title')||(e.title=''),i.$observe('title',function(t){if(angular.isDefined(t)||!e.hasOwnProperty('title')){var a=e.title;e.title=n.trustAsHtml(t),angular.isDefined(a)&&o(function(){c&&c.$applyPlacement()})}}),i.bsTooltip&&e.$watch(i.bsTooltip,function(t,n){angular.isObject(t)?angular.extend(e,t):e.title=t,angular.isDefined(n)&&o(function(){c&&c.$applyPlacement()})},!0),i.bsShow&&e.$watch(i.bsShow,function(e,t){c&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(tooltip),?/i)),e===!0?c.show():c.hide())}),i.bsEnabled&&e.$watch(i.bsEnabled,function(e,t){c&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|1|,?(tooltip),?/i)),c.setEnabled(e===!1?!1:!0))}),i.viewport&&e.$watch(i.viewport,function(e){c&&angular.isDefined(e)&&c.setViewport(e)});var c=a(t,s);e.$on('$destroy',function(){c&&c.destroy(),s=null,c=null})}}}]),angular.module('mgcrea.ngStrap.typeahead',['mgcrea.ngStrap.tooltip','mgcrea.ngStrap.helpers.parseOptions']).provider('$typeahead',function(){var e=this.defaults={animation:'am-fade',prefixClass:'typeahead',prefixEvent:'$typeahead',placement:'bottom-left',template:'typeahead/typeahead.tpl.html',trigger:'focus',container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:'filter',limit:6,autoSelect:!1,comparator:'',trimValue:!0};this.$get=['$window','$rootScope','$tooltip','$timeout',function(t,n,a,o){function i(t,n,i){var r={},s=angular.extend({},e,i);r=a(t,s);var l=i.scope,u=r.$scope;u.$resetMatches=function(){u.$matches=[],u.$activeIndex=s.autoSelect?0:-1},u.$resetMatches(),u.$activate=function(e){u.$$postDigest(function(){r.activate(e)})},u.$select=function(e,t){u.$$postDigest(function(){r.select(e)})},u.$isVisible=function(){return r.$isVisible()},r.update=function(e){u.$matches=e,u.$activeIndex>=e.length&&(u.$activeIndex=s.autoSelect?0:-1),/^(bottom|bottom-left|bottom-right)$/.test(s.placement)||o(r.$applyPlacement)},r.activate=function(e){u.$activeIndex=e},r.select=function(e){if(-1!==e){var t=u.$matches[e].value;n.$setViewValue(t),n.$render(),u.$resetMatches(),l&&l.$digest(),u.$emit(s.prefixEvent+'.select',t,e,r)}},r.$isVisible=function(){return s.minLength&&n?u.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=s.minLength:!!u.$matches.length},r.$getIndex=function(e){var t=u.$matches.length,n=t;if(t){for(n=t;n--&&u.$matches[n].value!==e;);if(!(0>n))return n}},r.$onMouseDown=function(e){e.preventDefault(),e.stopPropagation()},r.$onKeyDown=function(e){/(38|40|13)/.test(e.keyCode)&&(!r.$isVisible()||13===e.keyCode&&-1===u.$activeIndex||(e.preventDefault(),e.stopPropagation()),13===e.keyCode&&u.$matches.length?r.select(u.$activeIndex):38===e.keyCode&&u.$activeIndex>0?u.$activeIndex--:40===e.keyCode&&u.$activeIndex<u.$matches.length-1?u.$activeIndex++:angular.isUndefined(u.$activeIndex)&&(u.$activeIndex=0),u.$digest())};var c=r.show;r.show=function(){c(),o(function(){r.$element&&r.$element.on('mousedown',r.$onMouseDown),s.keyboard&&t&&t.on('keydown',r.$onKeyDown)},0,!1)};var d=r.hide;return r.hide=function(){r.$element&&r.$element.off('mousedown',r.$onMouseDown),s.keyboard&&t&&t.off('keydown',r.$onKeyDown),s.autoSelect||r.activate(-1),d()},r}angular.element(t.document.body);return i.defaults=e,i}]}).directive('bsTypeahead',['$window','$parse','$q','$typeahead','$parseOptions',function(e,t,n,a,o){var i=a.defaults;return{restrict:'EAC',require:'ngModel',link:function(e,t,n,r){var s={scope:e};angular.forEach(['placement','container','delay','trigger','keyboard','html','animation','template','filter','limit','minLength','watchOptions','selectMode','autoSelect','comparator','id','prefixEvent','prefixClass'],function(e){angular.isDefined(n[e])&&(s[e]=n[e])});var l=/^(false|0|)$/i;angular.forEach(['html','container','trimValue'],function(e){angular.isDefined(n[e])&&l.test(n[e])&&(s[e]=!1)}),t.attr('autocomplete','off');var u=s.filter||i.filter,c=s.limit||i.limit,d=s.comparator||i.comparator,f=n.bsOptions;u&&(f+=' | '+u+':$viewValue'),d&&(f+=':'+d),c&&(f+=' | limitTo:'+c);var p=o(f),g=a(t,r,s);if(s.watchOptions){var m=p.$match[7].replace(/\|.+/,'').replace(/\(.*\)/g,'').trim();e.$watchCollection(m,function(t,n){p.valuesFn(e,r).then(function(e){g.update(e),r.$render()})})}e.$watch(n.ngModel,function(t,n){e.$modelValue=t,p.valuesFn(e,r).then(function(e){if(s.selectMode&&!e.length&&t.length>0)return void r.$setViewValue(r.$viewValue.substring(0,r.$viewValue.length-1));e.length>c&&(e=e.slice(0,c));var n=g.$isVisible();n&&g.update(e),(1!==e.length||e[0].value!==t)&&(!n&&g.update(e),r.$render())})}),r.$formatters.push(function(e){var t=p.displayValue(e);return t?t:e&&'object'!=typeof e?e:''}),r.$render=function(){if(r.$isEmpty(r.$viewValue))return t.val('');var e=g.$getIndex(r.$modelValue),n=angular.isDefined(e)?g.$scope.$matches[e].label:r.$viewValue;n=angular.isObject(n)?p.displayValue(n):n;var a=n?n.toString().replace(/<(?:.|\n)*?>/gm,''):'';t.val(s.trimValue===!1?a:a.trim())},e.$on('$destroy',function(){g&&g.destroy(),s=null,g=null})}}}])}(window,document);
//# sourceMappingURL=angular-strap.min.js.map
/**
 * angular-strap
 * @version v2.2.4 - 2015-05-28
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com> (https://github.com/mgcrea)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(t,e,n){'use strict';angular.module('mgcrea.ngStrap.alert').run(['$templateCache',function(t){t.put('alert/alert.tpl.html','<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}]),angular.module('mgcrea.ngStrap.aside').run(['$templateCache',function(t){t.put('aside/aside.tpl.html','<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module('mgcrea.ngStrap.datepicker').run(['$templateCache',function(t){t.put('datepicker/datepicker.tpl.html','<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-show="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')}]),angular.module('mgcrea.ngStrap.dropdown').run(['$templateCache',function(t){t.put('dropdown/dropdown.tpl.html','<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module('mgcrea.ngStrap.modal').run(['$templateCache',function(t){t.put('modal/modal.tpl.html','<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module('mgcrea.ngStrap.popover').run(['$templateCache',function(t){t.put('popover/popover.tpl.html','<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module('mgcrea.ngStrap.select').run(['$templateCache',function(t){t.put('select/select.tpl.html','<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]),angular.module('mgcrea.ngStrap.tab').run(['$templateCache',function(t){t.put('tab/tab.tpl.html','<ul class="nav" ng-class="$navClass" role="tablist"><li role="presentation" ng-repeat="$pane in $panes track by $index" ng-class="[ $isActive($pane, $index) ? $activeClass : \'\', $pane.disabled ? \'disabled\' : \'\' ]"><a role="tab" data-toggle="tab" ng-click="!$pane.disabled && $setActive($pane.name || $index)" data-index="{{ $index }}" ng-bind-html="$pane.title" aria-controls="$pane.title"></a></li></ul><div ng-transclude class="tab-content"></div>')}]),angular.module('mgcrea.ngStrap.timepicker').run(['$templateCache',function(t){t.put('timepicker/timepicker.tpl.html','<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="showSeconds && row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled"><span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}]),angular.module('mgcrea.ngStrap.tooltip').run(['$templateCache',function(t){t.put('tooltip/tooltip.tpl.html','<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module('mgcrea.ngStrap.typeahead').run(['$templateCache',function(t){t.put('typeahead/typeahead.tpl.html','<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}])}(window,document);
/*! 12.0.1 */
!function(){function a(a,b){window.XMLHttpRequest.prototype[a]=b(window.XMLHttpRequest.prototype[a])}function b(a,b,c){try{Object.defineProperty(a,b,{get:c})}catch(d){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var c=function(a){if(!a.__listeners){a.upload||(a.upload={}),a.__listeners=[];var b=a.upload.addEventListener;a.upload.addEventListener=function(c,d){a.__listeners[c]=d,b&&b.apply(this,arguments)}}};a("open",function(a){return function(b,d,e){c(this),this.__url=d;try{a.apply(this,[b,d,e])}catch(f){f.message.indexOf("Access is denied")>-1&&(this.__origError=f,a.apply(this,[b,"_fix_for_ie_crossdomain__",e]))}}}),a("getResponseHeader",function(a){return function(b){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(b):null==a?null:a.apply(this,[b])}}),a("getAllResponseHeaders",function(a){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==a?null:a.apply(this)}}),a("abort",function(a){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==a?null:a.apply(this)}}),a("setRequestHeader",function(a){return function(b,d){if("__setXHR_"===b){c(this);var e=d(this);e instanceof Function&&e(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[b]=d,a.apply(this,arguments)}}),a("send",function(a){return function(){var c=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var d=arguments[0],e={url:c.__url,jsonp:!1,cache:!0,complete:function(a,d){a&&angular.isString(a)&&-1!==a.indexOf("#2174")&&(a=null),c.__completed=!0,!a&&c.__listeners.load&&c.__listeners.load({type:"load",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),!a&&c.__listeners.loadend&&c.__listeners.loadend({type:"loadend",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),"abort"===a&&c.__listeners.abort&&c.__listeners.abort({type:"abort",loaded:c.__loaded,total:c.__total,target:c,lengthComputable:!0}),void 0!==d.status&&b(c,"status",function(){return 0===d.status&&a&&"abort"!==a?500:d.status}),void 0!==d.statusText&&b(c,"statusText",function(){return d.statusText}),b(c,"readyState",function(){return 4}),void 0!==d.response&&b(c,"response",function(){return d.response});var e=d.responseText||(a&&0===d.status&&"abort"!==a?a:void 0);b(c,"responseText",function(){return e}),b(c,"response",function(){return e}),a&&b(c,"err",function(){return a}),c.__fileApiXHR=d,c.onreadystatechange&&c.onreadystatechange(),c.onload&&c.onload()},progress:function(a){if(a.target=c,c.__listeners.progress&&c.__listeners.progress(a),c.__total=a.total,c.__loaded=a.loaded,a.total===a.loaded){var b=this;setTimeout(function(){c.__completed||(c.getAllResponseHeaders=function(){},b.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:c.__requestHeaders};e.data={},e.files={};for(var f=0;f<d.data.length;f++){var g=d.data[f];null!=g.val&&null!=g.val.name&&null!=g.val.size&&null!=g.val.type?e.files[g.key]=g.val:e.data[g.key]=g.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';c.__fileApiXHR=FileAPI.upload(e)},1)}else{if(this.__origError)throw this.__origError;a.apply(c,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(a,b,c){b.__isFileAPIBlobShim&&(b=b.data[0]),this.data.push({key:a,val:b,name:c})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(a){return{data:a,__isFileAPIBlobShim:!0}}}}(),function(){function a(a){return"input"===a[0].tagName.toLowerCase()&&a.attr("type")&&"file"===a.attr("type").toLowerCase()}function b(){try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(a)return!0}catch(b){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function c(a){var b=0,c=0;if(window.jQuery)return jQuery(a).offset();if(a.offsetParent)do b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;while(a);return{left:b,top:c}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=b(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var d,e,f,g,h,i=document.createElement("script"),j=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)d=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)e=window.FileAPI.jsPath;else for(f=0;f<j.length;f++)if(h=j[f].src,g=h.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),g>-1){e=h.substring(0,g+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=e),i.setAttribute("src",d||e+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(i)}FileAPI.ngfFixIE=function(d,e,f){if(!b())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var g=function(){var b=e.parent();d.attr("disabled")?b&&b.removeClass("js-fileapi-wrapper"):(e.attr("__ngf_flash_")||(e.unbind("change"),e.unbind("click"),e.bind("change",function(a){h.apply(this,[a]),f.apply(this,[a])}),e.attr("__ngf_flash_","true")),b.addClass("js-fileapi-wrapper"),a(d)||(b.css("position","absolute").css("top",c(d[0]).top+"px").css("left",c(d[0]).left+"px").css("width",d[0].offsetWidth+"px").css("height",d[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",d.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),e.css("width",d[0].offsetWidth+"px").css("height",d[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};d.bind("mouseenter",g);var h=function(a){for(var b=FileAPI.getFiles(a),c=0;c<b.length;c++)void 0===b[c].size&&(b[c].size=0),void 0===b[c].name&&(b[c].name="file"),void 0===b[c].type&&(b[c].type="undefined");a.target||(a.target={}),a.target.files=b,a.target.files!==b&&(a.__files_=b),(a.__files_||a.target.files).item=function(b){return(a.__files_||a.target.files)[b]||null}}},FileAPI.disableFileInput=function(a,b){b?a.removeClass("js-fileapi-wrapper"):a.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var a=this,b=!1;this.listeners={},this.addEventListener=function(b,c){a.listeners[b]=a.listeners[b]||[],a.listeners[b].push(c)},this.removeEventListener=function(b,c){a.listeners[b]&&a.listeners[b].splice(a.listeners[b].indexOf(c),1)},this.dispatchEvent=function(b){var c=a.listeners[b.type];if(c)for(var d=0;d<c.length;d++)c[d].call(a,b)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var c=function(b,c){var d={type:b,target:a,loaded:c.loaded,total:c.total,error:c.error};return null!=c.result&&(d.target.result=c.result),d},d=function(d){b||(b=!0,a.onloadstart&&a.onloadstart(c("loadstart",d)));var e;"load"===d.type?(a.onloadend&&a.onloadend(c("loadend",d)),e=c("load",d),a.onload&&a.onload(e),a.dispatchEvent(e)):"progress"===d.type?(e=c("progress",d),a.onprogress&&a.onprogress(e),a.dispatchEvent(e)):(e=c("error",d),a.onerror&&a.onerror(e),a.dispatchEvent(e))};this.readAsDataURL=function(a){FileAPI.readAsDataURL(a,d)},this.readAsText=function(a){FileAPI.readAsText(a,d)}});
/*! 12.0.1 */
!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(a){return function(b,c){if("__setXHR_"===b){var d=c(this);d instanceof Function&&d(this)}else a.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.0.1",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(a,b,c){function d(d){function e(a){j.notify&&j.notify(a),k.progressFunc&&c(function(){k.progressFunc(a)})}function h(a){return null!=d._start&&g?{loaded:a.loaded+d._start,total:d._file&&d._file.size||a.total,type:a.type,config:d,lengthComputable:!0,target:a.target}:a}function i(){a(d).then(function(a){g&&d._chunkSize&&!d._finished&&d._file?(e({loaded:d._end,total:d._file&&d._file.size,config:d,type:"progress"}),f.upload(d,!0)):(d._finished&&delete d._finished,j.resolve(a))},function(a){j.reject(a)},function(a){j.notify(a)})}d.method=d.method||"POST",d.headers=d.headers||{};var j=d._deferred=d._deferred||b.defer(),k=j.promise;return d.disableProgress||(d.headers.__setXHR_=function(){return function(a){a&&a.upload&&a.upload.addEventListener&&(d.__XHR=a,d.xhrFn&&d.xhrFn(a),a.upload.addEventListener("progress",function(a){a.config=d,e(h(a))},!1),a.upload.addEventListener("load",function(a){a.lengthComputable&&(a.config=d,e(h(a)))},!1))}}),g?d._chunkSize&&d._end&&!d._finished?(d._start=d._end,d._end+=d._chunkSize,i()):d.resumeSizeUrl?a.get(d.resumeSizeUrl).then(function(a){d._start=d.resumeSizeResponseReader?d.resumeSizeResponseReader(a.data):parseInt((null==a.data.size?a.data:a.data.size).toString()),d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):d.resumeSize?d.resumeSize().then(function(a){d._start=a,i()},function(a){throw a}):(d._chunkSize&&(d._start=0,d._end=d._start+d._chunkSize),i()):i(),k.success=function(a){return k.then(function(b){a(b.data,b.status,b.headers,d)}),k},k.error=function(a){return k.then(null,function(b){a(b.data,b.status,b.headers,d)}),k},k.progress=function(a){return k.progressFunc=a,k.then(null,null,function(b){a(b)}),k},k.abort=k.pause=function(){return d.__XHR&&c(function(){d.__XHR.abort()}),k},k.xhr=function(a){return d.xhrFn=function(b){return function(){b&&b.apply(k,arguments),a.apply(k,arguments)}}(d.xhrFn),k},f.promisesCount++,k["finally"](function(){f.promisesCount--}),k}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=this;f.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob instanceof Function&&window.Blob.prototype.slice};var g=this.isResumeSupported();this.isUploadInProgress=function(){return f.promisesCount>0},this.rename=function(a,b){return a.ngfName=b,a},this.jsonBlob=function(a){null==a||angular.isString(a)||(a=JSON.stringify(a));var b=new window.Blob([a],{type:"application/json"});return b._ngfBlob=!0,b},this.json=function(a){return angular.toJson(a)},this.isFile=function(a){return null!=a&&(a instanceof window.Blob||a.flashId&&a.name&&a.size)},this.upload=function(a,b){function c(b,c){if(b._ngfBlob)return b;if(a._file=a._file||b,null!=a._start&&g){a._end&&a._end>=b.size&&(a._finished=!0,a._end=b.size);var d=b.slice(a._start,a._end||b.size);return d.name=b.name,d.ngfName=b.ngfName,a._chunkSize&&(c.append("_chunkSize",a._chunkSize),c.append("_currentChunkSize",a._end-a._start),c.append("_chunkNumber",Math.floor(a._start/a._chunkSize)),c.append("_totalSize",a._file.size)),d}return b}function h(b,d,e){if(void 0!==d)if(angular.isDate(d)&&(d=d.toISOString()),angular.isString(d))b.append(e,d);else if(f.isFile(d)){var g=c(d,b),i=e.split(",");i[1]&&(g.ngfName=i[1].replace(/^\s+|\s+$/g,""),e=i[0]),a._fileKey=a._fileKey||e,b.append(e,g,g.ngfName||g.name)}else if(angular.isObject(d)){if(d.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+e;d.$$ngfCircularDetection=!0;try{for(var j in d)if(d.hasOwnProperty(j)&&"$$ngfCircularDetection"!==j){var k=null==a.objectKey?"[i]":a.objectKey;d.length&&parseInt(j)>-1&&(k=null==a.arrayKey?k:a.arrayKey),h(b,d[j],e+k.replace(/[ik]/g,j))}}finally{delete d.$$ngfCircularDetection}}else b.append(e,d)}function i(){a._chunkSize=f.translateScalars(a.resumeChunkSize),a._chunkSize=a._chunkSize?parseInt(a._chunkSize.toString()):null,a.headers=a.headers||{},a.headers["Content-Type"]=void 0,a.transformRequest=a.transformRequest?angular.isArray(a.transformRequest)?a.transformRequest:[a.transformRequest]:[],a.transformRequest.push(function(b){var c,d=new window.FormData;b=b||a.fields||{},a.file&&(b.file=a.file);for(c in b)if(b.hasOwnProperty(c)){var e=b[c];a.formDataAppender?a.formDataAppender(d,c,e):h(d,e,c)}return d})}return b||(a=e(a)),a._isDigested||(a._isDigested=!0,i()),d(a)},this.http=function(b){return b=e(b),b.transformRequest=b.transformRequest||function(b){return window.ArrayBuffer&&b instanceof window.ArrayBuffer||b instanceof window.Blob?b:a.defaults.transformRequest[0].apply(this,arguments)},b._chunkSize=f.translateScalars(b.resumeChunkSize),b._chunkSize=b._chunkSize?parseInt(b._chunkSize.toString()):null,d(b)},this.translateScalars=function(a){if(angular.isString(a)){if(a.search(/kb/i)===a.length-2)return parseFloat(1024*a.substring(0,a.length-2));if(a.search(/mb/i)===a.length-2)return parseFloat(1048576*a.substring(0,a.length-2));if(a.search(/gb/i)===a.length-2)return parseFloat(1073741824*a.substring(0,a.length-2));if(a.search(/b/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/s/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/m/i)===a.length-1)return parseFloat(60*a.substring(0,a.length-1));if(a.search(/h/i)===a.length-1)return parseFloat(3600*a.substring(0,a.length-1))}return a},this.urlToBlob=function(c){var d=b.defer();return a({url:c,method:"get",responseType:"arraybuffer"}).then(function(a){var b=new Uint8Array(a.data),c=a.headers("content-type")||"image/WebP",e=new window.Blob([b],{type:c});d.resolve(e)},function(a){d.reject(a)}),d.promise},this.setDefaults=function(a){this.defaults=a||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(a,b,c,d,e){function f(a,b,c){var e=[h.emptyPromise()];return angular.forEach(a,function(d,f){0===d.type.indexOf("image/jpeg")&&h.attrGetter("ngfFixOrientation",b,c,{$file:d})&&e.push(h.happyPromise(h.applyExifRotation(d),d).then(function(b){a.splice(f,1,b)}))}),d.all(e)}function g(a,b,c){function e(d,e){if(0===d.type.indexOf("image")){if(f.pattern&&!h.validatePattern(d,f.pattern))return;var i=h.resize(d,f.width,f.height,f.quality,f.type,f.ratio,f.centerCrop,function(a,e){return h.attrGetter("ngfResizeIf",b,c,{$width:a,$height:e,$file:d})},f.restoreExif!==!1);g.push(i),i.then(function(b){a.splice(e,1,b)},function(a){d.$error="resize",d.$errorParam=(a?(a.message?a.message:a)+": ":"")+(d&&d.name)})}}var f=h.attrGetter("ngfResize",b,c);if(!(f&&angular.isObject(f)&&h.isResizeSupported()&&a.length))return h.emptyPromise();for(var g=[h.emptyPromise()],i=0;i<a.length;i++)e(a[i],i);return d.all(g)}var h=e;return h.getAttrWithDefaults=function(a,b){if(null!=a[b])return a[b];var c=h.defaults[b];return null==c?c:angular.isString(c)?c:JSON.stringify(c)},h.attrGetter=function(b,c,d,e){var f=this.getAttrWithDefaults(c,b);if(!d)return f;try{return e?a(f)(d,e):a(f)(d)}catch(g){if(b.search(/min|max|pattern/i))return f;throw g}},h.shouldUpdateOn=function(a,b,c){var d=h.attrGetter("ngModelOptions",b,c);return d&&d.updateOn?d.updateOn.split(" ").indexOf(a)>-1:!0},h.emptyPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.resolve.apply(a,c)}),a.promise},h.rejectPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.reject.apply(a,c)}),a.promise},h.happyPromise=function(a,c){var e=d.defer();return a.then(function(a){e.resolve(a)},function(a){b(function(){throw a}),e.resolve(c)}),e.promise},h.updateModel=function(c,d,e,i,j,k,l){function m(f,g,j,l,m){d.$$ngfPrevValidFiles=f,d.$$ngfPrevInvalidFiles=g;var n=f&&f.length?f[0]:null,o=g&&g.length?g[0]:null;c&&(h.applyModelValidation(c,f),c.$setViewValue(m?n:f)),i&&a(i)(e,{$files:f,$file:n,$newFiles:j,$duplicateFiles:l,$invalidFiles:g,$invalidFile:o,$event:k});var p=h.attrGetter("ngfModelInvalid",d);p&&b(function(){a(p).assign(e,m?o:g)}),b(function(){})}function n(){function a(a,b){return a.name===b.name&&(a.$ngfOrigSize||a.size)===(b.$ngfOrigSize||b.size)&&a.type===b.type}function b(b){var c;for(c=0;c<s.length;c++)if(a(b,s[c]))return!0;for(c=0;c<t.length;c++)if(a(b,t[c]))return!0;return!1}if(j){r=[],u=[];for(var c=0;c<j.length;c++)b(j[c])?u.push(j[c]):r.push(j[c])}}function o(a){return angular.isArray(a)?a:[a]}function p(){w=[],v=[],angular.forEach(r,function(a){a.$error?v.push(a):w.push(a)})}function q(){function a(){b(function(){m(x?s.concat(w):w,x?t.concat(v):v,j,u,y)},B&&B.debounce?B.debounce.change||B.debounce:0)}g(z?r:w,d,e).then(function(){z?h.validate(r,A,c,d,e).then(function(){p(),a()}):a()},function(a){throw"Could not resize files "+a})}var r,s,t,u=[],v=[],w=[];s=d.$$ngfPrevValidFiles||[],t=d.$$ngfPrevInvalidFiles||[],c&&c.$modelValue&&(s=o(c.$modelValue));var x=h.attrGetter("ngfKeep",d,e);r=(j||[]).slice(0),("distinct"===x||h.attrGetter("ngfKeepDistinct",d,e)===!0)&&n(d,e);var y=!x&&!h.attrGetter("ngfMultiple",d,e)&&!h.attrGetter("multiple",d);if(!x||r.length){h.attrGetter("ngfBeforeModelChange",d,e,{$files:j,$file:j&&j.length?j[0]:null,$newFiles:r,$duplicateFiles:u,$event:k});var z=h.attrGetter("ngfValidateAfterResize",d,e),A=r.length+s.length+t.length,B=h.attrGetter("ngModelOptions",d,e);h.validate(r,A,c,d,e).then(function(){l?m(r,[],j,u,y):(B&&B.allowInvalid||z?w=r:p(),h.attrGetter("ngfFixOrientation",d,e)&&h.isExifSupported()?f(w,d,e).then(function(){q()}):q())})}},h}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(a,b,c,d){function e(a){var b=a.match(/Android[^\d]*(\d+)\.(\d+)/);if(b&&b.length>2){var c=d.defaults.androidFixMinorVersion||4;return parseInt(b[1])<4||parseInt(b[1])===c&&parseInt(b[2])<c}return-1===a.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(a)}function f(a,b,c,d,f,h,i,j){function k(){return"input"===b[0].tagName.toLowerCase()&&c.type&&"file"===c.type.toLowerCase()}function l(){return t("ngfChange")||t("ngfSelect")}function m(b){if(j.shouldUpdateOn("change",c,a)){for(var e=b.__files_||b.target&&b.target.files,f=[],g=0;g<e.length;g++)f.push(e[g]);j.updateModel(d,c,a,l(),f.length?f:null,b)}}function n(a){if(b!==a)for(var c=0;c<b[0].attributes.length;c++){var d=b[0].attributes[c];"type"!==d.name&&"class"!==d.name&&"style"!==d.name&&((null==d.value||""===d.value)&&("required"===d.name&&(d.value="required"),"multiple"===d.name&&(d.value="multiple")),a.attr(d.name,"id"===d.name?"ngf-"+d.value:d.value))}}function o(){if(k())return b;var a=angular.element('<input type="file">');n(a);var c=angular.element("<label>upload</label>");return c.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),g.push({el:b,ref:c}),document.body.appendChild(c.append(a)[0]),a}function p(c){if(b.attr("disabled"))return!1;if(!t("ngfSelectDisabled",a)){var d=q(c);if(null!=d)return d;r(c);try{k()||document.body.contains(w[0])||(g.push({el:b,ref:w.parent()}),document.body.appendChild(w.parent()[0]),w.bind("change",m))}catch(f){}return e(navigator.userAgent)?setTimeout(function(){w[0].click()},0):w[0].click(),!1}}function q(a){var b=a.changedTouches||a.originalEvent&&a.originalEvent.changedTouches;if("touchstart"===a.type)return v=b?b[0].clientY:0,!0;if(a.stopPropagation(),a.preventDefault(),"touchend"===a.type){var c=b?b[0].clientY:0;if(Math.abs(c-v)>20)return!1}}function r(b){j.shouldUpdateOn("click",c,a)&&w.val()&&(w.val(null),j.updateModel(d,c,a,l(),null,b,!0))}function s(a){if(w&&!w.attr("__ngf_ie10_Fix_")){if(!w[0].parentNode)return void(w=null);a.preventDefault(),a.stopPropagation(),w.unbind("click");var b=w.clone();return w.replaceWith(b),w=b,w.attr("__ngf_ie10_Fix_","true"),w.bind("change",m),w.bind("click",s),w[0].click(),!1}w.removeAttr("__ngf_ie10_Fix_")}var t=function(a,b){return j.attrGetter(a,c,b)};j.registerModelChangeValidator(d,c,a);var u=[];u.push(a.$watch(t("ngfMultiple"),function(){w.attr("multiple",t("ngfMultiple",a))})),u.push(a.$watch(t("ngfCapture"),function(){w.attr("capture",t("ngfCapture",a))})),u.push(a.$watch(t("ngfAccept"),function(){w.attr("accept",t("ngfAccept",a))})),c.$observe("accept",function(){w.attr("accept",t("accept"))}),u.push(function(){c.$$observers&&delete c.$$observers.accept});var v=0,w=b;k()||(w=o()),w.bind("change",m),k()?b.bind("click",r):b.bind("click touchstart touchend",p),-1!==navigator.appVersion.indexOf("MSIE 10")&&w.bind("click",s),d&&d.$formatters.push(function(a){return(null==a||0===a.length)&&w.val()&&w.val(null),a}),a.$on("$destroy",function(){k()||w.parent().remove(),angular.forEach(u,function(a){a()})}),h(function(){for(var a=0;a<g.length;a++){var b=g[a];document.body.contains(b.el[0])||(g.splice(a,1),b.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(b,w,m)}var g=[];return{restrict:"AEC",require:"?ngModel",link:function(e,g,h,i){f(e,g,h,i,a,b,c,d)}}}]),function(){function a(a){return"img"===a.tagName.toLowerCase()?"image":"audio"===a.tagName.toLowerCase()?"audio":"video"===a.tagName.toLowerCase()?"video":/./}function b(b,c,d,e,f,g,h,i){function j(a){var g=b.attrGetter("ngfNoObjectUrl",f,d);b.dataUrl(a,g)["finally"](function(){c(function(){var b=(g?a.$ngfDataUrl:a.$ngfBlobUrl)||a.$ngfDataUrl;i?e.css("background-image","url('"+(b||"")+"')"):e.attr("src",b),b?e.removeClass("ng-hide"):e.addClass("ng-hide")})})}c(function(){var c=d.$watch(f[g],function(c){var d=h;if("ngfThumbnail"===g&&(d||(d={width:e[0].clientWidth,height:e[0].clientHeight}),0===d.width&&window.getComputedStyle)){var f=getComputedStyle(e[0]);d={width:parseInt(f.width.slice(0,-2)),height:parseInt(f.height.slice(0,-2))}}return angular.isString(c)?(e.removeClass("ng-hide"),i?e.css("background-image","url('"+c+"')"):e.attr("src",c)):void(!c||!c.type||0!==c.type.search(a(e[0]))||i&&0!==c.type.indexOf("image")?e.addClass("ng-hide"):d&&b.isResizeSupported()?b.resize(c,d.width,d.height,d.quality).then(function(a){j(a)},function(a){throw a}):j(c))});d.$on("$destroy",function(){c()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(a,b,c){var d=a;return d.base64DataUrl=function(a){if(angular.isArray(a)){var b=c.defer(),e=0;return angular.forEach(a,function(c){d.dataUrl(c,!0)["finally"](function(){if(e++,e===a.length){var c=[];angular.forEach(a,function(a){c.push(a.$ngfDataUrl)}),b.resolve(c,a)}})}),b.promise}return d.dataUrl(a,!0)},d.dataUrl=function(a,e){if(!a)return d.emptyPromise(a,a);if(e&&null!=a.$ngfDataUrl||!e&&null!=a.$ngfBlobUrl)return d.emptyPromise(e?a.$ngfDataUrl:a.$ngfBlobUrl,a);var f=e?a.$$ngfDataUrlPromise:a.$$ngfBlobUrlPromise;if(f)return f;var g=c.defer();return b(function(){if(window.FileReader&&a&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||a.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||a.size<4e6)){var c=window.URL||window.webkitURL;if(c&&c.createObjectURL&&!e){var f;try{f=c.createObjectURL(a)}catch(h){return void b(function(){a.$ngfBlobUrl="",g.reject()})}b(function(){if(a.$ngfBlobUrl=f,f){g.resolve(f,a),d.blobUrls=d.blobUrls||[],d.blobUrlsTotalSize=d.blobUrlsTotalSize||0,d.blobUrls.push({url:f,size:a.size}),d.blobUrlsTotalSize+=a.size||0;for(var b=d.defaults.blobUrlsMaxMemory||268435456,e=d.defaults.blobUrlsMaxQueueSize||200;(d.blobUrlsTotalSize>b||d.blobUrls.length>e)&&d.blobUrls.length>1;){var h=d.blobUrls.splice(0,1)[0];c.revokeObjectURL(h.url),d.blobUrlsTotalSize-=h.size}}})}else{var i=new FileReader;i.onload=function(c){b(function(){a.$ngfDataUrl=c.target.result,g.resolve(c.target.result,a),b(function(){delete a.$ngfDataUrl},1e3)})},i.onerror=function(){b(function(){a.$ngfDataUrl="",g.reject()})},i.readAsDataURL(a)}}else b(function(){a[e?"$ngfDataUrl":"$ngfBlobUrl"]="",g.reject()})}),f=e?a.$$ngfDataUrlPromise=g.promise:a.$$ngfBlobUrlPromise=g.promise,f["finally"](function(){delete a[e?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),f},d}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfSrc",a.attrGetter("ngfResize",f,d),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfBackground",a.attrGetter("ngfResize",f,d),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){var g=a.attrGetter("ngfSize",f,d);b(a,c,d,e,f,"ngfThumbnail",g,a.attrGetter("ngfAsBackground",f,d))}}}]),ngFileUpload.config(["$compileProvider",function(a){a.imgSrcSanitizationWhitelist&&a.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/),a.aHrefSanitizationWhitelist&&a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(a,b){return function(c,d,e){if(angular.isString(c))return b.trustAsResourceUrl(c);var f=c&&((d?c.$ngfDataUrl:c.$ngfBlobUrl)||c.$ngfDataUrl);return c&&!f?(!c.$ngfDataUrlFilterInProgress&&angular.isObject(c)&&(c.$ngfDataUrlFilterInProgress=!0,a.dataUrl(c,d)),""):(c&&delete c.$ngfDataUrlFilterInProgress,(c&&f?e?b.trustAsResourceUrl(f):f:c)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(a,b,c){function d(a){var b="",c=[];if(a.length>2&&"/"===a[0]&&"/"===a[a.length-1])b=a.substring(1,a.length-1);else{var e=a.split(",");if(e.length>1)for(var f=0;f<e.length;f++){var g=d(e[f]);g.regexp?(b+="("+g.regexp+")",f<e.length-1&&(b+="|")):c=c.concat(g.excludes)}else 0===a.indexOf("!")?c.push("^((?!"+d(a.substring(1)).regexp+").)*$"):(0===a.indexOf(".")&&(a="*"+a),b="^"+a.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",b=b.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:b,excludes:c}}function e(a,b){null==b||a.$dirty||(a.$setDirty?a.$setDirty():a.$dirty=!0)}var f=a;return f.validatePattern=function(a,b){if(!b)return!0;var c=d(b),e=!0;if(c.regexp&&c.regexp.length){var f=new RegExp(c.regexp,"i");e=null!=a.type&&f.test(a.type)||null!=a.name&&f.test(a.name)}for(var g=c.excludes.length;g--;){var h=new RegExp(c.excludes[g],"i");e=e&&(null==a.type||h.test(a.type))&&(null==a.name||h.test(a.name))}return e},f.ratioToFloat=function(a){var b=a.toString(),c=b.search(/[x:]/i);return b=c>-1?parseFloat(b.substring(0,c))/parseFloat(b.substring(c+1)):parseFloat(b)},f.registerModelChangeValidator=function(a,b,c){a&&a.$formatters.push(function(d){a.$dirty&&(d&&!angular.isArray(d)&&(d=[d]),f.validate(d,d?d.length:0,a,b,c).then(function(){f.applyModelValidation(a,d)}))})},f.applyModelValidation=function(a,b){e(a,b),angular.forEach(a.$ngfValidations,function(b){a.$setValidity(b.name,b.valid)})},f.getValidationAttr=function(a,b,c,d,e){var g="ngf"+c[0].toUpperCase()+c.substr(1),h=f.attrGetter(g,a,b,{$file:e});if(null==h&&(h=f.attrGetter("ngfValidate",a,b,{$file:e}))){var i=(d||c).split(".");h=h[i[0]],i.length>1&&(h=h&&h[i[1]])}return h},f.validate=function(a,c,d,e,g){function h(b,c,h){if(a){for(var i=a.length,j=null;i--;){var k=a[i];if(k){var l=f.getValidationAttr(e,g,b,c,k);null!=l&&(h(k,l)||(k.$error=b,(k.$errorMessages=k.$errorMessages||{}).name=!0,k.$errorParam=l,a.splice(i,1),j=!1))}}null!==j&&d.$ngfValidations.push({name:b,valid:j})}}function i(c,h,i,k,l){function m(a,b,d){null!=d?k(b,d).then(function(e){l(e,d)?a.resolve():(b.$error=c,(b.$errorMessages=b.$errorMessages||{}).name=!0,b.$errorParam=d,a.reject())},function(){j("ngfValidateForce",{$file:b})?(b.$error=c,(b.$errorMessages=b.$errorMessages||{}).name=!0,b.$errorParam=d,a.reject()):a.resolve()}):a.resolve()}var n=[f.emptyPromise()];return a?(a=void 0===a.length?[a]:a,angular.forEach(a,function(a){var d=b.defer();return n.push(d.promise),!i||null!=a.type&&0===a.type.search(i)?void("dimensions"===c&&null!=f.attrGetter("ngfDimensions",e)?f.imageDimensions(a).then(function(b){m(d,a,j("ngfDimensions",{$file:a,$width:b.width,$height:b.height}))},function(){d.reject()}):"duration"===c&&null!=f.attrGetter("ngfDuration",e)?f.mediaDuration(a).then(function(b){m(d,a,j("ngfDuration",{$file:a,$duration:b}))},function(){d.reject()}):m(d,a,f.getValidationAttr(e,g,c,h,a))):void d.resolve()}),b.all(n).then(function(){d.$ngfValidations.push({name:c,valid:!0})},function(){d.$ngfValidations.push({name:c,valid:!1})})):void 0}d=d||{},d.$ngfValidations=d.$ngfValidations||[],angular.forEach(d.$ngfValidations,function(a){a.valid=!0});var j=function(a,b){return f.attrGetter(a,e,g,b)};if(null==a||0===a.length)return f.emptyPromise(d);a=void 0===a.length?[a]:a.slice(0),h("maxFiles",null,function(a,b){return b>=c}),h("pattern",null,f.validatePattern),h("minSize","size.min",function(a,b){return a.size+.1>=f.translateScalars(b)}),h("maxSize","size.max",function(a,b){return a.size-.1<=f.translateScalars(b)});var k=0;if(h("maxTotalSize",null,function(b,c){return k+=b.size,k>f.translateScalars(c)?(a.splice(0,a.length),!1):!0}),h("validateFn",null,function(a,b){return b===!0||null===b||""===b}),!a.length)return f.emptyPromise(d,d.$ngfValidations);var l=b.defer(),m=[];return m.push(f.happyPromise(i("maxHeight","height.max",/image/,this.imageDimensions,function(a,b){return a.height<=b}))),m.push(f.happyPromise(i("minHeight","height.min",/image/,this.imageDimensions,function(a,b){return a.height>=b}))),m.push(f.happyPromise(i("maxWidth","width.max",/image/,this.imageDimensions,function(a,b){return a.width<=b}))),m.push(f.happyPromise(i("minWidth","width.min",/image/,this.imageDimensions,function(a,b){return a.width>=b}))),m.push(f.happyPromise(i("dimensions",null,/image/,function(a,b){return f.emptyPromise(b)},function(a){return a}))),m.push(f.happyPromise(i("ratio",null,/image/,this.imageDimensions,function(a,b){for(var c=b.toString().split(","),d=!1,e=0;e<c.length;e++)Math.abs(a.width/a.height-f.ratioToFloat(c[e]))<1e-4&&(d=!0);return d}))),m.push(f.happyPromise(i("maxRatio","ratio.max",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)<1e-4}))),m.push(f.happyPromise(i("minRatio","ratio.min",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)>-1e-4}))),m.push(f.happyPromise(i("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(a,b){return a<=f.translateScalars(b)}))),m.push(f.happyPromise(i("minDuration","duration.min",/audio|video/,this.mediaDuration,function(a,b){return a>=f.translateScalars(b)}))),m.push(f.happyPromise(i("duration",null,/audio|video/,function(a,b){return f.emptyPromise(b)},function(a){return a}))),m.push(f.happyPromise(i("validateAsyncFn",null,null,function(a,b){return b},function(a){return a===!0||null===a||""===a}))),b.all(m).then(function(){l.resolve(d,d.$ngfValidations)})},f.imageDimensions=function(a){if(a.$ngfWidth&&a.$ngfHeight){var d=b.defer();return c(function(){d.resolve({width:a.$ngfWidth,height:a.$ngfHeight})}),d.promise}if(a.$ngfDimensionPromise)return a.$ngfDimensionPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf("image")?void e.reject("not image"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].clientWidth,c=h[0].clientHeight;h.remove(),a.$ngfWidth=b,a.$ngfHeight=c,e.resolve({width:b,height:c})}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].clientWidth?d():i>10?f():g())},1e3)}var h=angular.element("<img>").attr("src",b).css("visibility","hidden").css("position","fixed");h.on("load",d),h.on("error",f);var i=0;g(),angular.element(document.getElementsByTagName("body")[0]).append(h)},function(){e.reject("load error")})}),a.$ngfDimensionPromise=e.promise,a.$ngfDimensionPromise["finally"](function(){delete a.$ngfDimensionPromise}),a.$ngfDimensionPromise},f.mediaDuration=function(a){if(a.$ngfDuration){var d=b.defer();return c(function(){d.resolve(a.$ngfDuration)}),d.promise}if(a.$ngfDurationPromise)return a.$ngfDurationPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf("audio")&&0!==a.type.indexOf("video")?void e.reject("not media"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].duration;a.$ngfDuration=b,h.remove(),e.resolve(b)}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].duration?d():i>10?f():g())},1e3)}var h=angular.element(0===a.type.indexOf("audio")?"<audio>":"<video>").attr("src",b).css("visibility","none").css("position","fixed");h.on("loadedmetadata",d),h.on("error",f);var i=0;g(),angular.element(document.body).append(h)},function(){e.reject("load error")})}),a.$ngfDurationPromise=e.promise,a.$ngfDurationPromise["finally"](function(){delete a.$ngfDurationPromise}),a.$ngfDurationPromise},f}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(a,b){var c=a,d=function(a,b,c,d,e){var f=e?Math.max(c/a,d/b):Math.min(c/a,d/b);return{width:a*f,height:b*f,marginX:a*f-c,marginY:b*f-d}},e=function(a,e,f,g,h,i,j,k){var l=b.defer(),m=document.createElement("canvas"),n=document.createElement("img");return n.onload=function(){if(null!=k&&k(n.width,n.height)===!1)return void l.reject("resizeIf");try{if(i){var a=c.ratioToFloat(i),b=n.width/n.height;a>b?(e=n.width,f=e/a):(f=n.height,e=f*a)}e||(e=n.width),f||(f=n.height);var o=d(n.width,n.height,e,f,j);m.width=Math.min(o.width,e),m.height=Math.min(o.height,f);var p=m.getContext("2d");p.drawImage(n,Math.min(0,-o.marginX/2),Math.min(0,-o.marginY/2),o.width,o.height),l.resolve(m.toDataURL(h||"image/WebP",g||.934))}catch(q){l.reject(q)}},n.onerror=function(){l.reject()},n.src=a,l.promise};return c.dataUrltoBlob=function(a,b,c){for(var d=a.split(","),e=d[0].match(/:(.*?);/)[1],f=atob(d[1]),g=f.length,h=new Uint8Array(g);g--;)h[g]=f.charCodeAt(g);var i=new window.Blob([h],{type:e});return i.name=b,i.$ngfOrigSize=c,i},c.isResizeSupported=function(){var a=document.createElement("canvas");return window.atob&&a.getContext&&a.getContext("2d")&&window.Blob},c.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(a){this.$ngfName=a},configurable:!0}),c.resize=function(a,d,f,g,h,i,j,k,l){if(0!==a.type.indexOf("image"))return c.emptyPromise(a);var m=b.defer();return c.dataUrl(a,!0).then(function(b){e(b,d,f,g,h||a.type,i,j,k).then(function(d){if("image/jpeg"===a.type&&l)try{d=c.restoreExif(b,d)}catch(e){setTimeout(function(){throw e},1)}m.resolve(c.dataUrltoBlob(d,a.name,a.size))},function(b){"resizeIf"===b&&m.resolve(a),m.reject()})},function(){m.reject()}),m.promise},c}]),function(){function a(a,c,d,e,f,g,h,i,j,k){function l(){return c.attr("disabled")||r("ngfDropDisabled",a)}function m(b,c){i.updateModel(e,d,a,r("ngfChange")||r("ngfDrop"),b,c)}function n(b,c){if(!i.shouldUpdateOn(b,d,a)||!c)return i.rejectPromise([]);var e=[];c.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(a,b,c){e.push(c)});var f=[],g=[];if(e.length){angular.forEach(e,function(a){f.push(i.urlToBlob(a).then(function(a){g.push(a)}))});var h=k.defer();return k.all(f).then(function(){h.resolve(g)},function(a){h.reject(a)}),h.promise}}function o(a,b,c,d){var e=r("ngfDragOverClass",a,{$event:c}),f="dragover";if(angular.isString(e))f=e;else if(e&&(e.delay&&(v=e.delay),e.accept||e.reject)){var g=c.dataTransfer.items;if(null!=g&&g.length)for(var h=e.pattern||r("ngfPattern",a,{$event:c}),j=g.length;j--;){if(!i.validatePattern(g[j],h)){f=e.reject;break}f=e.accept}else f=e.accept}d(f)}function p(b,c,e,f){function g(a,b){var c=k.defer();if(null!=a)if(a.isDirectory){var d=[i.emptyPromise()];if(m){var e={type:"directory"};e.name=e.path=(b||"")+a.name+a.name,n.push(e)}var f=a.createReader(),h=[],p=function(){f.readEntries(function(e){try{e.length?(h=h.concat(Array.prototype.slice.call(e||[],0)),p()):(angular.forEach(h.slice(0),function(c){n.length<=j&&l>=o&&d.push(g(c,(b?b:"")+a.name+"/"))}),k.all(d).then(function(){c.resolve()},function(a){c.reject(a)}))}catch(f){c.reject(f)}},function(a){c.reject(a)})};p()}else a.file(function(a){try{a.path=(b?b:"")+a.name,m&&(a=i.rename(a,a.path)),n.push(a),o+=a.size,c.resolve()}catch(d){c.reject(d)}},function(a){c.reject(a)});return c.promise}var j=i.getValidationAttr(d,a,"maxFiles")||Number.MAX_VALUE,l=i.getValidationAttr(d,a,"maxTotalSize")||Number.MAX_VALUE,m=r("ngfIncludeDir",a),n=[],o=0,p=[i.emptyPromise()];if(b&&b.length>0&&"file"!==h.protocol())for(var q=0;q<b.length;q++){if(b[q].webkitGetAsEntry&&b[q].webkitGetAsEntry()&&b[q].webkitGetAsEntry().isDirectory){var s=b[q].webkitGetAsEntry();if(s.isDirectory&&!e)continue;null!=s&&p.push(g(s))}else{var t=b[q].getAsFile();null!=t&&(n.push(t),o+=t.size)}if(n.length>j||o>l||!f&&n.length>0)break}else if(null!=c)for(var u=0;u<c.length;u++){var v=c.item(u);if((v.type||v.size>0)&&(n.push(v),o+=v.size),n.length>j||o>l||!f&&n.length>0)break}var w=k.defer();return k.all(p).then(function(){if(f||m)w.resolve(n);else{for(var a=0;n[a]&&"directory"===n[a].type;)a++;w.resolve([n[a]])}},function(a){w.reject(a)}),w.promise}var q=b(),r=function(a,b,c){return i.attrGetter(a,d,b,c)};if(r("dropAvailable")&&g(function(){a[r("dropAvailable")]?a[r("dropAvailable")].value=q:a[r("dropAvailable")]=q}),!q)return void(r("ngfHideOnDropNotAvailable",a)===!0&&c.css("display","none"));null==r("ngfSelect")&&i.registerModelChangeValidator(e,d,a);var s,t=null,u=f(r("ngfStopPropagation")),v=1;c[0].addEventListener("dragover",function(b){if(!l()&&i.shouldUpdateOn("drop",d,a)){if(b.preventDefault(),u(a)&&b.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var e=b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy"}g.cancel(t),s||(s="C",o(a,d,b,function(d){s=d,c.addClass(s),r("ngfDrag",a,{$isDragging:!0,$class:s,$event:b})}))}},!1),c[0].addEventListener("dragenter",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),u(a)&&b.stopPropagation())},!1),c[0].addEventListener("dragleave",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),u(a)&&b.stopPropagation(),t=g(function(){s&&c.removeClass(s),s=null,r("ngfDrag",a,{$isDragging:!1,$event:b})},v||100))},!1),c[0].addEventListener("drop",function(b){if(!l()&&i.shouldUpdateOn("drop",d,a)){b.preventDefault(),u(a)&&b.stopPropagation(),s&&c.removeClass(s),s=null;var e,f=b.dataTransfer.items;try{e=b.dataTransfer&&b.dataTransfer.getData&&b.dataTransfer.getData("text/html")}catch(g){}p(f,b.dataTransfer.files,r("ngfAllowDir",a)!==!1,r("multiple")||r("ngfMultiple",a)).then(function(a){a.length?m(a,b):n("dropUrl",e).then(function(a){m(a,b)})})}},!1),c[0].addEventListener("paste",function(b){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&r("ngfEnableFirefoxPaste",a)&&b.preventDefault(),!l()&&i.shouldUpdateOn("paste",d,a)){var c=[],e=b.clipboardData||b.originalEvent.clipboardData;if(e&&e.items)for(var f=0;f<e.items.length;f++)-1!==e.items[f].type.indexOf("image")&&c.push(e.items[f].getAsFile());c.length?m(c,b):n("pasteUrl",e).then(function(a){m(a,b)})}},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&r("ngfEnableFirefoxPaste",a)&&(c.attr("contenteditable",!0),c.on("keypress",function(a){a.metaKey||a.ctrlKey||a.preventDefault()}))}function b(){var a=document.createElement("div");return"draggable"in a&&"ondrop"in a&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location","Upload","$http","$q",function(b,c,d,e,f,g){return{restrict:"AEC",require:"?ngModel",link:function(h,i,j,k){a(h,i,j,k,b,c,d,e,f,g)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(a,c){b()&&c.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(a,c,d){
return function(e,f,g){if(b()){var h=a(d.attrGetter("ngfDropAvailable",g));c(function(){h(e),h.assign&&h.assign(e,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(a,b){function c(a,b,c,d){switch(b){case 2:return a.transform(-1,0,0,1,c,0);case 3:return a.transform(-1,0,0,-1,c,d);case 4:return a.transform(1,0,0,-1,0,d);case 5:return a.transform(0,1,1,0,0,0);case 6:return a.transform(0,1,-1,0,d,0);case 7:return a.transform(0,-1,-1,0,d,c);case 8:return a.transform(0,-1,1,0,0,c)}}function d(a){for(var b="",c=new Uint8Array(a),d=c.byteLength,e=0;d>e;e++)b+=String.fromCharCode(c[e]);return window.btoa(b)}var e=a;return e.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&e.isResizeSupported()},e.readOrientation=function(a){var c=b.defer(),d=new FileReader,e=a.slice(0,65536);return d.readAsArrayBuffer(e),d.onerror=function(a){return c.reject(a)},d.onload=function(a){var b={orientation:1},d=new DataView(this.result);if(65496!==d.getUint16(0,!1))return c.resolve(b);for(var e=d.byteLength,f=2;e>f;){var g=d.getUint16(f,!1);if(f+=2,65505===g){if(1165519206!==d.getUint32(f+=2,!1))return c.resolve(b);var h=18761===d.getUint16(f+=6,!1);f+=d.getUint32(f+4,h);var i=d.getUint16(f,h);f+=2;for(var j=0;i>j;j++)if(274===d.getUint16(f+12*j,h)){var k=d.getUint16(f+12*j+8,h);return k>=2&&8>=k&&(d.setUint16(f+12*j+8,1,h),b.fixedArrayBuffer=a.target.result),b.orientation=k,c.resolve(b)}}else{if(65280!==(65280&g))break;f+=d.getUint16(f,!1)}}return c.resolve(b)},c.promise},e.applyExifRotation=function(a){if(0!==a.type.indexOf("image/jpeg"))return e.emptyPromise(a);var f=b.defer();return e.readOrientation(a).then(function(b){return b.orientation<2||b.orientation>8?f.resolve(a):void e.dataUrl(a,!0).then(function(g){var h=document.createElement("canvas"),i=document.createElement("img");i.onload=function(){try{h.width=b.orientation>4?i.height:i.width,h.height=b.orientation>4?i.width:i.height;var g=h.getContext("2d");c(g,b.orientation,i.width,i.height),g.drawImage(i,0,0);var j=h.toDataURL(a.type||"image/WebP",.934);j=e.restoreExif(d(b.fixedArrayBuffer),j);var k=e.dataUrltoBlob(j,a.name);f.resolve(k)}catch(l){return f.reject(l)}},i.onerror=function(){f.reject()},i.src=g},function(a){f.reject(a)})},function(a){f.reject(a)}),f.promise},e.restoreExif=function(a,b){var c={};return c.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c.encode64=function(a){var b,c,d,e,f,g="",h="",i="",j=0;do b=a[j++],c=a[j++],h=a[j++],d=b>>2,e=(3&b)<<4|c>>4,f=(15&c)<<2|h>>6,i=63&h,isNaN(c)?f=i=64:isNaN(h)&&(i=64),g=g+this.KEY_STR.charAt(d)+this.KEY_STR.charAt(e)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(i),b=c=h="",d=e=f=i="";while(j<a.length);return g},c.restore=function(a,b){a.match("data:image/jpeg;base64,")&&(a=a.replace("data:image/jpeg;base64,",""));var c=this.decode64(a),d=this.slice2Segments(c),e=this.exifManipulation(b,d);return"data:image/jpeg;base64,"+this.encode64(e)},c.exifManipulation=function(a,b){var c=this.getExifArray(b),d=this.insertExif(a,c);return new Uint8Array(d)},c.getExifArray=function(a){for(var b,c=0;c<a.length;c++)if(b=a[c],255===b[0]&225===b[1])return b;return[]},c.insertExif=function(a,b){var c=a.replace("data:image/jpeg;base64,",""),d=this.decode64(c),e=d.indexOf(255,3),f=d.slice(0,e),g=d.slice(e),h=f;return h=h.concat(b),h=h.concat(g)},c.slice2Segments=function(a){for(var b=0,c=[];;){if(255===a[b]&218===a[b+1])break;if(255===a[b]&216===a[b+1])b+=2;else{var d=256*a[b+2]+a[b+3],e=b+d+2,f=a.slice(b,e);c.push(f),b=e}if(b>a.length)break}return c},c.decode64=function(a){var b,c,d,e,f,g="",h="",i=0,j=[],k=/[^A-Za-z0-9\+\/\=]/g;k.exec(a)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do d=this.KEY_STR.indexOf(a.charAt(i++)),e=this.KEY_STR.indexOf(a.charAt(i++)),f=this.KEY_STR.indexOf(a.charAt(i++)),h=this.KEY_STR.indexOf(a.charAt(i++)),b=d<<2|e>>4,c=(15&e)<<4|f>>2,g=(3&f)<<6|h,j.push(b),64!==f&&j.push(c),64!==h&&j.push(g),b=c=g="",d=e=f=h="";while(i<a.length);return j},c.restore(a,b)},e}]);
/*! angular-fontselect v0.13.3 */
!function(a,b){"use strict";function c(a){return a.toLowerCase().replace(/[^a-z]+/g,"-")}function d(a){for(var b=a.replace("-"," ").split(" "),c=0,d=b.length;d>c;c++)b[c]=b[c].charAt(0).toUpperCase()+b[c].slice(1);return b.join(" ")}function e(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c}function f(a,b){for(var c=b;null!==c;){if(c===a)return!0;c=c.parentNode}return!1}function g(){for(var a=this,b=0,c=la.length;c>b;b++)a[la[b]]=arguments[b];return a._init(),a}var h=a.module("jdFontselect",[]),i="websafe",j="google",k={};k[i]=!0,k[j]=!0;var l="sansserif",m="serif",n="handwriting",o="display",p="other",q=10,r="Controller",s="jdFontselectFonts",t="jdFontselectEventClose",u="jdFontselectEventDoClose",v="jdFontselectEventOpen",w=[{name:"Arial",key:"arial",category:l,stack:'Arial, "Helvetica Neue", Helvetica, sans-serif',popularity:3,lastModified:"2014-01-28"},{name:"Consolas",key:"consolas",category:l,stack:'Consolas, "Lucida Console", Monaco, monospace',popularity:1,lastModified:"2014-02-04"},{name:"Courier New",key:"couriernew",category:m,stack:'"Courier New", Courier, "Lucida Sans Typewriter", "Lucida Typewriter", monospace',popularity:1,lastModified:"2014-01-28"},{name:"Georgia",key:"georgia",category:m,stack:'Georgia, Palatino, "Palatino Linotype", Times, "Times New Roman", serif',popularity:2,lastModified:"2014-02-04"},{name:"Helvetica",key:"helvetica",category:l,stack:'Helvetica, "Helvetica Neue", Arial, sans-serif',popularity:3,lastModified:"2014-02-04"},{name:"Impact",key:"impact",category:o,stack:'Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif',popularity:3,lastModified:"2014-02-04"},{name:"Lucida Sans",key:"lucidasans",category:l,stack:'"Lucida Sans", "Lucida Grande", "Lucida Sans Unicode", sans-serif',popularity:3,lastModified:"2014-02-04"},{name:"Palatino",key:"palatino",category:m,stack:'Palatino, "Palatino Linotype", Georgia, Times, "Times New Roman", serif',popularity:2,lastModified:"2014-02-04"},{name:"Tahoma",key:"tahoma",category:l,stack:"Tahoma, Verdana, Geneva, sans-serif",popularity:6,lastModified:"2014-02-04"},{name:"Trebuchet",key:"trebuchet",category:l,stack:'"Trebuchet MS", "Lucida Sans Unicode", "Lucida Grande", "Lucida Sans", Arial, sans-serif',popularity:6,lastModified:"2014-02-04"},{name:"Verdana",key:"verdana",category:l,stack:"Verdana, Geneva, sans-serif",popularity:6,lastModified:"2014-01-28"},{name:"Times New Roman",key:"timesnewroman",category:m,stack:'TimesNewRoman, "Times New Roman", Times, Baskerville, Georgia, serif',popularity:2,lastModified:"2014-01-28"},{name:"Brush Script",key:"brushscript",category:n,stack:'"Brush Script MT", cursive',popularity:5,lastModified:"2014-01-29"}],x={};x[l]={key:l,fallback:"sans-serif"},x[m]={key:m,fallback:"serif"},x[n]={key:n,fallback:"cursive"},x[o]={key:o,fallback:"fantasy"},x[p]={key:p,fallback:"sans-serif"};var y=[x[l],x[m],x[n],x[o],x[p]],z="next",A="prev",B=["name","key","stack"],C="get",D="https://www.googleapis.com/webfonts/v1/webfonts",E="https://fonts.googleapis.com/css",F="cyrillic",G="cyrillic-ext",H="greek",I="greek-ext",J="latin",K="latin-ext",L="vietnamese",M=[J,K,H,I,F,G,L],N=!1,O=["regular","400","300","500"],P=["light","100","200"],Q=["bold","600","700","800","900"],R=["italic","400italic","300italic","500italic"],S=["lightitalic","100italic","200italic"],T=["bolditalic","600italic","700italic","800italic","900italic"],U=O.concat(P,Q,R,S,T),V=27,W=38,X=40,Y=37,Z=39,$=30,_=[{key:"name",dir:!1},{key:"popularity",dir:!0},{key:"lastModified",dir:!0}],aa={sort:{attr:b,direction:!0},providers:k,category:b,font:b,search:"",subsets:{latin:!0}},ba={toggleOpenLabel:"open",toggleCloseLabel:"close",searchToggleLabel:"Search",search:"Search by Fontname",toggleSearchLabel:"Choose Font",providerLabel:"Providers",subsetLabel:"Subsets",styleLabel:"Categories",settingsLabel:"Settings",noResultsLabel:"No Fonts found.",pageLabel:"Page: ",fontFabel:"Fonts: ",closeButton:"Close",allFontsListHeadline:"All Fonts",curatedFontsListHeadline:"Curated Fonts",page:{prev:"▲",next:"▼"},provider:{websafe:"Websafe Fonts",google:"Google Fonts"},category:{serif:"Serif",sansserif:"Sans Serif",display:"Display",handwriting:"Handwriting",other:"Other"},subset:{cyrillic:"Cyrillic","cyrillic-ext":"Cyrillic Extended",greek:"Greek","greek-ext":"Greek Extended",latin:"Latin","latin-ext":"Latin Extended",vietnamese:"Vietnamese",devanagari:"Devanagari",khmer:"Khmer"},sort:{popularity:"Popularity",name:"Alphabet",lastModified:"Latest"},sortdir:{desc:"▼",asc:"▲"}};h.constant("jdFontselectConfig",{googleApiKey:window._jdFontselectGoogleApiKey||!1});var ca="HEADLINE",da="FONT",ea="TEXT",fa={};fa[n]=["Patrick Hand SC","Grand Hotel","Calligraffitti","Coming Soon","Crafty Girls","Homemade Apple","Just Another Hand","Montez","Permanent Marker","Rancho","Redressed","Rochester","Rock Salt","Satisfy","Schoolbell","Sunshiney","Walter Turncoat","Yellowtail","Aguafina Script","Aladin","Alex Brush","Allura","Amatic SC","Annie Use Your Telescope","Architects Daughter","Arizonia","Bad Script","Berkshire Swash","Bilbo","Bilbo Swash Caps","Bonbon","Butterfly Kids","Cedarville Cursive","Clicker Script","Condiment","Cookie","Courgette","Covered By Your Grace","Damion","Dancing Script","Dawning of a New Day","Delius","Delius Swash Caps","Delius Unicase","Devonshire","Dr Sugiyama","Eagle Lake","Engagement","Euphoria Script","Felipa","Fondamento","Give You Glory","Gloria Hallelujah","Gochi Hand","Great Vibes","Handlee","Herr Von Muellerhoff","Indie Flower","Italianno","Jim Nightshade","Julee","Just Me Again Down Here","Kaushan Script","Kristi","La Belle Aurore","League Script","Leckerli One","Loved by the King","Lovers Quarrel","Marck Script","Meddon","Meie Script","Merienda","Merienda One","Mervale Script","Miama","Miss Fajardose","Miss Saint Delafield","Molle","Monsieur La Doulaise","Mr Bedford","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Neucha","Niconne","Norican","Nothing You Could Do","Over the Rainbow","Pacifico","Parisienne","Patrick Hand","Pecita","Petit Formal Script","Pinyon Script","Princess Sofia","Quintessential","Qwigley","Reenie Beanie","Romanesco","Rouge Script","Ruge Boogie","Ruthie","Sacramento","Shadows Into Light","Shadows Into Light Two","Short Stack","Sofia","Stalemate","Sue Ellen Francisco","Swanky and Moo Moo","Tangerine","The Girl Next Door","Vibur","Waiting for the Sunrise","Yesteryear","Zeyada","Domine","Donegal One"],fa[l]=["Wendy One","Tauri","Sintony","Pathway Gothic One","Noto Sans","Monda","Merriweather Sans","Exo 2","Aclonica","Alef","Alegreya Sans","Alegreya Sans SC","Denk One","Droid Sans","Droid Sans Mono","Open Sans","Open Sans Condensed","Roboto","Roboto Condensed","Syncopate","ABeeZee","Abel","Acme","Actor","Advent Pro","Aldrich","Allerta","Allerta Stencil","Amaranth","Anaheim","Andika","Anonymous Pro","Antic","Anton","Archivo Black","Archivo Narrow","Arimo","Armata","Asap","Asul","Average Sans","Basic","Belleza","BenchNine","Bubbler One","Cabin","Cabin Condensed","Cagliostro","Candal","Cantarell","Cantora One","Capriola","Carme","Carrois Gothic","Carrois Gothic SC","Changa","Chau Philomene One","Chivo","Coda Caption","Convergence","Cousine","Cuprum","Days One","Didact Gothic","Doppio One","Dorsa","Dosis","Duru Sans","Economica","Electrolize","Englebert","Exo","Federo","Fjalla One","Francois One","Fresca","Gafata","Galdeano","Geo","Gudea","Hammersmith One","Hermeneus One","Homenaje","Imprima","Inconsolata","Inder","Istok Web","Jockey One","Josefin Sans","Josefin Sans Std Light","Julius Sans One","Jura","Karla","Kite One","Krona One","Lato","Lekton","Magra","Mako","Marmelad","Marvel","Maven Pro","Merge One","Metrophobic","Michroma","Molengo","Montserrat","Montserrat Alternates","Montserrat Subrayada","Mouse Memoirs","Muli","News Cycle","Nobile","Numans","Nunito","Orbitron","Orienta","Oswald","Oxygen","Oxygen Mono","Paytone One","Philosopher","Play","Pontano Sans","Port Lligat Sans","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","Puritan","Quantico","Quattrocento Sans","Questrial","Quicksand","Raleway","Rambla","Rationale","Ropa Sans","Rosario","Ruda","Ruluko","Rum Raisin","Russo One","Sansation","Scada","Seymour One","Shanti","Share Tech","Share Tech Mono","Signika","Signika Negative","Six Caps","Snippet","Source Code Pro","Source Sans Pro","Spinnaker","Strait","Strong","Telex","Tenor Sans","Terminal Dosis","Terminal Dosis Light","Text Me One","Titillium Web","Tuffy","Varela","Varela Round","Viga","Voltaire","Wire One","Yanone Kaffeesatz","Ubuntu","Ubuntu Condensed","Ubuntu Mono"],fa[o]=["Rubik One","Rubik Mono One","Vampiro One","Snowburst One","Purple Purse","New Rocker","Milonga","Margarine","Lily Script One","Kavoon","Hanalei","Hanalei Fill","Fruktur","Freckle Face","Elsie","Elsie Swash Caps","Cherry Cream Soda","Chewy","Creepster Caps","Crushed","Fontdiner Swanky","Irish Grover","Irish Growler","Kranky","Luckiest Guy","Maiden Orange","Mountains of Christmas","Slackey","Smokum","Special Elite","Unkempt","Abril Fatface","Akronim","Alfa Slab One","Allan","Almendra Display","Amarante","Arbutus","Asset","Astloch","Atomic Age","Aubrey","Audiowide","Autour One","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bangers","Baumans","Bevan","Bigelow Rules","Bigshot One","Black Ops One","Boogaloo","Bowlby One","Bowlby One SC","Bubblegum Sans","Buda","Butcherman","Butcherman Caps","Cabin Sketch","Caesar Dressing","Carter One","Ceviche One","Changa One","Chango","Chela One","Chelsea Market","Cherry Swash","Chicle","Cinzel Decorative","Clara","Coda","Codystar","Combo","Comfortaa","Concert One","Contrail One","Corben","Creepster","Croissant One","Diplomata","Diplomata SC","Dynalight","Eater","Eater Caps","Emblema One","Emilys Candy","Erica One","Ewert","Expletus Sans","Fascinate","Fascinate Inline","Faster One","Federant","Finger Paint","Flamenco","Flavors","Forum","Fredericka the Great","Fredoka One","Frijole","Fugaz One","Galindo","Geostar","Geostar Fill","Germania One","Glass Antiqua","Goblin One","Gorditas","Graduate","Gravitas One","Griffy","Gruppo","Happy Monkey","Henny Penny","Iceberg","Iceland","Jacques Francois Shadow","Jolly Lodger","Joti One","Keania One","Kelly Slab","Kenia","Knewave","Lancelot","Lemon","Lemon One","Life Savers","Lilita One","Limelight","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Love Ya Like A Sister","Macondo","Macondo Swash Caps","McLaren","MedievalSharp","Medula One","Megrim","Metal Mania","Metamorphous","Miltonian","Miltonian Tattoo","Miniver","Modern Antiqua","Monofett","Monoton","Mystery Quest","Nixie One","Nosifer","Nosifer Caps","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Offside","Oldenburg","Oleo Script","Oleo Script Swash Caps","Oregano","Original Surfer","Overlock","Overlock SC","Paprika","Passero One","Passion One","Patua One","Peralta","Piedra","Pirata One","Plaster","Playball","Poetsen One","Poiret One","Poller One","Pompiere","Press Start 2P","Prosto One","Racing Sans One","Raleway Dots","Rammetto One","Ranchers","Revalia","Ribeye","Ribeye Marrow","Righteous","Risque","Ruslan Display","Rye","Sail","Salsa","Sancreek","Sansita One","Sarina","Seaweed Script","Sevillana","Share","Shojumaru","Sigmar One","Simonetta","Sirin Stencil","Skranji","Smythe","Sniglet","Sofadi One","Sonsie One","Spicy Rice","Spirax","Squada One","Stalinist One","Stalin One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Supermercado One","Titan One","Trade Winds","Trochut","Tulpen One","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unlock","Vast Shadow","Voces","VT323","Wallpoet","Warnes","Wellfleet","Yeseva One"],fa[m]=["Roboto Slab","Noto Serif","Libre Baskerville","Gabriela","Fauna One","Droid Serif","jsMath cmbx10","jsMath cmex10","jsMath cmmi10","jsMath cmr10","jsMath cmsy10","jsMath cmti10","Ultra","Adamina","Alegreya","Alegreya SC","Alice","Alike","Alike Angular","Almendra","Almendra SC","Amethysta","Amiri","Andada","Andada SC","Antic Didone","Antic Slab","Arapey","Arbutus Slab","Artifika","Arvo","Average","Balthazar","Belgrano","Bentham","Bitter","Brawler","Bree Serif","Buenard","Cambo","Cantata One","Cardo","Caudex","Cinzel","Copse","Coustard","Crete Round","Crimson Text","Cutive","Cutive Mono","Della Respira","EB Garamond","Enriqueta","Esteban","Fanwood Text","Fenix","Fjord One","Gentium Basic","Gentium Book Basic","Gilda Display","Glegoo","Goudy Bookletter 1911","Habibi","Headland One","Holtwood One SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Inika","Italiana","Jacques Francois","Josefin Slab","Judson","Junge","Kameron","Kotta One","Kreon","Ledger","Linden Hill","Lora","Lusitana","Lustria","Marcellus","Marcellus SC","Marko One","Mate","Mate SC","Merriweather","Montaga","Neuton","Noticia Text","OFL Sorts Mill Goudy TT","Old Standard TT","Oranienbaum","Ovo","Petrona","Playfair Display","Playfair Display SC","Podkova","Poly","Port Lligat Slab","Prata","Prociono","PT Serif","PT Serif Caption","Quando","Quattrocento","Radley","Rokkitt","Rosarivo","Rufina","Sanchez","Sedan","Sedan SC","Sorts Mill Goudy","Stoke","Tienne","Tinos","Trocchi","Trykker","Unna","Vidaloka","Volkhov","Vollkorn"],fa[p]=["Angkor","Battambang","Bayon","Bokor","Chenla","Content","Dangrek","Fasthand","Freehand","GFS Didot","GFS Neohellenic","Hanuman","Kantumruy","Kdam Thmor","Khmer","Koulen","Metal","Moul","Moulpali","Nokora","Odor Mean Chey","Preahvihear","Siemreap","Suwannaphum","Taprom"],h.directive("jdFontselectCurrentHref",[s,function(a){return{templateUrl:"current-href.html",restrict:"A",replace:!0,controller:["$scope",function(b){b.urls=a.getImports()}]}}]),h.directive("jdFont",[s,function(a){return{scope:{font:"=",current:"="},templateUrl:"font.html",restrict:"E",replace:!0,controller:["$scope",function(b){a.load(b.font)}]}}]);var ga="jdFontlistEntry";h.directive(ga,function(){return{scope:{entry:"=",current:"="},restrict:"E",templateUrl:"fontlist-entry.html",replace:!0,link:function(a){a.isHeadline=a.entry.type===ca,a.isFont=a.entry.type===da,a.isText=a.entry.type===ea}}});var ha="jdFontlist",ia=ha+r;h.directive(ha,function(){return{scope:{id:"=fsid",fonts:"=",meta:"=",current:"=",text:"="},restrict:"E",templateUrl:"fontlist.html",replace:!0,controller:ia}}),h.controller(ia,["$scope","$rootScope","$filter",s,"$element","$document","jdfsCuratedFonts",function(c,d,e,g,h,i,j){function k(a){var b=L.current*L.size;return a>=b&&a<b+L.size}function l(a){function b(){return a.preventDefault(),!1}var d=a.keyCode;if(d===X)return c.keyfocus(z),b();if(d===W)return c.keyfocus(A),b();if("INPUT"!==document.activeElement.tagName||!document.activeElement.value){var e=L.size;return d===Z?(c.current.font||e++,c.keyfocus(z,e),b()):d===Y?(c.keyfocus(A,L.size),b()):void 0}}function m(b){var c=b.wheelDeltaY||b.wheelDelta||-1*b.deltaY;return isFinite(c)||a.isUndefined(b.originalEvent)||(c=m(b.originalEvent)),c}function n(a,b){var d=JSON.stringify(c.current.providers);return(b.forceNext||b.sortCache.providers!==d)&&(b.sortCache.providers=d,b.forceNext=!0,b.fontsInProviders=a.filter(function(a){return c.current.providers[a.provider]})),b.fontsInProviders}function o(a,b){var d=JSON.stringify(c.current.subsets);return(b.forceNext||b.sortCache.subsets!==d)&&(b.sortCache.subsets=d,b.forceNext=!0,b.fontsInSubsets=e("hasAllSubsets")(a,c.current.subsets)),b.fontsInSubsets}function p(a,b){var d=c.current.sort.attr.dir,f=c.current.sort.direction;return(b.forceNext||b.sortCache.sortattr!==c.current.sort.attr.key||b.sortCache.sortdir!==f)&&(b.sortCache.sortattr=c.current.sort.attr.key,b.sortCache.sortdir=f,b.forceNext=!0,b.sortedFonts=e("orderBy")(a,c.current.sort.attr.key,c.current.sort.direction?d:!d)),b.sortedFonts}function r(b,d){var f=c.current.category;return(d.forceNext||d.sortCache.category!==f)&&(d.sortCache.category=f,d.forceNext=!0,a.isUndefined(f)?d.categorizedFonts=b:d.categorizedFonts=e("filter")(b,{category:f},!0)),d.categorizedFonts}function s(a,d){var f=c.current.search||"",g=d.sortCache.search!==f;return(d.forceNext||g)&&(d.sortCache.search=f,d.forceNext=!0,g&&(c.current.category=b),f.length?d.searchedFonts=C(e("fuzzySearch")(a,{name:f}),f.toLowerCase()):d.searchedFonts=a),d.searchedFonts}function u(a,b){b.forceNext=b.sortCache.fontAmount!==a.length,b.sortCache.fontAmount=a.length;for(var c=[n,o,p,s,r],d=a,e=0,f=c.length;f>e;e++)d=c[e](d,b);return d}function w(a){return{type:da,content:a}}function x(a){return{type:ca,content:a}}function y(a){return{type:ea,content:a}}function B(b){return a.isNumber(b)?b:b===A?-1:1}function C(a,b){if(a.length>1){var c=new RegExp("["+b+"]+");a.sort(function(a,d){var e=a.name.toLowerCase(),f=d.name.toLowerCase(),g=e[0],h=f[0];if(g!==h){if(g===b[0])return-1;if(h===b[0])return 1}return e.replace(c,"").length<f.replace(c,"").length?-1:1})}return a}function D(){return G=L.count,a.isArray(c.fonts)?void(F.length&&(L.count=Math.ceil(F.length/L.size))):0}function E(){G!==L.count&&c.setCurrentPage(0)}var F=[],G=0,H=0,I={forceNext:!1,fontsInProviders:[],fontsInSubsets:[],sortedFonts:[],categorizedFonts:[],searchedFonts:[],sortCache:{search:c.current.search}},J=a.copy(I),K={size:q,count:0,current:0,currentAbs:0},L=c.page=c.meta.page=a.extend({},K,c.meta.page),M=c.meta.fonts={total:0,current:0};c.keyfocus=function(b,e){var f,g=-1,h=F.length;for(f=0;h>f;f++)if(F[f].content===c.current.font){g=f;break}var i=L.size*L.current,j=k(g);for(a.isUndefined(e)&&(e=1),g+=b===A?-e:e,!j&&F[g+i]&&(g+=i);F[g]&&F[g].type!==da;)g+=b===A?-1:1;F[g]&&(c.current.font=F[g].content,L.currentAbs=L.current=Math.floor(g/L.size),d.$digest())};var N=function(a){if(a.target&&f(h[0],a.target)){a.preventDefault(),a.stopPropagation();var b=1/L.size,d=m(a),e=Math.abs(d);if(e>1&&$>e){if(H+=d,Math.abs(H)<$)return;H=0}0!==d&&c.paginate(d>0?-b:b)!==!1&&c.$digest()}};c.$on(v,function(){i.on("keydown",l),i.on("wheel",N),i.on("mousewheel",N),i.on("DOMMouseScroll",N)}),c.$on(t,function(){i.off("keydown",l),i.off("wheel",N),i.off("mousewheel",N),i.off("DOMMouseScroll",N)}),c.setCurrentPage=function(a){L.currentAbs=L.current=a},c.paginate=function(b,d){d&&d.preventDefault&&d.preventDefault();var e=b;if(a.isNumber(b)){if(0===b)return!1;e=0>b?A:z}else b=B(e);return c.paginationButtonActive(e)?(L.current+b<0?L.currentAbs=L.current=0:(L.current+=b,L.currentAbs=Math.floor(L.current)),L.current):!1},c.paginationButtonActive=function(a){return D(),E(),a===z&&(L.current+1)*L.size<F.length||a===A&&L.current>0},c.getPages=function(){D();var a=new Array(L.count);return E(),a.length<=1?[]:a};var O=[],P=new WeakMap;c.getFontlistEntries=function(){var a=u(c.fonts||O,I);if(!P.has(a)){var b=[];if(0===a.length)b.push(y(c.text.noResultsLabel));else if(b=a.map(w),0!==j.length){var d=u(j,J);b=[x(c.text.curatedFontsListHeadline)].concat(d.map(w)).concat([x(c.text.allFontsListHeadline)]).concat(b)}M.total=c.fonts.length,M.current=a.length,F=b,P.set(a,b)}return P.get(a)}}]);var ja=1;h.directive("jdFontselect",[s,function(c){return{scope:{current:"=?state",stack:"=?",name:"=?",rawText:"@?text",text:"=?textObj",onInit:"&?",onOpen:"&?",onClose:"&?",onChange:"&?",idSuffix:"@?"},restrict:"E",templateUrl:"fontselect.html",replace:!0,controller:["$scope","$element","$timeout","$document","$rootScope",function(g,h,i,j,k){function l(b){var d,f;g.current=a.extend(a.copy(aa),b||{}),g.current.sort.attr||(g.current.sort.attr=_[0]),a.isObject(g.current.font)&&(g.stack=g.current.font.stack,g.name=g.current.font.name),d=c.getSubsets(),g.current.subsets=e(d)?d:c.setSubsets(g.current.subsets),f=c.getProviders(),g.current.providers=e(f)?f:c.setProviders(g.current.providers)}function m(a){g.active&&!f(h[0],a.target)&&(g.toggle(),k.$digest())}function n(a){g.active&&a.keyCode===V&&(g.toggle(),k.$digest())}function o(){j.on("click",m),j.on("keyup",n),g.$broadcast(v),a.isFunction(g.onOpen)&&g.onOpen({$scope:g})}function p(){j.off("keyup",n),j.off("click",m),g.$broadcast(t),a.isFunction(g.onClose)&&g.onClose({$scope:g})}if(g.fonts=c.getAllFonts(),g.id=ja++,g.suffixedId=g.idSuffix?g.idSuffix:g.id,g.stylesActive=!0,g.settingsActive=!1,g.active=!1,g.searching=!1,g.categories=c.getCategories(),g.sortAttrs=_,g.name="",g.meta={},a.isUndefined(g.stack)&&(g.stack=N),g.text=a.extend(a.copy(ba),g.text||{}),g.rawText&&(g.text=a.extend(g.text,g.$eval(g.rawText)||{})),g.$on(u,function(){g.active&&(g.toggle(),g.$apply())}),g.reverseSort=function(){var a=g.current.sort;a.direction=!a.direction},g.toggle=function(a){a&&a.preventDefault&&a.preventDefault(),g.active=!g.active,g.active?i(o):(g.searching=!1,p())},g.toggleSearch=function(a){a.preventDefault(),g.active||g.toggle(),g.searching=!g.searching,g.searching&&g.setFocus()},g.tryUnfocusSearch=function(){g.searching&&0===g.current.search.length&&(g.searching=!1)},g.resetSearch=function(a){a.preventDefault(),g.current.search="",g.searching&&g.setFocus()},g.toName=d,g.setFocus=function(){i(function(){h[0].querySelector(".jdfs-search").focus()})},g.setCategoryFilter=function(a,c){c&&c.preventDefault&&c.preventDefault();var d=g.current;d.category===a?d.category=b:d.category=a},g.reset=function(){l()},g._setSelected=function(b){a.isObject(b)?(g.name=b.name,g.stack=b.stack):(g.name="",g.stack=N)},g.toggleSettings=function(){g.settingsActive=!0,g.stylesActive=!1},g.toggleStyles=function(){g.stylesActive=!0,g.settingsActive=!1},g.$on("$destroy",p),c._initGoogleFonts(),a.isObject(g.current)&&l(g.current),g.stack.length)try{var q=c.getFontByStack(g.stack);c.updateUsage(q),c.load(q),l({font:q})}catch(r){c.getFontByStackAsync(g.stack,!1).then(function(b){a.isObject(b)&&l({font:b})})}a.isFunction(g.onInit)&&g.onInit({$scope:g}),g.$watch("current.font",function(b,d){a.isObject(g.current)||g.reset(),d!==b&&(g.tryUnfocusSearch(),a.isObject(g.current.font)&&(b=g.current.font),a.isObject(d)&&d.used&&c.updateUsage(d,!1),a.isObject(b)&&(c.updateUsage(b),c.load(b)),g._setSelected(b),c.updateImports(),a.isFunction(g.onChange)&&g.onChange({font:b}))}),g.$watch("current.subsets",function(a,b){a!==b&&c.updateImports()},!0),g.$watch("stack",function(a,b){var d;if(!(a===b||g.current.font&&a===g.current.font.stack))try{a&&a.length&&(d=c.getFontByStack(a,!1)),d?g.current.font=d:g.reset()}catch(e){g.reset()}})}]}}]);var ka="jdMeta";h.directive(ka,function(){return{restrict:"E",templateUrl:"meta.html",replace:!0}}),h.factory("jdfsWebFont",function(){var a={getFontLoader:function(){if("undefined"==typeof window.WebFont)throw new Error("WebFontLoader is not available.Please include angular-fontselect/dist/libs/webfontloader.js");return window.WebFont}};return a}),h.filter("fuzzySearch",function(){var b={teAmount:0,tePercent:.3};return function(c,d,e){function f(a){return new RegExp(a.replace(/./g,function(a){return"([^"+a+"]*?(?:"+a+"))?"}),"i")}if(!a.isArray(c)||a.isUndefined(d))return c;var g=!0,h=[];e=a.extend(b,e);var i=function(a,b,c){var d=(a.match(b)||[]).filter(function(a,b){return 0!==b&&a}),f=d.length+e.teAmount>=c,g=d.length/c>=1-e.tePercent;return f||g};if(a.isString(d)){var j=f(d);g=!1,a.forEach(c[0],function(a,b){"$"!==b.substring(0,1)&&h.push({key:b,search:j,length:d.length})})}else if(a.isObject(d)){var k=!1;if(a.forEach(d,function(b,c){a.isUndefined(b)||(k=!0,h.push({key:c,search:f(b),length:b.length}))}),!k)return c}return c=c.filter(function(a){for(var b=0,c=h.length;c>b;b++){var d=h[b],e=a[d.key]||"",f=i(e,d.search,d.length);if(g&&!f)return!1;if(f)return!0}return!1})}}),h.filter("hasAllSubsets",function(){return function(b,c){function d(b){var d=!0;return a.forEach(c,function(a,c){a&&d&&b.subsets.indexOf(c)<0&&(d=!1)}),d}return a.isArray(b)?b.filter(function(b){return a.isUndefined(b.subsets)?!0:a.isObject(b)&&d(b)}):b}}),h.filter("stackSearch",function(){function b(a){return""+a.length+a[0].key+a[a.length-1].key}function c(e,f){var g,h,i;if(!a.isArray(e)||!e.length)return e;if(!a.isString(f))return[];f=f.toLowerCase(),i=c.normalizeStack(f),g=b(e),h=d[g]?d[g]:d[g]=c.createWeightedFontList(e);for(var j=0,k=i.length;k>j;j++)if(h[i[j]])return h[i[j]].fonts;return[]}var d={};return c.normalizeStack=function(b){var c=[];return a.forEach(b.split(","),function(a){c.push(a.replace(/^[ '"]*|[ '"]*$/g,""))}),c},c.createWeightedFontList=function(a){var b={};return a.forEach(function(a){var d=c.normalizeStack(a.stack.toLowerCase());d.forEach(function(c,d){!b[c]||b[c].pos>d?b[c]={fonts:[a],pos:d}:b[c].pos===d&&b[c].fonts.push(a)})}),b},c}),h.filter("startFrom",function(){return function(b,c){return a.isArray(b)?b.slice(c):b}}),h.provider("jdfsCuratedFonts",function(){function b(b,c){return b.filter(function(a){return-1!==c.indexOf(a.provider+"."+a.key)}).map(function(b){return a.copy(b)})}var c=[];this.setCuratedFontKeys=function(a){c=a},this.$get=[s,function(a){return b(a.getAllFonts(),c)}]});var la=["$http","$q","jdFontselectConfig","$filter","jdfsWebFont"],ma=!1;g.$inject=la,g.prototype={_init:function(){var b=this;b._fonts=b._fonts||[],b._map={},b._subsets=a.copy(aa.subsets),b._providers=a.copy(aa.providers),b._imports={},b._usedProviders={},b._initPromises=[],b._asyncProviderQueue=[],b._fontInitiators={},b.registerProvider(j,a.bind(b,b._loadGoogleFont)),b.registerProvider(i,function(){}),b._addDefaultFonts()},getAllFonts:function(){return this._fonts},ready:function(b){var c=this.$q.all(this._initPromises);return a.isFunction(b)&&c.then(b),c},add:function(b,c){var d=this;if(a.isString(c)||(c=a.isString(b.provider)?b.provider:i),b.provider=c,b.stack+=', "'+c+'"',!d.isValidFontObject(b))throw"Invalid font object.";return a.isObject(d._map[c])||(d._map[c]={}),a.isArray(b.subsets)&&d.setSubsets(b.subsets),d._fonts.push(b),b},searchFonts:function(a){var b=this;return b.$filter("filter")(b._fonts,a)},searchFont:function(a){var b=this,c=b.searchFonts(a);return 1===c.length?c[0]:c.length>0?b._getBestFontForSearch(c,a):void 0},getFontByKey:function(a,b){var c=this;if(!b)throw"Provider is not set.";var d=c.searchFont({key:a,provider:b});if(!d)throw'Font "'+a+'" not found in "'+b+'".';return d},getFontByStack:function(a,b){b="boolean"==typeof b?b:!0;var c,d=this;if(b){var e=d.searchFont({stack:a});c=e?[e]:[]}else c=d.$filter("stackSearch")(d._fonts,a);if(!c.length)throw new Error('Font with stack "'+a+'" not found.');return c[0]},getFontByStackAsync:function(a,b){b="boolean"==typeof b?b:!0;var c=this,d=c.$q.defer(),e=null;return c.$q.all(c._asyncProviderQueue).then(function(){try{var f=c.getFontByStack(a,b);d.resolve(f)}catch(g){b?(d.reject(g),delete c._initPromises[e]):d.resolve()}},d.reject),e=c._initPromises.push(d.promise)-1,d.promise},getFontsByStacksAsync:function(b,c){c="boolean"==typeof c?c:!0;var d=this,e=[];a.forEach(b,function(a){e.push(d.getFontByStackAsync(a,c))});var f=d.$q.all(e);if(c)return f;var g=d.$q.defer();return f.then(function(b){var c=[];a.forEach(b,function(b){a.isObject(b)&&c.push(b)}),g.resolve(c)},g.reject),g.promise},removeFont:function(b,c){var d=this;if(a.isString(b)&&!c)throw"Provider is not set.";try{a.isString(b)&&(b=d.getFontByKey(b,c));var e=d._fonts.indexOf(b),f=0;return e>=0&&(f=d._fonts.splice(e,1).length),f}catch(g){return 0}},isValidFontObject:function(b){if(!a.isObject(b))return!1;var c=!0;return a.forEach(B,function(d){a.isUndefined(b[d])&&(c=!1)}),c},getCategories:function(){return y},getImports:function(){return this._imports},getImportsForStacks:function(b,c){var d=this,e=d.$q.defer();if(a.isArray(b)){var f=[];d.getFontsByStacksAsync(b,c).then(function(a){f=a})["finally"](function(){e.resolve(d.getUrlsFor(f))})}else e.reject(new Error("No stacks given"));return e.promise},getSubsets:function(){return this._subsets},getProviders:function(){return this._providers},getUsage:function(){return this._usedProviders},getUsageForStacks:function(b){var c=this,d=c.$filter("stackSearch").normalizeStack,e=c.getProviders(),f={};return a.isArray(b)?(a.forEach(b,function(b){if(b){var c=d(b),g=c[c.length-1];f[g]||a.isUndefined(e[g])||(f[g]=!0)}}),f):f},setSubsets:function(a,b){var c=this;return c._setSelects(c._subsets,a,c._setSelectOptions(b))},setProviders:function(a,b){var c=this;return c._setSelects(c._providers,a,c._setSelectOptions(b))},setImports:function(a,b){var c=this;return c._setSelects(c._imports,a,c._setSelectOptions(b,{update:!0}))},setUsage:function(a,b){var c=this;return c._setSelects(c._usedProviders,a,c._setSelectOptions(b,{update:!0}))},registerProvider:function(a,b){var c=this,d={};d[a]=!1,c.setProviders(d),c._usedProviders[a]=!1,c._fontInitiators[a]=b},_escapeRegExp:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},_getBestFontForSearch:function(b,c){var d=this;return b.sort(function(b,e){var f=0,g=0;return a.forEach(c,function(c,h){if(a.isString(c)){var i=new RegExp(d._escapeRegExp(c));if(i.test(b[h])&&i.test(e[h])){var j=b[h].replace(c,"").length,k=e[h].replace(c,"").length;return void(k>j?f++:j>k&&g++)}}b[h]===c&&f++,e[h]===c&&g++}),f>g?-1:g>f?1:0}),b[0]},_setSelectOptions:function(b,c){return"boolean"==typeof b&&(b={additive:b}),a.isObject(c)||(c={}),b=a.extend({additive:!0,update:!1},b,c)},_setSelects:function(b,c,d){if(a.isUndefined(c))return b;if(a.isObject(d)||(d=this._setSelectOptions(d)),a.isArray(c)){for(var e={},f=0,g=c.length;g>f;f++)e[c[f]]=!1;c=e}return d.additive||a.forEach(b,function(a,d){c[d]||delete b[d]}),a.forEach(c,function(c,e){(d.update||a.isUndefined(b[e]))&&(b[e]=c)}),b},updateImports:function(){this.setImports(this.getUrls())},load:function(a){a.loaded||(a.loaded=!0,this._fontInitiators[a.provider](a))},getUrls:function(){var a=this,b=a.getGoogleUrl(),c={};return b&&(c[j]=b),c},getUrlsFor:function(a){var b=this,c=b.$filter("filter")(a,{provider:j}),d=b.getGoogleUrlFor(c),e={};return d&&(e[j]=d),e},updateUsage:function(b,c){var d=this;(!a.isNumber(b.used)||b.used<0)&&(b.used=0),b.used+=c===!1?-1:1,d._updateProvicerUsage()},_updateProvicerUsage:function(){var b=this,c=b.$filter("filter"),d=b.getUsedFonts();a.forEach(b._providers,function(a,e){b._usedProviders[e]=!!c(d,{provider:e}).length})},getUsedFonts:function(){var a=this;return a.$filter("filter")(a._fonts,{used:!0},function(a){return!!a})},getGoogleUrl:function(){var a=this,b=a.$filter("filter")(a.getUsedFonts(),{provider:j});return a.getGoogleUrlFor(b)},getGoogleUrlFor:function(b){var c=this,d=[],e=E;if(b.length){for(var f,g=[],h=0,i=b.length;i>h;h++)f=b[h].variants?":"+c._getBestVariantOf(b[h].variants):"",g.push(b[h].name+f);return e+="?family="+window.escape(g.join("|")),a.forEach(c._subsets,function(a,b){a&&d.push(b)}),d.length&&(e+="&subset="+d.join(",")),e}return!1},_remap:function(b,c){var d=this,e=d._fonts[b];a.isNumber(c)||(c=0);for(var f=c,g=e.length;g>f;f++)d._map[b][e[f].key]=f},_getBestOf:function(a,b){for(var c=0,d=b.length;d>c;c++){var e=b[c];if(a.indexOf(e)>=0)return e}return a[0]},_getBestVariantOf:function(a){return this._getBestOf(a,U)},_getBestSubsetOf:function(a){return this._getBestOf(a,M)},_initGoogleFonts:function(b){var d=this;if(d.jdFontselectConfig.googleApiKey&&(b||!ma)){var e=d.jdFontselectConfig.googleApiUrl||D;ma=!0;var f=d.$q.defer();d._initPromises.push(f.promise),d._asyncProviderQueue.push(f.promise),d.$http({method:C,url:e,params:{sort:"popularity",key:d.jdFontselectConfig.googleApiKey}}).success(function(b){var e=b.items.length,g=e-1,h=[];a.forEach(b.items,function(a,b){var i=d._getGoogleFontCat(a.family);h.push(d.add({subsets:a.subsets,variants:a.variants,name:a.family,popularity:e-b,key:c(a.family),lastModified:a.lastModified,stack:'"'+a.family+'", '+i.fallback,category:i.key},j)),g===b&&f.resolve(h)})}).error(f.reject)}},_getGoogleFontCat:function(a){for(var b=this,c=b.getCategories(),d=0,e=c.length;e>d;d++){var f=c[d];if("undefined"!=typeof fa[f.key]&&fa[f.key].indexOf(a)>=0)return f}return x[p]},_addDefaultFonts:function(){var b=this;a.forEach(w,function(a){b.add(a)})},_loadGoogleFont:function(a){
var b=this;try{b.jdfsWebFont.getFontLoader().load({google:{families:[a.name+":"+b._getBestVariantOf(a.variants)],text:a.name,subsets:a.subsets,subset:b._getBestSubsetOf(a.subsets)}})}catch(c){b.removeFont(a,j)}}},h.service(s,g),a.module("jdFontselect").run(["$templateCache",function(a){a.put("current-href.html",'<link ng-href={{url}} ng-repeat="url in urls">'),a.put("font.html",'<label class=jdfs-fontlist-font ng-class="{\'jdfs-active jdfs-highlight\': current.font.name == font.name}" for=jdfs-{{id}}-font-{{font.key}} style="font-family: {{font.stack}}"><input type=radio ng-model=current.font ng-value=font name=jdfs-{{id}}-font id="jdfs-{{id}}-font-{{font.key}}"> {{font.name}}</label>'),a.put("fontlist-entry.html","<ng-switch on=entry.type><li ng-switch-when=FONT><jd-font current=current font=entry.content></jd-font></li><li ng-switch-when=HEADLINE class=jdfs-fontlist-headline>{{entry.content}}</li><li ng-switch-when=TEXT class=jdfs-fontlist-text>{{entry.content}}</li></ng-switch>"),a.put("fontlist.html",'<div class=jdfs-fontlistcon ng-class="{\'jdfs-active\': isActive()}"><button class="jdfs-fontpagination jdfs-fontpagination-prev" ng-click="paginate(\'prev\', $event)" ng-class="{\'jdfs-disabled\': !paginationButtonActive(\'prev\')}" ng-disabled="!paginationButtonActive(\'prev\')">{{text.page.prev}}</button><ul class=jdfs-fontlist><jd-fontlist-entry current=current entry=entry ng-repeat="entry in getFontlistEntries() | startFrom: page.current * page.size | limitTo: page.size"></jd-fontlist-entry></ul><button class="jdfs-fontpagination jdfs-fontpagination-next" ng-click="paginate(\'next\', $event)" ng-class="{\'jdfs-disabled\': !paginationButtonActive(\'next\')}" ng-disabled="!paginationButtonActive(\'next\')">{{text.page.next}}</button></div>'),a.put("fontselect.html",'<div class=jdfs-main id=jd-fontselect-{{suffixedId}}><button ng-click=toggleSearch($event) ng-class="{\'jdfs-highlight\': searching}" class=jdfs-search-indicator>{{text.searchToggleLabel}}</button> <button ng-click=toggleSearch($event) class=jdfs-toggle-search id=jd-fontselect-{{suffixedId}}-toggle-search ng-show=!searching><span class=jdfs-font-name style="font-family: {{current.font.stack}}">{{current.font.name || text.toggleSearchLabel}}</span></button> <input class=jdfs-search placeholder={{text.search}} name=jdfs-{{id}}-search ng-show=searching ng-model="current.search"> <button class=jdfs-reset-search ng-click=resetSearch($event) ng-show="searching && current.search.length > 0">x</button> <button class=jdfs-toggle ng-click=toggle($event) id=jd-fontselect-{{suffixedId}}-toggle ng-class="{\'jdfs-highlight\': active}">{{active ? text.toggleCloseLabel : text.toggleOpenLabel}}</button><div class=jdfs-window ng-if=active><jd-fontlist fsid=id text=text meta=meta current=current fonts=fonts></jd-fontlist><div class=jdfs-footer-con><a class="jdfs-footer-tab-toggle jdfs-styles-label" ng-click=toggleStyles() ng-class="{\'jdfs-footer-tab-open\': stylesActive}">{{text.styleLabel}}</a> <a class="jdfs-footer-tab-toggle jdfs-settings-label" ng-click=toggleSettings() ng-class="{\'jdfs-footer-tab-open\': settingsActive}">{{text.settingsLabel}}</a><div class=jdfs-footer><div class=jdfs-styles ng-show=stylesActive><button class="jdfs-filterbtn jdfs-fontstyle-{{category.key}}" ng-repeat="category in categories" ng-class="{\'jdfs-active jdfs-highlight\': category.key == current.category}" ng-click="setCategoryFilter(category.key, $event)" ng-model=current.category>{{text.category[category.key] || toName(category.key)}}</button></div><div class=jdfs-settings ng-show=settingsActive><div class=jdfs-provider-list><h4 class=jdfs-settings-headline>{{text.providerLabel}}</h4><div ng-repeat="(provider, active) in current.providers" class=jdfs-provider ng-class="{\'jdfs-active jdfs-highlight\': current.providers[provider]}"><input ng-model=current.providers[provider] type=checkbox id="jdfs-{{id}}-provider-{{provider}}"><label for=jdfs-{{id}}-provider-{{provider}}>{{text.provider[provider] || toName(provider)}}</label></div></div><div class=jdfs-subsets><h4 class=jdfs-settings-headline>{{text.subsetLabel}}</h4><div ng-repeat="(key, name) in current.subsets" class=jdfs-subset ng-class="{\'jdfs-active jdfs-highlight\': current.subsets[key]}"><input ng-model=current.subsets[key] type=checkbox id="jdfs-{{id}}-subset-{{key}}"><label for=jdfs-{{id}}-subset-{{key}}>{{text.subset[key] || toName(key)}}</label></div></div></div></div></div><jd-meta meta=meta></jd-meta><button ng-click=toggle($event) class=jdfs-close><span>{{text.closeButton}}</span></button></div></div>'),a.put("meta.html",'<div class=jdfs-meta><div class=jdfs-fontcount>{{text.fontFabel}} <span ng-if="meta.fonts.current == meta.fonts.total">{{meta.fonts.total}}</span> <span ng-if="meta.fonts.total && meta.fonts.current != meta.fonts.total">{{meta.fonts.current}}/{{meta.fonts.total}}</span> <span ng-if=!meta.fonts.total>…</span></div><div class=jdfs-pagecon>{{text.pageLabel}} <span class=jdfs-page-current>{{meta.page.currentAbs + 1}}</span>/<span class=jdfs-page-count>{{meta.page.count}}</span></div></div>')}])}(window.angular);
/*
 * Copyright 2013 Small Batch, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy of
 * the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */
;(function(window,document,undefined){
var j=void 0,k=!0,l=null,p=!1;function q(a){return function(){return this[a]}}var aa=this;function ba(a,b){var c=a.split("."),d=aa;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&b!==j?d[e]=b:d=d[e]?d[e]:d[e]={}}aa.Ba=k;function ca(a,b,c){return a.call.apply(a.bind,arguments)}
function da(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function s(a,b,c){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:da;return s.apply(l,arguments)}var ea=Date.now||function(){return+new Date};function fa(a,b){this.G=a;this.u=b||a;this.z=this.u.document;this.R=j}fa.prototype.createElement=function(a,b,c){a=this.z.createElement(a);if(b)for(var d in b)if(b.hasOwnProperty(d))if("style"==d){var e=a,f=b[d];ga(this)?e.setAttribute("style",f):e.style.cssText=f}else a.setAttribute(d,b[d]);c&&a.appendChild(this.z.createTextNode(c));return a};function t(a,b,c){a=a.z.getElementsByTagName(b)[0];a||(a=document.documentElement);a&&a.lastChild&&a.insertBefore(c,a.lastChild)}
function u(a,b){return a.createElement("link",{rel:"stylesheet",href:b})}function ha(a,b){return a.createElement("script",{src:b})}function v(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return;c.push(b);a.className=c.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function w(a,b){for(var c=a.className.split(/\s+/),d=[],e=0,f=c.length;e<f;e++)c[e]!=b&&d.push(c[e]);a.className=d.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}
function ia(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return k;return p}function ga(a){if(a.R===j){var b=a.z.createElement("p");b.innerHTML='<a style="top:1px;">w</a>';a.R=/top/.test(b.getElementsByTagName("a")[0].getAttribute("style"))}return a.R}function x(a){var b=a.u.location.protocol;"about:"==b&&(b=a.G.location.protocol);return"https:"==b?"https:":"http:"};function y(a,b,c){this.w=a;this.T=b;this.Aa=c}ba("webfont.BrowserInfo",y);y.prototype.qa=q("w");y.prototype.hasWebFontSupport=y.prototype.qa;y.prototype.ra=q("T");y.prototype.hasWebKitFallbackBug=y.prototype.ra;y.prototype.sa=q("Aa");y.prototype.hasWebKitMetricsBug=y.prototype.sa;function z(a,b,c,d){this.e=a!=l?a:l;this.o=b!=l?b:l;this.ba=c!=l?c:l;this.f=d!=l?d:l}var ja=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;z.prototype.toString=function(){return[this.e,this.o||"",this.ba||"",this.f||""].join("")};
function A(a){a=ja.exec(a);var b=l,c=l,d=l,e=l;a&&(a[1]!==l&&a[1]&&(b=parseInt(a[1],10)),a[2]!==l&&a[2]&&(c=parseInt(a[2],10)),a[3]!==l&&a[3]&&(d=parseInt(a[3],10)),a[4]!==l&&a[4]&&(e=/^[0-9]+$/.test(a[4])?parseInt(a[4],10):a[4]));return new z(b,c,d,e)};function B(a,b,c,d,e,f,g,h,n,m,r){this.J=a;this.Ha=b;this.za=c;this.ga=d;this.Fa=e;this.fa=f;this.xa=g;this.Ga=h;this.wa=n;this.ea=m;this.k=r}ba("webfont.UserAgent",B);B.prototype.getName=q("J");B.prototype.getName=B.prototype.getName;B.prototype.pa=q("za");B.prototype.getVersion=B.prototype.pa;B.prototype.la=q("ga");B.prototype.getEngine=B.prototype.la;B.prototype.ma=q("fa");B.prototype.getEngineVersion=B.prototype.ma;B.prototype.na=q("xa");B.prototype.getPlatform=B.prototype.na;B.prototype.oa=q("wa");
B.prototype.getPlatformVersion=B.prototype.oa;B.prototype.ka=q("ea");B.prototype.getDocumentMode=B.prototype.ka;B.prototype.ja=q("k");B.prototype.getBrowserInfo=B.prototype.ja;function C(a,b){this.a=a;this.H=b}var ka=new B("Unknown",new z,"Unknown","Unknown",new z,"Unknown","Unknown",new z,"Unknown",j,new y(p,p,p));
C.prototype.parse=function(){var a;if(-1!=this.a.indexOf("MSIE")){a=D(this);var b=E(this),c=A(b),d=F(this.a,/MSIE ([\d\w\.]+)/,1),e=A(d);a=new B("MSIE",e,d,"MSIE",e,d,a,c,b,G(this.H),new y("Windows"==a&&6<=e.e||"Windows Phone"==a&&8<=c.e,p,p))}else if(-1!=this.a.indexOf("Opera"))a:{a="Unknown";var b=F(this.a,/Presto\/([\d\w\.]+)/,1),c=A(b),d=E(this),e=A(d),f=G(this.H);c.e!==l?a="Presto":(-1!=this.a.indexOf("Gecko")&&(a="Gecko"),b=F(this.a,/rv:([^\)]+)/,1),c=A(b));if(-1!=this.a.indexOf("Opera Mini/")){var g=
F(this.a,/Opera Mini\/([\d\.]+)/,1),h=A(g);a=new B("OperaMini",h,g,a,c,b,D(this),e,d,f,new y(p,p,p))}else{if(-1!=this.a.indexOf("Version/")&&(g=F(this.a,/Version\/([\d\.]+)/,1),h=A(g),h.e!==l)){a=new B("Opera",h,g,a,c,b,D(this),e,d,f,new y(10<=h.e,p,p));break a}g=F(this.a,/Opera[\/ ]([\d\.]+)/,1);h=A(g);a=h.e!==l?new B("Opera",h,g,a,c,b,D(this),e,d,f,new y(10<=h.e,p,p)):new B("Opera",new z,"Unknown",a,c,b,D(this),e,d,f,new y(p,p,p))}}else if(/AppleWeb(K|k)it/.test(this.a)){a=D(this);var b=E(this),
c=A(b),d=F(this.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1),e=A(d),f="Unknown",g=new z,h="Unknown",n=p;-1!=this.a.indexOf("Chrome")||-1!=this.a.indexOf("CrMo")||-1!=this.a.indexOf("CriOS")?f="Chrome":/Silk\/\d/.test(this.a)?f="Silk":"BlackBerry"==a||"Android"==a?f="BuiltinBrowser":-1!=this.a.indexOf("Safari")?f="Safari":-1!=this.a.indexOf("AdobeAIR")&&(f="AdobeAIR");"BuiltinBrowser"==f?h="Unknown":"Silk"==f?h=F(this.a,/Silk\/([\d\._]+)/,1):"Chrome"==f?h=F(this.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=
this.a.indexOf("Version/")?h=F(this.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==f&&(h=F(this.a,/AdobeAIR\/([\d\.]+)/,1));g=A(h);n="AdobeAIR"==f?2<g.e||2==g.e&&5<=g.o:"BlackBerry"==a?10<=c.e:"Android"==a?2<c.e||2==c.e&&1<c.o:526<=e.e||525<=e.e&&13<=e.o;a=new B(f,g,h,"AppleWebKit",e,d,a,c,b,G(this.H),new y(n,536>e.e||536==e.e&&11>e.o,"iPhone"==a||"iPad"==a||"iPod"==a||"Macintosh"==a))}else-1!=this.a.indexOf("Gecko")?(a="Unknown",b=new z,c="Unknown",d=E(this),e=A(d),f=p,-1!=this.a.indexOf("Firefox")?(a=
"Firefox",c=F(this.a,/Firefox\/([\d\w\.]+)/,1),b=A(c),f=3<=b.e&&5<=b.o):-1!=this.a.indexOf("Mozilla")&&(a="Mozilla"),g=F(this.a,/rv:([^\)]+)/,1),h=A(g),f||(f=1<h.e||1==h.e&&9<h.o||1==h.e&&9==h.o&&2<=h.ba||g.match(/1\.9\.1b[123]/)!=l||g.match(/1\.9\.1\.[\d\.]+/)!=l),a=new B(a,b,c,"Gecko",h,g,D(this),e,d,G(this.H),new y(f,p,p))):a=ka;return a};
function D(a){var b=F(a.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);if(""!=b)return/BB\d{2}/.test(b)&&(b="BlackBerry"),b;a=F(a.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS)/,1);return""!=a?("Mac_PowerPC"==a&&(a="Macintosh"),a):"Unknown"}
function E(a){var b=F(a.a,/(OS X|Windows NT|Android) ([^;)]+)/,2);if(b||(b=F(a.a,/Windows Phone( OS)? ([^;)]+)/,2))||(b=F(a.a,/(iPhone )?OS ([\d_]+)/,2)))return b;if(b=F(a.a,/(?:Linux|CrOS) ([^;)]+)/,1))for(var b=b.split(/\s/),c=0;c<b.length;c+=1)if(/^[\d\._]+$/.test(b[c]))return b[c];return(a=F(a.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?a:"Unknown"}function F(a,b,c){return(a=a.match(b))&&a[c]?a[c]:""}function G(a){if(a.documentMode)return a.documentMode};function la(a){this.va=a||"-"}la.prototype.f=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\W_]+/g,"").toLowerCase());return b.join(this.va)};function H(a,b){this.J=a;this.U=4;this.K="n";var c=(b||"n4").match(/^([nio])([1-9])$/i);c&&(this.K=c[1],this.U=parseInt(c[2],10))}H.prototype.getName=q("J");function I(a){return a.K+a.U}function ma(a){var b=4,c="n",d=l;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function na(a,b,c){this.c=a;this.h=b;this.M=c;this.j="wf";this.g=new la("-")}function pa(a){v(a.h,a.g.f(a.j,"loading"));J(a,"loading")}function K(a){w(a.h,a.g.f(a.j,"loading"));ia(a.h,a.g.f(a.j,"active"))||v(a.h,a.g.f(a.j,"inactive"));J(a,"inactive")}function J(a,b,c){if(a.M[b])if(c)a.M[b](c.getName(),I(c));else a.M[b]()};function L(a,b){this.c=a;this.C=b;this.s=this.c.createElement("span",{"aria-hidden":"true"},this.C)}
function M(a,b){var c=a.s,d;d=[];for(var e=b.J.split(/,\s*/),f=0;f<e.length;f++){var g=e[f].replace(/['"]/g,"");-1==g.indexOf(" ")?d.push(g):d.push("'"+g+"'")}d=d.join(",");e="normal";f=b.U+"00";"o"===b.K?e="oblique":"i"===b.K&&(e="italic");d="position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+d+";"+("font-style:"+e+";font-weight:"+f+";");ga(a.c)?c.setAttribute("style",d):c.style.cssText=
d}function N(a){t(a.c,"body",a.s)}L.prototype.remove=function(){var a=this.s;a.parentNode&&a.parentNode.removeChild(a)};function qa(a,b,c,d,e,f,g,h){this.V=a;this.ta=b;this.c=c;this.q=d;this.C=h||"BESbswy";this.k=e;this.F={};this.S=f||5E3;this.Z=g||l;this.B=this.A=l;a=new L(this.c,this.C);N(a);for(var n in O)O.hasOwnProperty(n)&&(M(a,new H(O[n],I(this.q))),this.F[O[n]]=a.s.offsetWidth);a.remove()}var O={Ea:"serif",Da:"sans-serif",Ca:"monospace"};
qa.prototype.start=function(){this.A=new L(this.c,this.C);N(this.A);this.B=new L(this.c,this.C);N(this.B);this.ya=ea();M(this.A,new H(this.q.getName()+",serif",I(this.q)));M(this.B,new H(this.q.getName()+",sans-serif",I(this.q)));ra(this)};function sa(a,b,c){for(var d in O)if(O.hasOwnProperty(d)&&b===a.F[O[d]]&&c===a.F[O[d]])return k;return p}
function ra(a){var b=a.A.s.offsetWidth,c=a.B.s.offsetWidth;b===a.F.serif&&c===a.F["sans-serif"]||a.k.T&&sa(a,b,c)?ea()-a.ya>=a.S?a.k.T&&sa(a,b,c)&&(a.Z===l||a.Z.hasOwnProperty(a.q.getName()))?P(a,a.V):P(a,a.ta):setTimeout(s(function(){ra(this)},a),25):P(a,a.V)}function P(a,b){a.A.remove();a.B.remove();b(a.q)};function R(a,b,c,d){this.c=b;this.t=c;this.N=0;this.ca=this.Y=p;this.S=d;this.k=a.k}function ta(a,b,c,d,e){if(0===b.length&&e)K(a.t);else{a.N+=b.length;e&&(a.Y=e);for(e=0;e<b.length;e++){var f=b[e],g=c[f.getName()],h=a.t,n=f;v(h.h,h.g.f(h.j,n.getName(),I(n).toString(),"loading"));J(h,"fontloading",n);(new qa(s(a.ha,a),s(a.ia,a),a.c,f,a.k,a.S,d,g)).start()}}}
R.prototype.ha=function(a){var b=this.t;w(b.h,b.g.f(b.j,a.getName(),I(a).toString(),"loading"));w(b.h,b.g.f(b.j,a.getName(),I(a).toString(),"inactive"));v(b.h,b.g.f(b.j,a.getName(),I(a).toString(),"active"));J(b,"fontactive",a);this.ca=k;ua(this)};R.prototype.ia=function(a){var b=this.t;w(b.h,b.g.f(b.j,a.getName(),I(a).toString(),"loading"));ia(b.h,b.g.f(b.j,a.getName(),I(a).toString(),"active"))||v(b.h,b.g.f(b.j,a.getName(),I(a).toString(),"inactive"));J(b,"fontinactive",a);ua(this)};
function ua(a){0==--a.N&&a.Y&&(a.ca?(a=a.t,w(a.h,a.g.f(a.j,"loading")),w(a.h,a.g.f(a.j,"inactive")),v(a.h,a.g.f(a.j,"active")),J(a,"active")):K(a.t))};function S(a,b,c){this.G=a;this.W=b;this.a=c;this.O=this.P=0}function T(a,b){U.W.$[a]=b}S.prototype.load=function(a){var b=a.context||this.G;this.c=new fa(this.G,b);b=new na(this.c,b.document.documentElement,a);if(this.a.k.w){var c=this.W,d=this.c,e=[],f;for(f in a)if(a.hasOwnProperty(f)){var g=c.$[f];g&&e.push(g(a[f],d))}a=a.timeout;this.O=this.P=e.length;a=new R(this.a,this.c,b,a);f=0;for(c=e.length;f<c;f++)d=e[f],d.v(this.a,s(this.ua,this,d,b,a))}else K(b)};
S.prototype.ua=function(a,b,c,d){var e=this;d?a.load(function(a,d,h){var n=0==--e.P;n&&pa(b);setTimeout(function(){ta(c,a,d||{},h||l,n)},0)}):(a=0==--this.P,this.O--,a&&(0==this.O?K(b):pa(b)),ta(c,[],{},l,a))};var va=window,wa=(new C(navigator.userAgent,document)).parse(),U=va.WebFont=new S(window,new function(){this.$={}},wa);U.load=U.load;function V(a,b){this.c=a;this.d=b}V.prototype.load=function(a){var b,c,d=this.d.urls||[],e=this.d.families||[];b=0;for(c=d.length;b<c;b++)t(this.c,"head",u(this.c,d[b]));d=[];b=0;for(c=e.length;b<c;b++){var f=e[b].split(":");if(f[1])for(var g=f[1].split(","),h=0;h<g.length;h+=1)d.push(new H(f[0],g[h]));else d.push(new H(f[0]))}a(d)};V.prototype.v=function(a,b){return b(a.k.w)};T("custom",function(a,b){return new V(b,a)});function W(a,b){this.c=a;this.d=b}var xa={regular:"n4",bold:"n7",italic:"i4",bolditalic:"i7",r:"n4",b:"n7",i:"i4",bi:"i7"};W.prototype.v=function(a,b){return b(a.k.w)};W.prototype.load=function(a){t(this.c,"head",u(this.c,x(this.c)+"//webfonts.fontslive.com/css/"+this.d.key+".css"));for(var b=this.d.families,c=[],d=0,e=b.length;d<e;d++)c.push.apply(c,ya(b[d]));a(c)};
function ya(a){var b=a.split(":");a=b[0];if(b[1]){for(var c=b[1].split(","),b=[],d=0,e=c.length;d<e;d++){var f=c[d];if(f){var g=xa[f];b.push(g?g:f)}}c=[];for(d=0;d<b.length;d+=1)c.push(new H(a,b[d]));return c}return[new H(a)]}T("ascender",function(a,b){return new W(b,a)});function X(a,b,c){this.a=a;this.c=b;this.d=c;this.m=[]}
X.prototype.v=function(a,b){var c=this,d=c.d.projectId,e=c.d.version;if(d){var f=c.c.u,g=c.c.createElement("script");g.id="__MonotypeAPIScript__"+d;var h=p;g.onload=g.onreadystatechange=function(){if(!h&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)){h=k;if(f["__mti_fntLst"+d]){var e=f["__mti_fntLst"+d]();if(e)for(var m=0;m<e.length;m++)c.m.push(new H(e[m].fontfamily))}b(a.k.w);g.onload=g.onreadystatechange=l}};g.src=c.D(d,e);t(this.c,"head",g)}else b(k)};
X.prototype.D=function(a,b){var c=x(this.c),d=(this.d.api||"fast.fonts.com/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return c+"//"+d+"/"+a+".js"+(b?"?v="+b:"")};X.prototype.load=function(a){a(this.m)};T("monotype",function(a,b){var c=(new C(navigator.userAgent,document)).parse();return new X(c,b,a)});function Y(a,b){this.c=a;this.d=b;this.m=[]}Y.prototype.D=function(a){var b=x(this.c);return(this.d.api||b+"//use.typekit.net")+"/"+a+".js"};
Y.prototype.v=function(a,b){var c=this.d.id,d=this.d,e=this.c.u,f=this;c?(e.__webfonttypekitmodule__||(e.__webfonttypekitmodule__={}),e.__webfonttypekitmodule__[c]=function(c){c(a,d,function(a,c,d){for(var e=0;e<c.length;e+=1){var g=d[c[e]];if(g)for(var Q=0;Q<g.length;Q+=1)f.m.push(new H(c[e],g[Q]));else f.m.push(new H(c[e]))}b(a)})},c=ha(this.c,this.D(c)),t(this.c,"head",c)):b(k)};Y.prototype.load=function(a){a(this.m)};T("typekit",function(a,b){return new Y(b,a)});function za(a,b,c){this.L=a?a:b+Aa;this.p=[];this.Q=[];this.da=c||""}var Aa="//fonts.googleapis.com/css";za.prototype.f=function(){if(0==this.p.length)throw Error("No fonts to load !");if(-1!=this.L.indexOf("kit="))return this.L;for(var a=this.p.length,b=[],c=0;c<a;c++)b.push(this.p[c].replace(/ /g,"+"));a=this.L+"?family="+b.join("%7C");0<this.Q.length&&(a+="&subset="+this.Q.join(","));0<this.da.length&&(a+="&text="+encodeURIComponent(this.da));return a};function Ba(a){this.p=a;this.aa=[];this.I={}}
var Ca={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},Da={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Ea={i:"i",italic:"i",n:"n",normal:"n"},Fa=RegExp("^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$");
Ba.prototype.parse=function(){for(var a=this.p.length,b=0;b<a;b++){var c=this.p[b].split(":"),d=c[0].replace(/\+/g," "),e=["n4"];if(2<=c.length){var f;var g=c[1];f=[];if(g)for(var g=g.split(","),h=g.length,n=0;n<h;n++){var m;m=g[n];if(m.match(/^[\w]+$/)){m=Fa.exec(m.toLowerCase());var r=j;if(m==l)r="";else{r=j;r=m[1];if(r==l||""==r)r="4";else var oa=Da[r],r=oa?oa:isNaN(r)?"4":r.substr(0,1);r=[m[2]==l||""==m[2]?"n":Ea[m[2]],r].join("")}m=r}else m="";m&&f.push(m)}0<f.length&&(e=f);3==c.length&&(c=c[2],
f=[],c=!c?f:c.split(","),0<c.length&&(c=Ca[c[0]])&&(this.I[d]=c))}this.I[d]||(c=Ca[d])&&(this.I[d]=c);for(c=0;c<e.length;c+=1)this.aa.push(new H(d,e[c]))}};function Z(a,b,c){this.a=a;this.c=b;this.d=c}var Ga={Arimo:k,Cousine:k,Tinos:k};Z.prototype.v=function(a,b){b(a.k.w)};Z.prototype.load=function(a){var b=this.c;if("MSIE"==this.a.getName()&&this.d.blocking!=k){var c=s(this.X,this,a),d=function(){b.z.body?c():setTimeout(d,0)};d()}else this.X(a)};
Z.prototype.X=function(a){for(var b=this.c,c=new za(this.d.api,x(b),this.d.text),d=this.d.families,e=d.length,f=0;f<e;f++){var g=d[f].split(":");3==g.length&&c.Q.push(g.pop());var h="";2==g.length&&""!=g[1]&&(h=":");c.p.push(g.join(h))}d=new Ba(d);d.parse();t(b,"head",u(b,c.f()));a(d.aa,d.I,Ga)};T("google",function(a,b){var c=(new C(navigator.userAgent,document)).parse();return new Z(c,b,a)});function $(a,b){this.c=a;this.d=b;this.m=[]}$.prototype.D=function(a){return x(this.c)+(this.d.api||"//f.fontdeck.com/s/css/js/")+(this.c.u.location.hostname||this.c.G.location.hostname)+"/"+a+".js"};
$.prototype.v=function(a,b){var c=this.d.id,d=this.c.u,e=this;c?(d.__webfontfontdeckmodule__||(d.__webfontfontdeckmodule__={}),d.__webfontfontdeckmodule__[c]=function(a,c){for(var d=0,n=c.fonts.length;d<n;++d){var m=c.fonts[d];e.m.push(new H(m.name,ma("font-weight:"+m.weight+";font-style:"+m.style)))}b(a)},c=ha(this.c,this.D(c)),t(this.c,"head",c)):b(k)};$.prototype.load=function(a){a(this.m)};T("fontdeck",function(a,b){return new $(b,a)});window.WebFontConfig&&U.load(window.WebFontConfig);
})(this,document);

(function(angular) {
	
	var mod = angular.module('webfont-loader', []);

	mod.directive('webfontLoader', ['$rootScope', '$window', 
		function($rootScope, $window) {
		    return {
		    	link: function(scope, elem, attrs) {

					//  scope.$watch("webfontLoader",function(newValue,oldValue) {
                    //   
					// 	alert("Value Changed");
                    // });

		    		function onActive() {
		    			$rootScope.$broadcast('webfontLoader.loaded');
		    		}

		    		function onInactive() {
		    			$rootScope.$broadcast('webfontLoader.error');
		    		}

			    	$window.WebFont.load({
					    google: {
					      families: [attrs.webfontLoader]
					    },
					    active: onActive,
		    			inactive: onInactive
					});
				}
		    }
		}
	]);
}(angular));

/* Web Font Loader v1.5.8 - (c) Adobe Systems, Google. License: Apache 2.0 */
;(function(window,document,undefined){var k=this;function m(a,b){var c=a.split("."),d=k;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function aa(a,b,c){return a.call.apply(a.bind,arguments)}
function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function n(a,b,c){n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return n.apply(null,arguments)}var q=Date.now||function(){return+new Date};function s(a,b){this.K=a;this.v=b||a;this.F=this.v.document}s.prototype.createElement=function(a,b,c){a=this.F.createElement(a);if(b)for(var d in b)b.hasOwnProperty(d)&&("style"==d?a.style.cssText=b[d]:a.setAttribute(d,b[d]));c&&a.appendChild(this.F.createTextNode(c));return a};function t(a,b,c){a=a.F.getElementsByTagName(b)[0];a||(a=document.documentElement);a&&a.lastChild&&a.insertBefore(c,a.lastChild)}function ca(a,b){function c(){a.F.body?b():setTimeout(c,0)}c()}
function u(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function v(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}
function w(a){var b=a.v.location.protocol;"about:"==b&&(b=a.K.location.protocol);return"https:"==b?"https:":"http:"}function x(a,b){var c=a.createElement("link",{rel:"stylesheet",href:b}),d=!1;c.onload=function(){d||(d=!0)};c.onerror=function(){d||(d=!0)};t(a,"head",c)}
function y(a,b,c,d){var e=a.F.getElementsByTagName("head")[0];if(e){var f=a.createElement("script",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,"HEAD"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);window.setTimeout(function(){g||(g=!0,c&&c(Error("Script load timeout")))},d||5E3);return f}return null};function z(a,b,c,d){this.R=a;this.Z=b;this.Da=c;this.ba=d}m("webfont.BrowserInfo",z);z.prototype.ta=function(){return this.R};z.prototype.hasWebFontSupport=z.prototype.ta;z.prototype.ua=function(){return this.Z};z.prototype.hasWebKitFallbackBug=z.prototype.ua;z.prototype.va=function(){return this.Da};z.prototype.hasWebKitMetricsBug=z.prototype.va;z.prototype.sa=function(){return this.ba};z.prototype.hasNativeFontLoading=z.prototype.sa;function A(a,b,c,d){this.d=null!=a?a:null;this.g=null!=b?b:null;this.C=null!=c?c:null;this.f=null!=d?d:null}var da=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;A.prototype.compare=function(a){return this.d>a.d||this.d===a.d&&this.g>a.g||this.d===a.d&&this.g===a.g&&this.C>a.C?1:this.d<a.d||this.d===a.d&&this.g<a.g||this.d===a.d&&this.g===a.g&&this.C<a.C?-1:0};A.prototype.toString=function(){return[this.d,this.g||"",this.C||"",this.f||""].join("")};
function B(a){a=da.exec(a);var b=null,c=null,d=null,e=null;a&&(null!==a[1]&&a[1]&&(b=parseInt(a[1],10)),null!==a[2]&&a[2]&&(c=parseInt(a[2],10)),null!==a[3]&&a[3]&&(d=parseInt(a[3],10)),null!==a[4]&&a[4]&&(e=/^[0-9]+$/.test(a[4])?parseInt(a[4],10):a[4]));return new A(b,c,d,e)};function C(a,b,c,d,e,f,g,h,l,p,r){this.L=a;this.Ca=c;this.ka=d;this.ja=f;this.za=g;this.ya=l;this.ia=p;this.m=r}m("webfont.UserAgent",C);C.prototype.getName=function(){return this.L};C.prototype.getName=C.prototype.getName;C.prototype.ra=function(){return this.Ca};C.prototype.getVersion=C.prototype.ra;C.prototype.na=function(){return this.ka};C.prototype.getEngine=C.prototype.na;C.prototype.oa=function(){return this.ja};C.prototype.getEngineVersion=C.prototype.oa;C.prototype.pa=function(){return this.za};
C.prototype.getPlatform=C.prototype.pa;C.prototype.qa=function(){return this.ya};C.prototype.getPlatformVersion=C.prototype.qa;C.prototype.ma=function(){return this.ia};C.prototype.getDocumentMode=C.prototype.ma;C.prototype.la=function(){return this.m};C.prototype.getBrowserInfo=C.prototype.la;function D(a,b){this.a=a;this.o=b}var ea=new C("Unknown",0,"Unknown","Unknown",0,"Unknown","Unknown",0,"Unknown",void 0,new z(!1,!1,!1,!1));
D.prototype.parse=function(){var a;if(-1!=this.a.indexOf("MSIE")||-1!=this.a.indexOf("Trident/")){a=E(this);var b=F(this),c=B(b),d=null,e=null,f=null,g=G(this.a,/Trident\/([\d\w\.]+)/,1),h=H(this.o),d=-1!=this.a.indexOf("MSIE")?G(this.a,/MSIE ([\d\w\.]+)/,1):G(this.a,/rv:([\d\w\.]+)/,1),e=B(d);""!=g?(f="Trident",B(g)):g=f="Unknown";a=new C("MSIE",0,d,f,0,g,a,0,b,h,new z("Windows"==a&&6<=e.d||"Windows Phone"==a&&8<=c.d,!1,!1,!!this.o.fonts))}else if(-1!=this.a.indexOf("Opera"))a:if(a="Unknown",b=G(this.a,
/Presto\/([\d\w\.]+)/,1),e=B(b),c=F(this),B(c),d=H(this.o),null!==e.d?a="Presto":(-1!=this.a.indexOf("Gecko")&&(a="Gecko"),b=G(this.a,/rv:([^\)]+)/,1),B(b)),-1!=this.a.indexOf("Opera Mini/"))e=G(this.a,/Opera Mini\/([\d\.]+)/,1),f=B(e),a=new C("OperaMini",0,e,a,0,b,E(this),0,c,d,new z(!1,!1,!1,!!this.o.fonts));else{if(-1!=this.a.indexOf("Version/")&&(e=G(this.a,/Version\/([\d\.]+)/,1),f=B(e),null!==f.d)){a=new C("Opera",0,e,a,0,b,E(this),0,c,d,new z(10<=f.d,!1,!1,!!this.o.fonts));break a}e=G(this.a,
/Opera[\/ ]([\d\.]+)/,1);f=B(e);a=null!==f.d?new C("Opera",0,e,a,0,b,E(this),0,c,d,new z(10<=f.d,!1,!1,!!this.o.fonts)):new C("Opera",0,"Unknown",a,0,b,E(this),0,c,d,new z(!1,!1,!1,!!this.o.fonts))}else/OPR\/[\d.]+/.test(this.a)?a=I(this):/AppleWeb(K|k)it/.test(this.a)?a=I(this):-1!=this.a.indexOf("Gecko")?(a="Unknown",d=new A,b="Unknown",c=F(this),B(c),d=!1,-1!=this.a.indexOf("Firefox")?(a="Firefox",b=G(this.a,/Firefox\/([\d\w\.]+)/,1),d=B(b),d=3<=d.d&&5<=d.g):-1!=this.a.indexOf("Mozilla")&&(a="Mozilla"),
e=G(this.a,/rv:([^\)]+)/,1),f=B(e),d||(d=1<f.d||1==f.d&&9<f.g||1==f.d&&9==f.g&&2<=f.C||null!=e.match(/1\.9\.1b[123]/)||null!=e.match(/1\.9\.1\.[\d\.]+/)),a=new C(a,0,b,"Gecko",0,e,E(this),0,c,H(this.o),new z(d,!1,!1,!!this.o.fonts))):a=ea;return a};
function E(a){var b=G(a.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);if(""!=b)return/BB\d{2}/.test(b)&&(b="BlackBerry"),b;a=G(a.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS|PlayStation|CrKey)/,1);return""!=a?("Mac_PowerPC"==a?a="Macintosh":"PlayStation"==a&&(a="Linux"),a):"Unknown"}
function F(a){var b=G(a.a,/(OS X|Windows NT|Android) ([^;)]+)/,2);if(b||(b=G(a.a,/Windows Phone( OS)? ([^;)]+)/,2))||(b=G(a.a,/(iPhone )?OS ([\d_]+)/,2)))return b;if(b=G(a.a,/(?:Linux|CrOS|CrKey) ([^;)]+)/,1))for(var b=b.split(/\s/),c=0;c<b.length;c+=1)if(/^[\d\._]+$/.test(b[c]))return b[c];return(a=G(a.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?a:"Unknown"}
function I(a){var b=E(a),c=F(a),d=B(c),e=G(a.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1),f=B(e),g="Unknown",h=new A,l="Unknown",h=!1;/OPR\/[\d.]+/.test(a.a)?g="Opera":-1!=a.a.indexOf("Chrome")||-1!=a.a.indexOf("CrMo")||-1!=a.a.indexOf("CriOS")?g="Chrome":/Silk\/\d/.test(a.a)?g="Silk":"BlackBerry"==b||"Android"==b?g="BuiltinBrowser":-1!=a.a.indexOf("PhantomJS")?g="PhantomJS":-1!=a.a.indexOf("Safari")?g="Safari":-1!=a.a.indexOf("AdobeAIR")?g="AdobeAIR":-1!=a.a.indexOf("PlayStation")&&(g="BuiltinBrowser");
"BuiltinBrowser"==g?l="Unknown":"Silk"==g?l=G(a.a,/Silk\/([\d\._]+)/,1):"Chrome"==g?l=G(a.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=a.a.indexOf("Version/")?l=G(a.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==g?l=G(a.a,/AdobeAIR\/([\d\.]+)/,1):"Opera"==g?l=G(a.a,/OPR\/([\d.]+)/,1):"PhantomJS"==g&&(l=G(a.a,/PhantomJS\/([\d.]+)/,1));h=B(l);h="AdobeAIR"==g?2<h.d||2==h.d&&5<=h.g:"BlackBerry"==b?10<=d.d:"Android"==b?2<d.d||2==d.d&&1<d.g:526<=f.d||525<=f.d&&13<=f.g;return new C(g,0,l,"AppleWebKit",0,e,b,0,c,H(a.o),
new z(h,536>f.d||536==f.d&&11>f.g,"iPhone"==b||"iPad"==b||"iPod"==b||"Macintosh"==b,!!a.o.fonts))}function G(a,b,c){return(a=a.match(b))&&a[c]?a[c]:""}function H(a){if(a.documentMode)return a.documentMode};function fa(a){this.xa=a||"-"}fa.prototype.f=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\W_]+/g,"").toLowerCase());return b.join(this.xa)};function K(a,b){this.L=a;this.S=4;this.Q="n";var c=(b||"n4").match(/^([nio])([1-9])$/i);c&&(this.Q=c[1],this.S=parseInt(c[2],10))}K.prototype.getName=function(){return this.L};function ga(a){return ha(a)+" "+(a.S+"00")+" 300px "+ia(a.L)}function ia(a){var b=[];a=a.split(/,\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['"]/g,"");-1==d.indexOf(" ")?b.push(d):b.push("'"+d+"'")}return b.join(",")}function L(a){return a.Q+a.S}
function ha(a){var b="normal";"o"===a.Q?b="oblique":"i"===a.Q&&(b="italic");return b}function ja(a){var b=4,c="n",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ka(a,b,c){this.c=a;this.s=b;this.U=c;this.j="wf";this.h=new fa("-")}function M(a){var b=v(a.s,a.h.f(a.j,"active")),c=[],d=[a.h.f(a.j,"loading")];b||c.push(a.h.f(a.j,"inactive"));u(a.s,c,d);N(a,"inactive")}function N(a,b,c){if(a.U[b])if(c)a.U[b](c.getName(),L(c));else a.U[b]()};function la(){this.B={}};function O(a,b){this.c=a;this.u=b;this.q=this.c.createElement("span",{"aria-hidden":"true"},this.u)}function P(a){t(a.c,"body",a.q)}function Q(a){return"display:block;position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+ia(a.L)+";"+("font-style:"+ha(a)+";font-weight:"+(a.S+"00")+";")}O.prototype.remove=function(){var a=this.q;a.parentNode&&a.parentNode.removeChild(a)};function na(a,b,c,d,e,f){this.N=a;this.P=b;this.k=d;this.c=c;this.D=e||3E3;this.u=f||void 0}na.prototype.start=function(){var a=this.c.v.document,b=this;Promise.race([new Promise(function(a,d){k.setTimeout(function(){d(b.k)},b.D)}),a.fonts.load(ga(this.k),this.u)]).then(function(a){1===a.length?b.N(b.k):b.P(b.k)},function(){b.P(b.k)})};function oa(a,b,c,d,e,f,g,h){this.N=a;this.P=b;this.c=c;this.k=d;this.u=h||"BESbswy";this.m=e;this.J={};this.D=f||3E3;this.ea=g||null;this.H=this.G=null;a=new O(this.c,this.u);P(a);for(var l in R)R.hasOwnProperty(l)&&(b=new K(R[l],L(this.k)),b=Q(b),a.q.style.cssText=b,this.J[R[l]]=a.q.offsetWidth);a.remove()}var R={Ga:"serif",Fa:"sans-serif",Ea:"monospace"};
oa.prototype.start=function(){this.G=new O(this.c,this.u);P(this.G);this.H=new O(this.c,this.u);P(this.H);this.Aa=q();var a=new K(this.k.getName()+",serif",L(this.k)),a=Q(a);this.G.q.style.cssText=a;a=new K(this.k.getName()+",sans-serif",L(this.k));a=Q(a);this.H.q.style.cssText=a;pa(this)};function qa(a,b,c){for(var d in R)if(R.hasOwnProperty(d)&&b===a.J[R[d]]&&c===a.J[R[d]])return!0;return!1}
function pa(a){var b=a.G.q.offsetWidth,c=a.H.q.offsetWidth;b===a.J.serif&&c===a.J["sans-serif"]||a.m.Z&&qa(a,b,c)?q()-a.Aa>=a.D?a.m.Z&&qa(a,b,c)&&(null===a.ea||a.ea.hasOwnProperty(a.k.getName()))?S(a,a.N):S(a,a.P):ra(a):S(a,a.N)}function ra(a){setTimeout(n(function(){pa(this)},a),25)}function S(a,b){a.G.remove();a.H.remove();b(a.k)};function T(a,b,c,d){this.c=b;this.w=c;this.V=0;this.ga=this.da=!1;this.D=d;this.m=a.m}function sa(a,b,c,d,e){if(0===b.length&&e)M(a.w);else for(a.V+=b.length,e&&(a.da=e),e=0;e<b.length;e++){var f=b[e],g=c[f.getName()],h=a.w,l=f;u(h.s,[h.h.f(h.j,l.getName(),L(l).toString(),"loading")]);N(h,"fontloading",l);h=null;h=a.m.ba?new na(n(a.$,a),n(a.aa,a),a.c,f,a.D,g):new oa(n(a.$,a),n(a.aa,a),a.c,f,a.m,a.D,d,g);h.start()}}
T.prototype.$=function(a){var b=this.w;u(b.s,[b.h.f(b.j,a.getName(),L(a).toString(),"active")],[b.h.f(b.j,a.getName(),L(a).toString(),"loading"),b.h.f(b.j,a.getName(),L(a).toString(),"inactive")]);N(b,"fontactive",a);this.ga=!0;ta(this)};T.prototype.aa=function(a){var b=this.w,c=v(b.s,b.h.f(b.j,a.getName(),L(a).toString(),"active")),d=[],e=[b.h.f(b.j,a.getName(),L(a).toString(),"loading")];c||d.push(b.h.f(b.j,a.getName(),L(a).toString(),"inactive"));u(b.s,d,e);N(b,"fontinactive",a);ta(this)};
function ta(a){0==--a.V&&a.da&&(a.ga?(a=a.w,u(a.s,[a.h.f(a.j,"active")],[a.h.f(a.j,"loading"),a.h.f(a.j,"inactive")]),N(a,"active")):M(a.w))};function U(a){this.K=a;this.A=new la;this.Ba=new D(a.navigator.userAgent,a.document);this.a=this.Ba.parse();this.W=this.X=0}
U.prototype.load=function(a){var b=a.context||this.K;this.c=new s(this.K,b);var b=new ka(this.c,b.document.documentElement,a),c=[],d=a.timeout;u(b.s,[b.h.f(b.j,"loading")]);N(b,"loading");var c=this.A,e=this.c,f=[],g;for(g in a)if(a.hasOwnProperty(g)){var h=c.B[g];h&&f.push(h(a[g],e))}c=f;this.W=this.X=c.length;a=new T(this.a,this.c,b,d);g=0;for(d=c.length;g<d;g++)e=c[g],e.M(this.a,n(this.wa,this,e,b,a))};
U.prototype.wa=function(a,b,c,d){var e=this;d?a.load(function(a,b,d){ua(e,c,a,b,d)}):(a=0==--this.X,this.W--,a&&0==this.W?M(b):sa(c,[],{},null,a))};function ua(a,b,c,d,e){var f=0==--a.X;setTimeout(function(){sa(b,c,d||{},e||null,f)},0)};function va(a,b,c){this.T=a?a:b+wa;this.t=[];this.Y=[];this.ha=c||""}var wa="//fonts.googleapis.com/css";va.prototype.f=function(){if(0==this.t.length)throw Error("No fonts to load!");if(-1!=this.T.indexOf("kit="))return this.T;for(var a=this.t.length,b=[],c=0;c<a;c++)b.push(this.t[c].replace(/ /g,"+"));a=this.T+"?family="+b.join("%7C");0<this.Y.length&&(a+="&subset="+this.Y.join(","));0<this.ha.length&&(a+="&text="+encodeURIComponent(this.ha));return a};function xa(a){this.t=a;this.fa=[];this.O={}}
var ya={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},za={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Aa={i:"i",italic:"i",n:"n",normal:"n"},Ba=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;
xa.prototype.parse=function(){for(var a=this.t.length,b=0;b<a;b++){var c=this.t[b].split(":"),d=c[0].replace(/\+/g," "),e=["n4"];if(2<=c.length){var f;var g=c[1];f=[];if(g)for(var g=g.split(","),h=g.length,l=0;l<h;l++){var p;p=g[l];if(p.match(/^[\w-]+$/)){p=Ba.exec(p.toLowerCase());var r=void 0;if(null==p)r="";else{r=void 0;r=p[1];if(null==r||""==r)r="4";else var ma=za[r],r=ma?ma:isNaN(r)?"4":r.substr(0,1);p=p[2];r=[null==p||""==p?"n":Aa[p],r].join("")}p=r}else p="";p&&f.push(p)}0<f.length&&(e=f);
3==c.length&&(c=c[2],f=[],c=c?c.split(","):f,0<c.length&&(c=ya[c[0]])&&(this.O[d]=c))}this.O[d]||(c=ya[d])&&(this.O[d]=c);for(c=0;c<e.length;c+=1)this.fa.push(new K(d,e[c]))}};function V(a,b){this.a=(new D(navigator.userAgent,document)).parse();this.c=a;this.e=b}var Ca={Arimo:!0,Cousine:!0,Tinos:!0};V.prototype.M=function(a,b){b(a.m.R)};V.prototype.load=function(a){var b=this.c;"MSIE"==this.a.getName()&&1!=this.e.blocking?ca(b,n(this.ca,this,a)):this.ca(a)};
V.prototype.ca=function(a){for(var b=this.c,c=new va(this.e.api,w(b),this.e.text),d=this.e.families,e=d.length,f=0;f<e;f++){var g=d[f].split(":");3==g.length&&c.Y.push(g.pop());var h="";2==g.length&&""!=g[1]&&(h=":");c.t.push(g.join(h))}d=new xa(d);d.parse();x(b,c.f());a(d.fa,d.O,Ca)};function W(a,b){this.c=a;this.e=b;this.p=[]}W.prototype.I=function(a){var b=this.c;return w(this.c)+(this.e.api||"//f.fontdeck.com/s/css/js/")+(b.v.location.hostname||b.K.location.hostname)+"/"+a+".js"};
W.prototype.M=function(a,b){var c=this.e.id,d=this.c.v,e=this;c?(d.__webfontfontdeckmodule__||(d.__webfontfontdeckmodule__={}),d.__webfontfontdeckmodule__[c]=function(a,c){for(var d=0,l=c.fonts.length;d<l;++d){var p=c.fonts[d];e.p.push(new K(p.name,ja("font-weight:"+p.weight+";font-style:"+p.style)))}b(a)},y(this.c,this.I(c),function(a){a&&b(!1)})):b(!1)};W.prototype.load=function(a){a(this.p)};function X(a,b){this.c=a;this.e=b;this.p=[]}X.prototype.I=function(a){var b=w(this.c);return(this.e.api||b+"//use.typekit.net")+"/"+a+".js"};
X.prototype.M=function(a,b){var c=this.e.id,d=this.e,e=this.c.v,f=this;c?(e.__webfonttypekitmodule__||(e.__webfonttypekitmodule__={}),e.__webfonttypekitmodule__[c]=function(c){c(a,d,function(a,c,d){for(var e=0;e<c.length;e+=1){var g=d[c[e]];if(g)for(var J=0;J<g.length;J+=1)f.p.push(new K(c[e],g[J]));else f.p.push(new K(c[e]))}b(a)})},y(this.c,this.I(c),function(a){a&&b(!1)},2E3)):b(!1)};X.prototype.load=function(a){a(this.p)};function Y(a,b){this.c=a;this.e=b;this.p=[]}Y.prototype.M=function(a,b){var c=this,d=c.e.projectId,e=c.e.version;if(d){var f=c.c.v;y(this.c,c.I(d,e),function(e){if(e)b(!1);else{if(f["__mti_fntLst"+d]&&(e=f["__mti_fntLst"+d]()))for(var h=0;h<e.length;h++)c.p.push(new K(e[h].fontfamily));b(a.m.R)}}).id="__MonotypeAPIScript__"+d}else b(!1)};Y.prototype.I=function(a,b){var c=w(this.c),d=(this.e.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return c+"//"+d+"/"+a+".js"+(b?"?v="+b:"")};
Y.prototype.load=function(a){a(this.p)};function Z(a,b){this.c=a;this.e=b}Z.prototype.load=function(a){var b,c,d=this.e.urls||[],e=this.e.families||[],f=this.e.testStrings||{};b=0;for(c=d.length;b<c;b++)x(this.c,d[b]);d=[];b=0;for(c=e.length;b<c;b++){var g=e[b].split(":");if(g[1])for(var h=g[1].split(","),l=0;l<h.length;l+=1)d.push(new K(g[0],h[l]));else d.push(new K(g[0]))}a(d,f)};Z.prototype.M=function(a,b){return b(a.m.R)};var $=new U(k);$.A.B.custom=function(a,b){return new Z(b,a)};$.A.B.fontdeck=function(a,b){return new W(b,a)};$.A.B.monotype=function(a,b){return new Y(b,a)};$.A.B.typekit=function(a,b){return new X(b,a)};$.A.B.google=function(a,b){return new V(b,a)};k.WebFont||(k.WebFont={},k.WebFont.load=n($.load,$),k.WebFontConfig&&$.load(k.WebFontConfig));})(this,document);

!function(e,t,n){"use strict";!function o(e,t,n){function a(s,l){if(!t[s]){if(!e[s]){var i="function"==typeof require&&require;if(!l&&i)return i(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return a(n?n:t)},c,c.exports,o,e,t,n)}return t[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(o,a,r){var s=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(r,"__esModule",{value:!0});var l,i,u,c,d=o("./modules/handle-dom"),f=o("./modules/utils"),p=o("./modules/handle-swal-dom"),m=o("./modules/handle-click"),v=o("./modules/handle-key"),y=s(v),h=o("./modules/default-params"),b=s(h),g=o("./modules/set-params"),w=s(g);r["default"]=u=c=function(){function o(e){var t=a;return t[e]===n?b["default"][e]:t[e]}var a=arguments[0];if(d.addClass(t.body,"stop-scrolling"),p.resetInput(),a===n)return f.logStr("SweetAlert expects at least 1 attribute!"),!1;var r=f.extend({},b["default"]);switch(typeof a){case"string":r.title=a,r.text=arguments[1]||"",r.type=arguments[2]||"";break;case"object":if(a.title===n)return f.logStr('Missing "title" argument!'),!1;r.title=a.title;for(var s in b["default"])r[s]=o(s);r.confirmButtonText=r.showCancelButton?"Confirm":b["default"].confirmButtonText,r.confirmButtonText=o("confirmButtonText"),r.doneFunction=arguments[1]||null;break;default:return f.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof a),!1}w["default"](r),p.fixVerticalPosition(),p.openModal(arguments[1]);for(var u=p.getModal(),v=u.querySelectorAll("button"),h=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],g=function(e){return m.handleButton(e,r,u)},C=0;C<v.length;C++)for(var S=0;S<h.length;S++){var x=h[S];v[C][x]=g}p.getOverlay().onclick=g,l=e.onkeydown;var k=function(e){return y["default"](e,r,u)};e.onkeydown=k,e.onfocus=function(){setTimeout(function(){i!==n&&(i.focus(),i=n)},0)},c.enableButtons()},u.setDefaults=c.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");f.extend(b["default"],e)},u.close=c.close=function(){var o=p.getModal();d.fadeOut(p.getOverlay(),5),d.fadeOut(o,5),d.removeClass(o,"showSweetAlert"),d.addClass(o,"hideSweetAlert"),d.removeClass(o,"visible");var a=o.querySelector(".sa-icon.sa-success");d.removeClass(a,"animate"),d.removeClass(a.querySelector(".sa-tip"),"animateSuccessTip"),d.removeClass(a.querySelector(".sa-long"),"animateSuccessLong");var r=o.querySelector(".sa-icon.sa-error");d.removeClass(r,"animateErrorIcon"),d.removeClass(r.querySelector(".sa-x-mark"),"animateXMark");var s=o.querySelector(".sa-icon.sa-warning");return d.removeClass(s,"pulseWarning"),d.removeClass(s.querySelector(".sa-body"),"pulseWarningIns"),d.removeClass(s.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=o.getAttribute("data-custom-class");d.removeClass(o,e)},300),d.removeClass(t.body,"stop-scrolling"),e.onkeydown=l,e.previousActiveElement&&e.previousActiveElement.focus(),i=n,clearTimeout(o.timeout),!0},u.showInputError=c.showInputError=function(e){var t=p.getModal(),n=t.querySelector(".sa-input-error");d.addClass(n,"show");var o=t.querySelector(".sa-error-container");d.addClass(o,"show"),o.querySelector("p").innerHTML=e,setTimeout(function(){u.enableButtons()},1),t.querySelector("input").focus()},u.resetInputError=c.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=p.getModal(),n=t.querySelector(".sa-input-error");d.removeClass(n,"show");var o=t.querySelector(".sa-error-container");d.removeClass(o,"show")},u.disableButtons=c.disableButtons=function(){var e=p.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!0,n.disabled=!0},u.enableButtons=c.enableButtons=function(){var e=p.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!1,n.disabled=!1},"undefined"!=typeof e?e.sweetAlert=e.swal=u:f.logStr("SweetAlert is a frontend module!"),a.exports=r["default"]},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n["default"]=o,t.exports=n["default"]},{}],3:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var a=t("./utils"),r=(t("./handle-swal-dom"),t("./handle-dom")),s=function(t,n,o){function s(e){m&&n.confirmButtonColor&&(p.style.backgroundColor=e)}var u,c,d,f=t||e.event,p=f.target||f.srcElement,m=-1!==p.className.indexOf("confirm"),v=-1!==p.className.indexOf("sweet-overlay"),y=r.hasClass(o,"visible"),h=n.doneFunction&&"true"===o.getAttribute("data-has-done-function");switch(m&&n.confirmButtonColor&&(u=n.confirmButtonColor,c=a.colorLuminance(u,-.04),d=a.colorLuminance(u,-.14)),f.type){case"mouseover":s(c);break;case"mouseout":s(u);break;case"mousedown":s(d);break;case"mouseup":s(c);break;case"focus":var b=o.querySelector("button.confirm"),g=o.querySelector("button.cancel");m?g.style.boxShadow="none":b.style.boxShadow="none";break;case"click":var w=o===p,C=r.isDescendant(o,p);if(!w&&!C&&y&&!n.allowOutsideClick)break;m&&h&&y?l(o,n):h&&y||v?i(o,n):r.isDescendant(o,p)&&"BUTTON"===p.tagName&&sweetAlert.close()}},l=function(e,t){var n=!0;r.hasClass(e,"show-input")&&(n=e.querySelector("input").value,n||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},i=function(e,t){var n=String(t.doneFunction).replace(/\s/g,""),o="function("===n.substring(0,9)&&")"!==n.substring(9,10);o&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};o["default"]={handleButton:s,handleConfirm:l,handleCancel:i},n.exports=o["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0});var r=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},s=function(e,t){r(e,t)||(e.className+=" "+t)},l=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(r(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},i=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},u=function(e){e.style.opacity="",e.style.display="block"},c=function(e){if(e&&!e.length)return u(e);for(var t=0;t<e.length;++t)u(e[t])},d=function(e){e.style.opacity="",e.style.display="none"},f=function(e){if(e&&!e.length)return d(e);for(var t=0;t<e.length;++t)d(e[t])},p=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},m=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},v=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,o=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(o,t)});o()}e.style.display="block"},y=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,o=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(o,t):e.style.display="none"});o()},h=function(n){if("function"==typeof MouseEvent){var o=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(o)}else if(t.createEvent){var a=t.createEvent("MouseEvents");a.initEvent("click",!1,!1),n.dispatchEvent(a)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},b=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};a.hasClass=r,a.addClass=s,a.removeClass=l,a.escapeHtml=i,a._show=u,a.show=c,a._hide=d,a.hide=f,a.isDescendant=p,a.getTopMargin=m,a.fadeIn=v,a.fadeOut=y,a.fireClick=h,a.stopEventPropagation=b},{}],5:[function(t,o,a){Object.defineProperty(a,"__esModule",{value:!0});var r=t("./handle-dom"),s=t("./handle-swal-dom"),l=function(t,o,a){var l=t||e.event,i=l.keyCode||l.which,u=a.querySelector("button.confirm"),c=a.querySelector("button.cancel"),d=a.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(i)){for(var f=l.target||l.srcElement,p=-1,m=0;m<d.length;m++)if(f===d[m]){p=m;break}9===i?(f=-1===p?u:p===d.length-1?d[0]:d[p+1],r.stopEventPropagation(l),f.focus(),o.confirmButtonColor&&s.setFocusStyle(f,o.confirmButtonColor)):13===i?("INPUT"===f.tagName&&(f=u,u.focus()),f=-1===p?u:n):27===i&&o.allowEscapeKey===!0?(f=c,r.fireClick(f,l)):f=n}};a["default"]=l,o.exports=a["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(n,o,a){var r=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(a,"__esModule",{value:!0});var s=n("./utils"),l=n("./handle-dom"),i=n("./default-params"),u=r(i),c=n("./injected-html"),d=r(c),f=".sweet-alert",p=".sweet-overlay",m=function(){var e=t.createElement("div");for(e.innerHTML=d["default"];e.firstChild;)t.body.appendChild(e.firstChild)},v=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(f);return e||(m(),e=v()),e}),y=function(){var e=v();return e?e.querySelector("input"):void 0},h=function(){return t.querySelector(p)},b=function(e,t){var n=s.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},g=function(n){var o=v();l.fadeIn(h(),10),l.show(o),l.addClass(o,"showSweetAlert"),l.removeClass(o,"hideSweetAlert"),e.previousActiveElement=t.activeElement;var a=o.querySelector("button.confirm");a.focus(),setTimeout(function(){l.addClass(o,"visible")},500);var r=o.getAttribute("data-timer");if("null"!==r&&""!==r){var s=n;o.timeout=setTimeout(function(){var e=(s||null)&&"true"===o.getAttribute("data-has-done-function");e?s(null):sweetAlert.close()},r)}},w=function(){var e=v(),t=y();l.removeClass(e,"show-input"),t.value=u["default"].inputValue,t.setAttribute("type",u["default"].inputType),t.setAttribute("placeholder",u["default"].inputPlaceholder),C()},C=function(e){if(e&&13===e.keyCode)return!1;var t=v(),n=t.querySelector(".sa-input-error");l.removeClass(n,"show");var o=t.querySelector(".sa-error-container");l.removeClass(o,"show")},S=function(){var e=v();e.style.marginTop=l.getTopMargin(v())};a.sweetAlertInitialize=m,a.getModal=v,a.getOverlay=h,a.getInput=y,a.setFocusStyle=b,a.openModal=g,a.resetInput=w,a.resetInputError=C,a.fixVerticalPosition=S},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var o='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';n["default"]=o,t.exports=n["default"]},{}],8:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0});var a=e("./utils"),r=e("./handle-swal-dom"),s=e("./handle-dom"),l=["error","warning","info","success","input","prompt"],i=function(e){var t=r.getModal(),o=t.querySelector("h2"),i=t.querySelector("p"),u=t.querySelector("button.cancel"),c=t.querySelector("button.confirm");if(o.innerHTML=e.html?e.title:s.escapeHtml(e.title).split("\n").join("<br>"),i.innerHTML=e.html?e.text:s.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&s.show(i),e.customClass)s.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var d=t.getAttribute("data-custom-class");s.removeClass(t,d),t.setAttribute("data-custom-class","")}if(s.hide(t.querySelectorAll(".sa-icon")),e.type&&!a.isIE8()){var f=function(){for(var o=!1,a=0;a<l.length;a++)if(e.type===l[a]){o=!0;break}if(!o)return logStr("Unknown alert type: "+e.type),{v:!1};var i=["success","error","warning","info"],u=n;-1!==i.indexOf(e.type)&&(u=t.querySelector(".sa-icon.sa-"+e.type),s.show(u));var c=r.getInput();switch(e.type){case"success":s.addClass(u,"animate"),s.addClass(u.querySelector(".sa-tip"),"animateSuccessTip"),s.addClass(u.querySelector(".sa-long"),"animateSuccessLong");break;case"error":s.addClass(u,"animateErrorIcon"),s.addClass(u.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":s.addClass(u,"pulseWarning"),s.addClass(u.querySelector(".sa-body"),"pulseWarningIns"),s.addClass(u.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":c.setAttribute("type",e.inputType),c.value=e.inputValue,c.setAttribute("placeholder",e.inputPlaceholder),s.addClass(t,"show-input"),setTimeout(function(){c.focus(),c.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof f)return f.v}if(e.imageUrl){var p=t.querySelector(".sa-icon.sa-custom");p.style.backgroundImage="url("+e.imageUrl+")",s.show(p);var m=80,v=80;if(e.imageSize){var y=e.imageSize.toString().split("x"),h=y[0],b=y[1];h&&b?(m=h,v=b):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}p.setAttribute("style",p.getAttribute("style")+"width:"+m+"px; height:"+v+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?u.style.display="inline-block":s.hide(u),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?c.style.display="inline-block":s.hide(c),e.cancelButtonText&&(u.innerHTML=s.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(c.innerHTML=s.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(c.style.backgroundColor=e.confirmButtonColor,c.style.borderLeftColor=e.confirmLoadingButtonColor,c.style.borderRightColor=e.confirmLoadingButtonColor,r.setFocusStyle(c,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var g=e.doneFunction?!0:!1;t.setAttribute("data-has-done-function",g),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};o["default"]=i,t.exports=o["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,n,o){Object.defineProperty(o,"__esModule",{value:!0});var a=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},s=function(){return e.attachEvent&&!e.addEventListener},l=function(t){e.console&&e.console.log("SweetAlert: "+t)},i=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,o,a="#";for(o=0;3>o;o++)n=parseInt(e.substr(2*o,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),a+=("00"+n).substr(n.length);return a};o.extend=a,o.hexToRgb=r,o.isIE8=s,o.logStr=l,o.colorLuminance=i},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document);


"use strict";angular.module("oitozero.ngSweetAlert",[]).factory("SweetAlert",["$rootScope",function($rootScope){var swal=window.swal,self={swal:function(arg1,arg2,arg3){$rootScope.$evalAsync(function(){"function"==typeof arg2?swal(arg1,function(isConfirm){$rootScope.$evalAsync(function(){arg2(isConfirm)})},arg3):swal(arg1,arg2,arg3)})},success:function(title,message){$rootScope.$evalAsync(function(){swal(title,message,"success")})},error:function(title,message){$rootScope.$evalAsync(function(){swal(title,message,"error")})},warning:function(title,message){$rootScope.$evalAsync(function(){swal(title,message,"warning")})},info:function(title,message){$rootScope.$evalAsync(function(){swal(title,message,"info")})},showInputError:function(message){$rootScope.$evalAsync(function(){swal.showInputError(message)})},close:function(){$rootScope.$evalAsync(function(){swal.close()})}};return self}]);

/*! 
 * angular-hotkeys v1.7.0
 * https://chieffancypants.github.io/angular-hotkeys
 * Copyright (c) 2016 Wes Cruver
 * License: MIT
 */

!function(){"use strict";angular.module("cfp.hotkeys",[]).provider("hotkeys",["$injector",function(a){this.includeCheatSheet=!0,this.useNgRoute=a.has("ngViewDirective"),this.templateTitle="Keyboard Shortcuts:",this.templateHeader=null,this.templateFooter=null,this.template='',this.cheatSheetHotkey="?",this.cheatSheetDescription="Show / hide this help menu",this.$get=["$rootElement","$rootScope","$compile","$window","$document",function(a,b,c,d,e){function f(a){var b={command:"⌘",shift:"⇧",left:"←",right:"→",up:"↑",down:"↓","return":"↩",backspace:"⌫"};a=a.split("+");for(var c=0;c<a.length;c++)"mod"===a[c]&&(d.navigator&&d.navigator.platform.indexOf("Mac")>=0?a[c]="command":a[c]="ctrl"),a[c]=b[a[c]]||a[c];return a.join(" + ")}function g(a,b,c,d,e,f){this.combo=a instanceof Array?a:[a],this.description=b,this.callback=c,this.action=d,this.allowIn=e,this.persistent=f,this._formated=null}function h(){for(var a=o.hotkeys.length;a--;){var b=o.hotkeys[a];b&&!b.persistent&&k(b)}}function i(){o.helpVisible=!o.helpVisible,o.helpVisible?(t=l("esc"),k("esc"),j("esc",t.description,i,null,["INPUT","SELECT","TEXTAREA"])):(k("esc"),t!==!1&&j(t))}function j(a,b,c,d,e,f){var h,i=["INPUT","SELECT","TEXTAREA"],j=Object.prototype.toString.call(a);if("[object Object]"===j&&(b=a.description,c=a.callback,d=a.action,f=a.persistent,e=a.allowIn,a=a.combo),k(a),b instanceof Function?(d=c,c=b,b="$$undefined$$"):angular.isUndefined(b)&&(b="$$undefined$$"),void 0===f&&(f=!0),"function"==typeof c){h=c,e instanceof Array||(e=[]);for(var l,m=0;m<e.length;m++)e[m]=e[m].toUpperCase(),l=i.indexOf(e[m]),-1!==l&&i.splice(l,1);c=function(a){var b=!0;if(a){var c=a.target||a.srcElement,d=c.nodeName.toUpperCase();if((" "+c.className+" ").indexOf(" mousetrap ")>-1)b=!0;else for(var e=0;e<i.length;e++)if(i[e]===d){b=!1;break}}b&&n(h.apply(this,arguments))}}"string"==typeof d?Mousetrap.bind(a,n(c),d):Mousetrap.bind(a,n(c));var p=new g(a,b,c,d,e,f);return o.hotkeys.push(p),p}function k(a){var b=a instanceof g?a.combo:a;if(Mousetrap.unbind(b),angular.isArray(b)){for(var c=!0,d=b.length;d--;)c=k(b[d])&&c;return c}var e=o.hotkeys.indexOf(l(b));return e>-1?(o.hotkeys[e].combo.length>1?o.hotkeys[e].combo.splice(o.hotkeys[e].combo.indexOf(b),1):(angular.forEach(p,function(a){var b=a.indexOf(o.hotkeys[e]);-1!==b&&a.splice(b,1)}),o.hotkeys.splice(e,1)),!0):!1}function l(a){if(!a)return o.hotkeys;for(var b,c=0;c<o.hotkeys.length;c++)if(b=o.hotkeys[c],b.combo.indexOf(a)>-1)return b;return!1}function m(a){return a.$id in p||(p[a.$id]=[],a.$on("$destroy",function(){for(var b=p[a.$id].length;b--;)k(p[a.$id].pop())})),{add:function(b){var c;return c=arguments.length>1?j.apply(this,arguments):j(b),p[a.$id].push(c),this}}}function n(a){return function(c,d){if(a instanceof Array){var e=a[0],f=a[1];a=function(a){f.scope.$eval(e)}}b.$apply(function(){a(c,l(d))})}}Mousetrap.prototype.stopCallback=function(a,b){return(" "+b.className+" ").indexOf(" mousetrap ")>-1?!1:b.contentEditable&&"true"==b.contentEditable},g.prototype.format=function(){if(null===this._formated){for(var a=this.combo[0],b=a.split(/[\s]/),c=0;c<b.length;c++)b[c]=f(b[c]);this._formated=b}return this._formated};var o=b.$new();o.hotkeys=[],o.helpVisible=!1,o.title=this.templateTitle,o.header=this.templateHeader,o.footer=this.templateFooter,o.toggleCheatSheet=i;var p=[];if(this.useNgRoute&&b.$on("$routeChangeSuccess",function(a,b){h(),b&&b.hotkeys&&angular.forEach(b.hotkeys,function(a){var c=a[2];("string"==typeof c||c instanceof String)&&(a[2]=[c,b]),a[5]=!1,j.apply(this,a)})}),this.includeCheatSheet){var q=e[0],r=a[0],s=angular.element(this.template);j(this.cheatSheetHotkey,this.cheatSheetDescription,i),(r===q||r===q.documentElement)&&(r=q.body),angular.element(r).append(c(s)(o))}var t=!1,u={add:j,del:k,get:l,bindTo:m,template:this.template,toggleCheatSheet:i,includeCheatSheet:this.includeCheatSheet,cheatSheetHotkey:this.cheatSheetHotkey,cheatSheetDescription:this.cheatSheetDescription,useNgRoute:this.useNgRoute,purgeHotkeys:h,templateTitle:this.templateTitle};return u}]}]).directive("hotkey",["hotkeys",function(a){return{restrict:"A",link:function(b,c,d){var e,f;angular.forEach(b.$eval(d.hotkey),function(b,c){f="string"==typeof d.hotkeyAllowIn?d.hotkeyAllowIn.split(/[\s,]+/):[],e=c,a.add({combo:c,description:d.hotkeyDescription,callback:b,action:d.hotkeyAction,allowIn:f})}),c.bind("$destroy",function(){a.del(e)})}}}]).run(["hotkeys",function(a){}])}(),function(a,b,c){function d(a,b,c){return a.addEventListener?void a.addEventListener(b,c,!1):void a.attachEvent("on"+b,c)}function e(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);return a.shiftKey||(b=b.toLowerCase()),b}return r[a.which]?r[a.which]:s[a.which]?s[a.which]:String.fromCharCode(a.which).toLowerCase()}function f(a,b){return a.sort().join(",")===b.sort().join(",")}function g(a){var b=[];return a.shiftKey&&b.push("shift"),a.altKey&&b.push("alt"),a.ctrlKey&&b.push("ctrl"),a.metaKey&&b.push("meta"),b}function h(a){return a.preventDefault?void a.preventDefault():void(a.returnValue=!1)}function i(a){return a.stopPropagation?void a.stopPropagation():void(a.cancelBubble=!0)}function j(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function k(){if(!q){q={};for(var a in r)a>95&&112>a||r.hasOwnProperty(a)&&(q[r[a]]=a)}return q}function l(a,b,c){return c||(c=k()[a]?"keydown":"keypress"),"keypress"==c&&b.length&&(c="keydown"),c}function m(a){return"+"===a?["+"]:(a=a.replace(/\+{2}/g,"+plus"),a.split("+"))}function n(a,b){var c,d,e,f=[];for(c=m(a),e=0;e<c.length;++e)d=c[e],u[d]&&(d=u[d]),b&&"keypress"!=b&&t[d]&&(d=t[d],f.push("shift")),j(d)&&f.push(d);return b=l(d,f,b),{key:d,modifiers:f,action:b}}function o(a,c){return a===b?!1:a===c?!0:o(a.parentNode,c)}function p(a){function c(a){a=a||{};var b,c=!1;for(b in u)a[b]?c=!0:u[b]=0;c||(x=!1)}function k(a,b,c,d,e,g){var h,i,k=[],l=c.type;if(!s._callbacks[a])return[];for("keyup"==l&&j(a)&&(b=[a]),h=0;h<s._callbacks[a].length;++h)if(i=s._callbacks[a][h],(d||!i.seq||u[i.seq]==i.level)&&l==i.action&&("keypress"==l&&!c.metaKey&&!c.ctrlKey||f(b,i.modifiers))){var m=!d&&i.combo==e,n=d&&i.seq==d&&i.level==g;(m||n)&&s._callbacks[a].splice(h,1),k.push(i)}return k}function l(a,b,c,d){s.stopCallback(b,b.target||b.srcElement,c,d)||a(b,c)===!1&&(h(b),i(b))}function m(a){"number"!=typeof a.which&&(a.which=a.keyCode);var b=e(a);if(b)return"keyup"==a.type&&v===b?void(v=!1):void s.handleKey(b,g(a),a)}function o(){clearTimeout(t),t=setTimeout(c,1e3)}function q(a,b,d,f){function g(b){return function(){x=b,++u[a],o()}}function h(b){l(d,b,a),"keyup"!==f&&(v=e(b)),setTimeout(c,10)}u[a]=0;for(var i=0;i<b.length;++i){var j=i+1===b.length,k=j?h:g(f||n(b[i+1]).action);r(b[i],k,f,a,i)}}function r(a,b,c,d,e){s._directMap[a+":"+c]=b,a=a.replace(/\s+/g," ");var f,g=a.split(" ");return g.length>1?void q(a,g,b,c):(f=n(a,c),s._callbacks[f.key]=s._callbacks[f.key]||[],k(f.key,f.modifiers,{type:f.action},d,a,e),void s._callbacks[f.key][d?"unshift":"push"]({callback:b,modifiers:f.modifiers,action:f.action,seq:d,level:e,combo:a}))}var s=this;if(a=a||b,!(s instanceof p))return new p(a);s.target=a,s._callbacks={},s._directMap={};var t,u={},v=!1,w=!1,x=!1;s._handleKey=function(a,b,d){var e,f=k(a,b,d),g={},h=0,i=!1;for(e=0;e<f.length;++e)f[e].seq&&(h=Math.max(h,f[e].level));for(e=0;e<f.length;++e)if(f[e].seq){if(f[e].level!=h)continue;i=!0,g[f[e].seq]=1,l(f[e].callback,d,f[e].combo,f[e].seq)}else i||l(f[e].callback,d,f[e].combo);var m="keypress"==d.type&&w;d.type!=x||j(a)||m||c(g),w=i&&"keydown"==d.type},s._bindMultiple=function(a,b,c){for(var d=0;d<a.length;++d)r(a[d],b,c)},d(a,"keypress",m),d(a,"keydown",m),d(a,"keyup",m)}for(var q,r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},t={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},v=1;20>v;++v)r[111+v]="f"+v;for(v=0;9>=v;++v)r[v+96]=v;p.prototype.bind=function(a,b,c){var d=this;return a=a instanceof Array?a:[a],d._bindMultiple.call(d,a,b,c),d},p.prototype.unbind=function(a,b){var c=this;return c.bind.call(c,a,function(){},b)},p.prototype.trigger=function(a,b){var c=this;return c._directMap[a+":"+b]&&c._directMap[a+":"+b]({},a),c},p.prototype.reset=function(){var a=this;return a._callbacks={},a._directMap={},a},p.prototype.stopCallback=function(a,b){var c=this;return(" "+b.className+" ").indexOf(" mousetrap ")>-1?!1:o(b,c.target)?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable},p.prototype.handleKey=function(){var a=this;return a._handleKey.apply(a,arguments)},p.init=function(){var a=p(b);for(var c in a)"_"!==c.charAt(0)&&(p[c]=function(b){return function(){return a[b].apply(a,arguments)}}(c))},p.init(),a.Mousetrap=p,"undefined"!=typeof module&&module.exports&&(module.exports=p),"function"==typeof define&&define.amd&&define(function(){return p})}(window,document);


// ANGULAR SOCIAL


var socialLogin = angular.module('socialLogin', []);

socialLogin.provider("social", function(){
	var fbKey, fbApiV, googleKey, linkedInKey;
	return {
		setFbKey: function(obj){
			fbKey = obj.appId;
			fbApiV = obj.apiVersion;
			var d = document, fbJs, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
			fbJs = d.createElement('script'); 
			fbJs.id = id; 
			fbJs.async = true;
			fbJs.src = "//connect.facebook.net/en_US/sdk.js";

			fbJs.onload = function() {
				FB.init({ 
					appId: fbKey,
					status: true, 
					cookie: true, 
					xfbml: true,
					version: fbApiV
				});
	        };

			ref.parentNode.insertBefore(fbJs, ref);
		},
		setGoogleKey: function(value){
			googleKey = value;
			var d = document, gJs, ref = d.getElementsByTagName('script')[0];
			gJs = d.createElement('script');
			gJs.async = true;
			gJs.src = "//apis.google.com/js/platform.js"

			gJs.onload = function() {
				var params ={
					client_id: value,
					scope: 'email'
				}
				gapi.load('auth2', function() {
        			gapi.auth2.init(params);
      			});
		    };

		    ref.parentNode.insertBefore(gJs, ref);
		},
		setLinkedInKey: function(value){
			linkedInKey = value;
			var lIN, d = document, ref = d.getElementsByTagName('script')[0];
			lIN = d.createElement('script');
			lIN.async = false;
			lIN.src = "//platform.linkedin.com/in.js?async=false";
			lIN.text = ("api_key: " + linkedInKey).replace("\"", "");
	        ref.parentNode.insertBefore(lIN, ref);
	    },
		$get: function(){
			return{
				fbKey: fbKey,
				googleKey: googleKey,
				linkedInKey: linkedInKey,
				fbApiV: fbApiV
			}
		}
	}
});

socialLogin.factory("socialLoginService", function($window, $rootScope){
	return {
		logout: function(){
			var provider = $window.localStorage.getItem('_login_provider');
			switch(provider) {
				case "google":
					//its a hack need to find better solution.
					var gElement = document.getElementById("gSignout");
					if (typeof(gElement) != 'undefined' && gElement != null)
					{
					  gElement.remove();
					}
					var d = document, gSignout, ref = d.getElementsByTagName('script')[0];
					gSignout = d.createElement('script');
					gSignout.src = "https://accounts.google.com/Logout";
					gSignout.type = "text/javascript";
					gSignout.id = "gSignout";
					$window.localStorage.removeItem('_login_provider');
					$rootScope.$broadcast('event:social-sign-out-success', "success");
					ref.parentNode.insertBefore(gSignout, ref);
			        break;
				case "linkedIn":
					IN.User.logout(function(){
						$window.localStorage.removeItem('_login_provider');
					 	$rootScope.$broadcast('event:social-sign-out-success', "success");
					}, {});
					break;
				case "facebook":
					FB.logout(function(res){
						$window.localStorage.removeItem('_login_provider');
					 	$rootScope.$broadcast('event:social-sign-out-success', "success");
					});
					break;
			}
		},
		setProvider: function(provider){
			$window.localStorage.setItem('_login_provider', provider);
		}
	}
});

socialLogin.factory("fbService", function($q){
	return {
		login: function(){
			var deferred = $q.defer();
			FB.login(function(res){
				deferred.resolve(res);
			}, {scope: 'email', auth_type: 'rerequest'});
			return deferred.promise;
		},
		getUserDetails: function(){
			var deferred = $q.defer();
			FB.api('/me?fields=name,email,picture', function(res){
				if(!res || res.error){
					deferred.reject('Error occured while fetching user details.');
				}else{
					deferred.resolve(res);
				}
			});
			return deferred.promise;
		}
	}
});

socialLogin.directive("linkedIn", function($rootScope, social, socialLoginService, $window){
	return {
		restrict: 'EA',
		scope: {},
		link: function(scope, ele, attr){
		    ele.on("click", function(){
		  		IN.User.authorize(function(){
					IN.API.Raw("/people/~:(id,first-name,last-name,email-address,picture-url)").result(function(res){
						socialLoginService.setProvider("linkedIn");
						var userDetails = {name: res.firstName + " " + res.lastName, email: res.emailAddress, uid: res.id, provider: "linkedIN", imageUrl: res.pictureUrl};
						$rootScope.$broadcast('event:social-sign-in-success', userDetails);
				    });
				});
			})
		}
	}
})

socialLogin.directive("gLogin", function($rootScope, social, socialLoginService){
	return {
		restrict: 'EA',
		scope: {},
		replace: true,
		link: function(scope, ele, attr){
			ele.on('click', function(){
		    	if(typeof(scope.gauth) == "undefined")
		    		scope.gauth = gapi.auth2.getAuthInstance();	
	        	scope.gauth.signIn().then(function(googleUser){
	        		var profile = googleUser.getBasicProfile();
	        		var idToken = googleUser.getAuthResponse().id_token
	        		socialLoginService.setProvider("google");
	        		$rootScope.$broadcast('event:social-sign-in-success', {token: idToken, name: profile.getName(), email: profile.getEmail(), uid: profile.getId(), provider: "google", imageUrl: profile.getImageUrl()});
	        	}, function(err){
	        		console.log(err);
	        	})
	        });
		}
	}
});

socialLogin.directive("fbLogin", function($rootScope, fbService, social, socialLoginService){
	return {
		restrict: 'A',
		scope: {},
		replace: true,
		link: function(scope, ele, attr){
			ele.on('click', function(){
				fbService.login().then(function(res){
					if(res.status == "connected"){
						fbService.getUserDetails().then(function(user){
							socialLoginService.setProvider("facebook");
							var userDetails = {name: user.name, email: user.email, uid: user.id, provider: "facebook", imageUrl: user.picture.data.url}
							$rootScope.$broadcast('event:social-sign-in-success', userDetails);
						}, function(err){
							console.log(err);
						})
					}
				}, function(err){
					console.log(err);
				});
			});
		}
	}
})





var baseURL = "http://www.teedesign.ae/api";
var imageURL = "http://cdn.teedesign.ae/images/products/apparel/";
var imageURL1 = "http://d1b2zzpxewkr9z.cloudfront.net/images/products/apparel/";
var graphicsURL = "http://cdn.teedesign.ae/vectors/";
var fontsURL="http://cdn.teedesign.ae/webfonts/";
var serverURL = "http://www.teedesign.ae/";
var DashboardModule = angular.module("DashboardModule", [])
DashboardModule.controller('DashboardController', DashboardController);

DashboardController.$inject = ['$scope', '$rootScope', '$modal', '$http', '$location', '$state', 'DashboardService', 'AnimationService', '_', '$popover', '$sce', 'Upload', '$timeout','$interval','SweetAlert','hotkeys'];

function DashboardController($scope, $rootScope, $modal, $http, $location, $state, DashboardService, AnimationService, _, $popover, $sce, Upload, $timeout,$interval,SweetAlert,hotkeys) {
    //ViewModel//

    $scope.image = null
    $scope.imageFileName = ''

    var vm = this;
    vm.loadDefault = loadDefault;
    vm.activate_tab = activate_tab;
    vm.set_design_tab = set_design_tab;
    vm.selectShirt = selectShirt;
    vm.selectGraphic = selectGraphic;
    vm.fontsURL = fontsURL;
    vm.selectedGraphic = {};
    vm.rotation = false;
    vm.goal_range_max = 0;
    vm.goal_range_min = 0;
    vm.goal_target = 0;
    vm.fontsTag = [];
    vm.customImage = "";
    //vm.isFontLoaded = true;
    vm.fontList = {
        title: 'Font List',
    };
    vm.fontSelected = {
        family: 'arial',
    }
    vm.rotation = false;
    vm.hexPicker = {
        color: ''
    };

    vm.is_zoomed = false;

    vm.other_apperals = [];

    vm.imageURL1 = imageURL1;


    vm.show_toolbar = show_toolbar;
    vm.hide_toolbar = hide_toolbar;

    vm.alert_invalid = alert_invalid;
    vm.getRandomInAnimation = getRandomInAnimations;
    vm.rotate_goal = rotate_goal;
    vm.zoom = zoom;
    vm.setColor = setColor;
    vm.loadGraphics = loadGraphics;
    vm.add_style = add_style;
    vm.is_available = is_available;
    vm.prepare_shirts = prepare_shirts;
    vm.shirts_in_styles = [];
    vm.select_extra_shirt_colors = select_extra_shirt_colors;
    vm.total_color_selected = 1;
    vm.select_extra_shirt_color = select_extra_shirt_color;
    vm.limit_full = false;
    vm.profit_array = [];



    vm.extract_tags = extract_tags;
    vm.remove_tag = remove_tag;
    vm.build_url = build_url;
    vm.validate_url = validate_url;


    vm.launch_compaign = launch_compaign;

    vm.selectedProduct = {};


    window.timeoutList = new Array();
window.intervalList = new Array();

window.oldSetTimeout = window.setTimeout;
window.oldSetInterval = window.setInterval;
window.oldClearTimeout = window.clearTimeout;
window.oldClearInterval = window.clearInterval;

window.setTimeout = function(code, delay) {
    var retval = window.oldSetTimeout(code, delay);
    window.timeoutList.push(retval);
    return retval;
};
window.clearTimeout = function(id) {
    var ind = window.timeoutList.indexOf(id);
    if(ind >= 0) {
        window.timeoutList.splice(ind, 1);
    }
    var retval = window.oldClearTimeout(id);
    return retval;
};
window.setInterval = function(code, delay) {
  
    var retval = window.oldSetInterval(code, delay);
    window.intervalList.push(retval);
    return retval;
};
window.clearInterval = function(id) {
     
    var ind = window.intervalList.indexOf(id);
    if(ind >= 0) {
        window.intervalList.splice(ind, 1);
    }
    var retval = window.oldClearInterval(id);
    return retval;
};


window.clearAllIntervals = function() {
    for(var i in window.intervalList) {
        window.oldClearInterval(window.intervalList[i]);
    }
    window.intervalList = new Array();
};

function Alert(message, heading){

if(!heading){
    heading = "Hang on!";
}

            SweetAlert.swal({
                        title: heading,
                        text: message,
                        type: 'info',
                        showCancelButton: false,
                        closeOnConfirm: true,
                        disableButtonsOnConfirm: true,
                        animation: 'animated fadeInRightBig',
                        confirmLoadingButtonColor: '#DD6B55'
                    });


        }


    //function launch_compaign() {
    //  debugger;

    // if(vm.front_design.length || vm.back_design.length || vm.right_design.length || vm.left_design.length){
    // var to_be_sent = [];
    // var shirts = _.where(vm.shirts_in_styles, { selected: true });
    // for (var i = 0; i < shirts.length; i++) {
    //     to_be_sent[i] = {};
    //     to_be_sent[i].id = shirts[i].id;
    //     to_be_sent[i].price = shirts[i].total_unit_cost + shirts[i].profit;

    //     var colors = _.where(shirts[i].colors_available, { selected: true });
    //     var clr_ids = [];
    //     for (var j = 0; j < colors.length; j++) {
    //         clr_ids.push(colors[j].color_id);
    //     }
    //     //  debugger;
    //     to_be_sent[i].colors = clr_ids;
    //     //id price colors


    // }
    // var defaultProduct = {};
    // defaultProduct.id = vm.selectedShirt.id;
    // var clrs_default = [];
    // for (var i = 0; i < vm.selectedShirt.colors_available.length; i++) {
    //     var color = vm.selectedShirt.colors_available[i];
    //     if (color.selected)
    //         clrs_default.push(color.color_id);


    // }
    // var tags_arr = "";
    // for (var i = 0; i < vm.tags.length - 1; i++) {

    //     tags_arr = tags_arr + vm.tags[i] + ",";

    // }
    // tags_arr += vm.tags[vm.tags.length - 1];
    // //  tags_arr=tags_arr.substr(0,tags_arr.length-1);
    // defaultProduct.colors = clrs_default;
    // // debugger;
    // var days = Number(vm.compaign_length.trim().substr(0, 1));
    // // var compaign_json = new FormData();
    // // compaign_json.append("name",vm.compaign_title);
    // // compaign_json.append("url",vm.url);
    // // compaign_json.append("description",$scope.htmlcontenttwo);
    // // compaign_json.append("length",days);
    // // compaign_json.append("products",to_be_sent);
    // // compaign_json.append("defaultProduct",defaultProduct);
    // // compaign_json.append("tags",tags_arr);
    // // compaign_json.append("category_id",vm.description.category);

    // var compaign_json = {};

    // compaign_json.name = vm.compaign_title;
    // compaign_json.url = vm.url;
    // compaign_jsondescription = $scope.htmlcontenttwo;
    // compaign_json.length = days;
    // compaign_json.products = to_be_sent;
    // compaign_json.defaultProduct = defaultProduct;
    // compaign_json.tags = tags_arr;
    // compaign_json.category_id = vm.description.category;

    // var sides = [];

    // var activeSide = vm.default_tab === 1 ? "front" : vm.default_tab === 2 ? "back" : vm.default_tab === 3 ? "left" : "right";
    // // var front = $("#box1front");
    // // var svg = front.find('svg');
    // // var view = svg[0].getAttributeNS(null, 'viewBox');
    // // var arr = view.split(' ');



    // for (var i = 0; i < 4; i++) {

    //     if (i == 0) {



    //         var svgText = "";
    //         var layers = [];
    //         for (var j = 0; j < vm.front_design.length; j++) {
    //             var element = $('#box' + vm.front_design[j].z_index + "front");
    //             var pipe = j == 0 ? "||" : "";
    //             svgText += _.escape(element.prop('outerHTML')) + pipe;
    //         }

    //         for (var k = 0; k < vm.front_design.length; k++) {
    //             if (vm.front_design[k].type === 'text') {
    //                 var obj_ = vm.front_design[k];
    //                 //  var _obj = _.findWhere(vm.graphics, {id:obj_.id});
    //                 var element = $('#box' + vm.front_design[k].z_index + "front");
    //                 var svg = element.find('svg');
    //                 var view = svg[0].getAttributeNS(null, 'viewBox');
    //                 var arr = view.split(' ');

    //                 var textObj = {
    //                     "string": vm.front_design[k].text,
    //                     font: {
    //                         id: k,
    //                         family: vm.front_design[k].font,
    //                         filename: vm.front_design[k].font,
    //                         tags: [],
    //                         priority: 1,
    //                         url: null
    //                     },
    //                     fontSize: 24,
    //                     tag: "Popular",
    //                     lineHeight: 1.2,
    //                     alignment: "center",
    //                     colors: obj_.color,
    //                     outlineThickness: 0,
    //                     transformations: [],
    //                     matrix: {},
    //                     beingEdited: false,
    //                     origin: "Native",
    //                     type: "Text",
    //                     bbox: {
    //                         x: parseInt(arr[0]),
    //                         y: parseInt(arr[1]),
    //                         width: parseInt(arr[2]),
    //                         height: parseInt(arr[3]),
    //                     },
    //                     filename: "",
    //                     "preserve-colors": false,
    //                     fillColor: {
    //                         id: k,
    //                         value: vm.front_design[k].color,
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     outlineColor: {
    //                         id: "default" + k,
    //                         value: "#000000",
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     newDesignData: {
    //                         transform: {

    //                         }
    //                     }

    //                 }

    //                 layers.push(textObj);
    //             }

    //             if (vm.front_design[k].type === "svg") {
    //                 var obj_ = vm.front_design[k];


    //                 var _obj = _.findWhere(vm.graphics, { id: obj_.id });
    //                 var element = $('#box' + vm.front_design[k].z_index + "front");
    //                 var svg = element.find('svg');
    //                 var view = svg[0].getAttributeNS(null, 'viewBox');
    //                 var arr = view.split(' ');

    //                 var svgObj = {
    //                     "urlParams": {
    //                         "filename": ""
    //                     },
    //                     name: "",
    //                     format: "",
    //                     "original_key": "",
    //                     sourceFilename: "",
    //                     svg_key: "",
    //                     png_key: "",
    //                     category: [],
    //                     colors: _obj.colors,
    //                     uploadId: null,
    //                     initialScale: 1,
    //                     transformations: [],
    //                     matrix: {},
    //                     beingEdited: false,
    //                     origin: "Native",
    //                     type: "Art",
    //                     bbox: {
    //                         x: parseInt(arr[0]),
    //                         y: parseInt(arr[1]),
    //                         width: parseInt(arr[2]),
    //                         height: parseInt(arr[3]),
    //                     },
    //                     filename: "",
    //                     "preserve-colors": false,
    //                     fillColor: {
    //                         id: k,
    //                         value: vm.front_design[k].color,
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     outlineColor: {
    //                         id: "default" + k,
    //                         value: "#000000",
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     newDesignData: {
    //                         transform: {

    //                         }
    //                     }

    //                 }

    //                 layers.push(svgObj);

    //             }
    //         }


    //         var front = {
    //             removeLayerBinding: {},
    //             name: "front",
    //             layers: layers,
    //             bbox: {
    //                 x: parseInt(arr[0]),
    //                 y: parseInt(arr[1]),
    //                 width: parseInt(arr[2]),
    //                 height: parseInt(arr[3]),
    //             },
    //             absoluteBBox: {
    //                 x: parseInt(arr[0]),
    //                 y: parseInt(arr[1]),
    //                 width: parseInt(arr[2]),
    //                 height: parseInt(arr[3]),
    //             },
    //             beingViewed: false,
    //             initialFreeTransformAttrs: null,
    //             initialPrintableArea: null,
    //             referencePoint: {},
    //             ppi: 18,
    //             editable: null,
    //             sequence: 2,
    //            // priorPrintableBox: parseInt(arr[0]) + "," + $("#box1front").parent().parent().parent().css('top').substr(0, $("#box1front").parent().parent().parent().css('top').length - 2) + "," + parseInt(arr[2]) + ",240",
    //             scaleAndMove: null,
    //             rasterImageInfo: [],
    //             svg: svgText,


    //         }
    //         sides.push(front);

    // }

    //     if (i == 1) {

    //         var svgText = "";
    //         var element;
    //         var layers = [];
    //         for (var j = 0; j < vm.back_design.length; j++) {
    //             var element = $('#box' + vm.back_design[j].z_index + "back");
    //             var pipe = j == 0 ? "||" : "";
    //             svgText += _.escape(element.prop('outerHTML')) + pipe;
    //         }

    //         for (var k = 0; k < vm.back_design.length; k++) {
    //             if (vm.back_design[k].type === 'text') {

    //                 var obj_ = vm.back_design[k];
    //                 // var _obj = _.findWhere(vm.graphics, {id:obj_.id});
    //                 var element = $('#box' + vm.back_design[k].z_index + "back");
    //                 var svg = element.find('svg');
    //                 var view = svg[0].getAttributeNS(null, 'viewBox');
    //                 var arr = view.split(' ');

    //                 var textObj = {
    //                     "string": vm.back_design[k].text,
    //                     font: {
    //                         id: k,
    //                         family: vm.back_design[k].font,
    //                         filename: vm.back_design[k].font,
    //                         tags: [],
    //                         priority: 1,
    //                         url: null
    //                     },
    //                     fontSize: 24,
    //                     tag: "Popular",
    //                     lineHeight: 1.2,
    //                     alignment: "center",
    //                     colors: obj_.color,
    //                     outlineThickness: 0,
    //                     transformations: [],
    //                     matrix: {},
    //                     beingEdited: false,
    //                     origin: "Native",
    //                     type: "Text",
    //                     bbox: {
    //                         x: parseInt(arr[0]),
    //                         y: parseInt(arr[1]),
    //                         width: parseInt(arr[2]),
    //                         height: parseInt(arr[3]),
    //                     },
    //                     filename: "",
    //                     "preserve-colors": false,
    //                     fillColor: {
    //                         id: k,
    //                         value: vm.back_design[k].color,
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     outlineColor: {
    //                         id: "default" + k,
    //                         value: "#000000",
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     newDesignData: {
    //                         transform: {

    //                         }
    //                     }

    //                 }

    //                 layers.push(textObj);
    //             }

    //             if (vm.back_design[k].type === "svg") {
    //                 var obj_ = vm.back_design[k];
    //                 var _obj = _.findWhere(vm.graphics, { id: obj_.id });
    //                 //   debugger;
    //                 var element = $('#box' + vm.back_design[k].z_index + "back");
    //                 var svg = element.find('svg');
    //                 var view = svg[0].getAttributeNS(null, 'viewBox');
    //                 var arr = view.split(' ');

    //                 var svgObj = {
    //                     "urlParams": {
    //                         "filename": ""
    //                     },
    //                     name: "",
    //                     format: "",
    //                     "original_key": "",
    //                     sourceFilename: "",
    //                     svg_key: "",
    //                     png_key: "",
    //                     category: [],
    //                     colors: _obj.colors,
    //                     uploadId: null,
    //                     initialScale: 1,
    //                     transformations: [],
    //                     matrix: {},
    //                     beingEdited: false,
    //                     origin: "Native",
    //                     type: "Art",
    //                     bbox: {
    //                         x: parseInt(arr[0]),
    //                         y: parseInt(arr[1]),
    //                         width: parseInt(arr[2]),
    //                         height: parseInt(arr[3]),
    //                     },
    //                     filename: "",
    //                     "preserve-colors": false,
    //                     fillColor: {
    //                         id: k,
    //                         value: vm.back_design[k].color,
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     outlineColor: {
    //                         id: "default" + k,
    //                         value: "#000000",
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     newDesignData: {
    //                         transform: {

    //                         }
    //                     }

    //                 }

    //                 layers.push(svgObj);

    //             }
    //         }


    //         var back = {
    //             removeLayerBinding: {},
    //             name: "back",
    //             layers: layers,
    //             bbox: {
    //                 x: parseInt(arr[0]),
    //                 y: parseInt(arr[1]),
    //                 width: parseInt(arr[2]),
    //                 height: parseInt(arr[3]),
    //             },
    //             absoluteBBox: {
    //                 x: parseInt(arr[0]),
    //                 y: parseInt(arr[1]),
    //                 width: parseInt(arr[2]),
    //                 height: parseInt(arr[3]),
    //             },
    //             beingViewed: false,
    //             initialFreeTransformAttrs: null,
    //             initialPrintableArea: null,
    //             referencePoint: {},
    //             ppi: 18,
    //             editable: null,
    //             sequence: 2,
    //            // priorPrintableBox: parseInt(arr[0]) + "," + $("#box1back").parent().parent().parent().css('top').substr(0, $("#box1back").parent().parent().parent().css('top').length - 2) + "," + parseInt(arr[2]) + ",240",
    //             scaleAndMove: null,
    //             rasterImageInfo: [],
    //             svg: svgText,


    //         }

    //         sides.push(back);
    //     }

    //      if (i == 2) {

    //         var svgText = "";
    //         var element;
    //         var layers = [];
    //         for (var j = 0; j < vm.left_design.length; j++) {
    //             var element = $('#box' + vm.left_design[j].z_index + "left");
    //             var pipe = j == 0 ? "||" : "";
    //             svgText += _.escape(element.prop('outerHTML')) + pipe;
    //         }

    //         for (var k = 0; k < vm.left_design.length; k++) {
    //             if (vm.left_design[k].type === 'text') {

    //                 var obj_ = vm.left_design[k];
    //                 // var _obj = _.findWhere(vm.graphics, {id:obj_.id});
    //                 var element = $('#box' + vm.left_design[k].z_index + "left");
    //                 var svg = element.find('svg');
    //                 var view = svg[0].getAttributeNS(null, 'viewBox');
    //                 var arr = view.split(' ');

    //                 var textObj = {
    //                     "string": vm.left_design[k].text,
    //                     font: {
    //                         id: k,
    //                         family: vm.left_design[k].font,
    //                         filename: vm.left_design[k].font,
    //                         tags: [],
    //                         priority: 1,
    //                         url: null
    //                     },
    //                     fontSize: 24,
    //                     tag: "Popular",
    //                     lineHeight: 1.2,
    //                     alignment: "center",
    //                     colors: obj_.color,
    //                     outlineThickness: 0,
    //                     transformations: [],
    //                     matrix: {},
    //                     beingEdited: false,
    //                     origin: "Native",
    //                     type: "Text",
    //                     bbox: {
    //                         x: parseInt(arr[0]),
    //                         y: parseInt(arr[1]),
    //                         width: parseInt(arr[2]),
    //                         height: parseInt(arr[3]),
    //                     },
    //                     filename: "",
    //                     "preserve-colors": false,
    //                     fillColor: {
    //                         id: k,
    //                         value: vm.left_design[k].color,
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     outlineColor: {
    //                         id: "default" + k,
    //                         value: "#000000",
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     newDesignData: {
    //                         transform: {

    //                         }
    //                     }

    //                 }

    //                 layers.push(textObj);
    //             }

    //             if (vm.left_design[k].type === "svg") {
    //                 var obj_ = vm.left_design[k];
    //                 var _obj = _.findWhere(vm.graphics, { id: obj_.id });
    //                 //   debugger;
    //                 var element = $('#box' + vm.left_design[k].z_index + "left");
    //                 var svg = element.find('svg');
    //                 var view = svg[0].getAttributeNS(null, 'viewBox');
    //                 var arr = view.split(' ');

    //                 var svgObj = {
    //                     "urlParams": {
    //                         "filename": ""
    //                     },
    //                     name: "",
    //                     format: "",
    //                     "original_key": "",
    //                     sourceFilename: "",
    //                     svg_key: "",
    //                     png_key: "",
    //                     category: [],
    //                     colors: _obj.colors,
    //                     uploadId: null,
    //                     initialScale: 1,
    //                     transformations: [],
    //                     matrix: {},
    //                     beingEdited: false,
    //                     origin: "Native",
    //                     type: "Art",
    //                     bbox: {
    //                         x: parseInt(arr[0]),
    //                         y: parseInt(arr[1]),
    //                         width: parseInt(arr[2]),
    //                         height: parseInt(arr[3]),
    //                     },
    //                     filename: "",
    //                     "preserve-colors": false,
    //                     fillColor: {
    //                         id: k,
    //                         value: vm.left_design[k].color,
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     outlineColor: {
    //                         id: "default" + k,
    //                         value: "#000000",
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     newDesignData: {
    //                         transform: {

    //                         }
    //                     }

    //                 }

    //                 layers.push(svgObj);

    //             }
    //         }


    //         var left = {
    //             removeLayerBinding: {},
    //             name: "left",
    //             layers: layers,
    //             bbox: {
    //                 x: parseInt(arr[0]),
    //                 y: parseInt(arr[1]),
    //                 width: parseInt(arr[2]),
    //                 height: parseInt(arr[3]),
    //             },
    //             absoluteBBox: {
    //                 x: parseInt(arr[0]),
    //                 y: parseInt(arr[1]),
    //                 width: parseInt(arr[2]),
    //                 height: parseInt(arr[3]),
    //             },
    //             beingViewed: false,
    //             initialFreeTransformAttrs: null,
    //             initialPrintableArea: null,
    //             referencePoint: {},
    //             ppi: 18,
    //             editable: null,
    //             sequence: 2,
    //            // priorPrintableBox: parseInt(arr[0]) + "," + $("#box1left").parent().parent().parent().css('top').substr(0, $("#box1left").parent().parent().parent().css('top').length - 2) + "," + parseInt(arr[2]) + ",240",
    //             scaleAndMove: null,
    //             rasterImageInfo: [],
    //             svg: svgText,


    //         }

    //         sides.push(left);
    //     }

    //      if (i == 3) {

    //         var svgText = "";
    //         var element;
    //         var layers = [];
    //         for (var j = 0; j < vm.right_design.length; j++) {
    //             var element = $('#box' + vm.right_design[j].z_index + "right");
    //             var pipe = j == 0 ? "||" : "";
    //             svgText += _.escape(element.prop('outerHTML')) + pipe;
    //         }

    //         for (var k = 0; k < vm.right_design.length; k++) {
    //             if (vm.right_design[k].type === 'text') {

    //                 var obj_ = vm.right_design[k];
    //                 // var _obj = _.findWhere(vm.graphics, {id:obj_.id});
    //                 var element = $('#box' + vm.right_design[k].z_index + "right");
    //                 var svg = element.find('svg');
    //                 var view = svg[0].getAttributeNS(null, 'viewBox');
    //                 var arr = view.split(' ');

    //                 var textObj = {
    //                     "string": vm.right_design[k].text,
    //                     font: {
    //                         id: k,
    //                         family: vm.right_design[k].font,
    //                         filename: vm.right_design[k].font,
    //                         tags: [],
    //                         priority: 1,
    //                         url: null
    //                     },
    //                     fontSize: 24,
    //                     tag: "Popular",
    //                     lineHeight: 1.2,
    //                     alignment: "center",
    //                     colors: obj_.color,
    //                     outlineThickness: 0,
    //                     transformations: [],
    //                     matrix: {},
    //                     beingEdited: false,
    //                     origin: "Native",
    //                     type: "Text",
    //                     bbox: {
    //                         x: parseInt(arr[0]),
    //                         y: parseInt(arr[1]),
    //                         width: parseInt(arr[2]),
    //                         height: parseInt(arr[3]),
    //                     },
    //                     filename: "",
    //                     "preserve-colors": false,
    //                     fillColor: {
    //                         id: k,
    //                         value: vm.right_design[k].color,
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     outlineColor: {
    //                         id: "default" + k,
    //                         value: "#000000",
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     newDesignData: {
    //                         transform: {

    //                         }
    //                     }

    //                 }

    //                 layers.push(textObj);
    //             }

    //             if (vm.right_design[k].type === "svg") {
    //                 var obj_ = vm.back_design[k];
    //                 var _obj = _.findWhere(vm.graphics, { id: obj_.id });
    //                 //   debugger;
    //                 var element = $('#box' + vm.right_design[k].z_index + "right");
    //                 var svg = element.find('svg');
    //                 var view = svg[0].getAttributeNS(null, 'viewBox');
    //                 var arr = view.split(' ');

    //                 var svgObj = {
    //                     "urlParams": {
    //                         "filename": ""
    //                     },
    //                     name: "",
    //                     format: "",
    //                     "original_key": "",
    //                     sourceFilename: "",
    //                     svg_key: "",
    //                     png_key: "",
    //                     category: [],
    //                     colors: _obj.colors,
    //                     uploadId: null,
    //                     initialScale: 1,
    //                     transformations: [],
    //                     matrix: {},
    //                     beingEdited: false,
    //                     origin: "Native",
    //                     type: "Art",
    //                     bbox: {
    //                         x: parseInt(arr[0]),
    //                         y: parseInt(arr[1]),
    //                         width: parseInt(arr[2]),
    //                         height: parseInt(arr[3]),
    //                     },
    //                     filename: "",
    //                     "preserve-colors": false,
    //                     fillColor: {
    //                         id: k,
    //                         value: vm.right_design[k].color,
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     outlineColor: {
    //                         id: "default" + k,
    //                         value: "#000000",
    //                         origin: null,
    //                         heather: false,
    //                         texture: "",
    //                     },
    //                     newDesignData: {
    //                         transform: {

    //                         }
    //                     }

    //                 }

    //                 layers.push(svgObj);

    //             }
    //         }


    //         var right = {
    //             removeLayerBinding: {},
    //             name: "right",
    //             layers: layers,
    //             bbox: {
    //                 x: parseInt(arr[0]),
    //                 y: parseInt(arr[1]),
    //                 width: parseInt(arr[2]),
    //                 height: parseInt(arr[3]),
    //             },
    //             absoluteBBox: {
    //                 x: parseInt(arr[0]),
    //                 y: parseInt(arr[1]),
    //                 width: parseInt(arr[2]),
    //                 height: parseInt(arr[3]),
    //             },
    //             beingViewed: false,
    //             initialFreeTransformAttrs: null,
    //             initialPrintableArea: null,
    //             referencePoint: {},
    //             ppi: 18,
    //             editable: null,
    //             sequence: 2,
    //            // priorPrintableBox: parseInt(arr[0]) + "," + $("#box1right").parent().parent().parent().css('top').substr(0, $("#box1right").parent().parent().parent().css('top').length - 2) + "," + parseInt(arr[2]) + ",240",
    //             scaleAndMove: null,
    //             rasterImageInfo: [],
    //             svg: svgText,


    //         }

    //         sides.push(right);
    //     }
    // }

    // }



    // var design = {

    //     lookupId: "f2345",
    //     sides: sides,
    //     activeSide: activeSide,
    //     high_quality_artwork: true,
    //     crap_quality_artwork: false,
    //     product_type_id: parseInt(vm.selectedShirt.id),
    //     frontColors: vm.total_front_colors.length,
    //     flashFront: false,
    //     backColors: vm.total_back_colors.length,
    //     flashBack: false,
    //     leftColors: vm.total_left_colors.length,
    //     flashLeft: false,
    //     rightColors: vm.total_right_colors.length,
    //     flashRight: false

    // }

    // console.log(JSON.stringify(obj,null,4));

    // for (o in obj) {
    //     console.log(o, obj[o]);
    // }


    // compaign_json.design = design;
    // compaign_json.priorPrintableArea = {"front":"152,100,220,330","back":"155,60,215,330","left":"155,60,215,330","right":"155,60,215,330"};
    // console.log(JSON.stringify(compaign_json,null,4));


    // var data = {'hey':"hellllo"};
    // var fd = objectToFormData(data);

    // var formData  =  new FormData();
    // formData.append('test',JSON.stringify(data));


    // var xsrf = {fkey: 'xsrf key'};

    //           $http({
    //             method: 'POST',
    //             url: 'http://www.teedesign.ae/api/save',
    //             headers: {'Content-Type': 'application/x-www-form-urlencoded'},
    //             transformRequest: function(obj) {
    //                 var str = [];
    //                 for(var p in obj)
    //                 str.push(encodeURIComponent(p) + "=" + encodeURIComponent(obj[p]));
    //                 return str.join("&");
    //             },
    //             data: fd
    //         }).success(function (data) {console.log(data)});

    //console.log(fd);
    // var formData = new FormData();
    // formData.append('compaign_json', JSON.stringify(compaign_json));

    //console.log(data);
    // DashboardService.LaunchCompaign(formData).then(function(data){
    //     //console.clear();
    //     console.log(data);
    // });



    // }

    $scope.$watchCollection('vm.front_design', function () {
        vm.flipX = false;
        vm.flipY = false;
    })

    $scope.$watchCollection('vm.back_design', function () {
        vm.flipX = false;
        vm.flipY = false;
    })

    $scope.$watchCollection('vm.left_design', function () {
        vm.flipX = false;
        vm.flipY = false;
    })

    $scope.$watchCollection('vm.right_design', function () {
        vm.flipX = false;
        vm.flipY = false;
    })


    function outsideCollision($div1, $div2,z,side) {
      var x1 = $div1.offset().left;
      var y1 = $div1.offset().top;
    //   var h1 = $div1.outerHeight(true);
    //   var w1 = $div1.outerWidth(true);

      var w1 =document.querySelector("#box"+z+side+" svg").getBoundingClientRect().width;
    var h1 =document.querySelector("#box"+z+side+" svg").getBoundingClientRect().height;


      var b1 = y1 + h1;
      var r1 = x1 + w1;
      var x2 = $div2.offset().left;
      var y2 = $div2.offset().top;
      var h2 = $div2.outerHeight(true);
      var w2 = $div2.outerWidth(true);
      var b2 = y2 + h2;
      var r2 = x2 + w2;

      if (b1 < y2 || y1 > b2 || r1 < x2 || x1 > r2) return false;
      return true;
    }


    function collision($div1, $div2,z,side) {
        var x1 = $div1.offset().left;
        var y1 = $div1.offset().top;
        // var h1 = $div1.outerHeight(true);
        // var w1 = $div1.outerWidth(true);
        var w1 =document.querySelector("#box"+z+side+" svg").getBoundingClientRect().width;
        var h1 =document.querySelector("#box"+z+side+" svg").getBoundingClientRect().height;

        var b1 = y1 + h1;
        var r1 = x1 + w1;
        var x2 = $div2.offset().left;
        var y2 = $div2.offset().top;
        var h2 = $div2.outerHeight(true);
        var w2 = $div2.outerWidth(true);
        var b2 = y2 + h2;
        var r2 = x2 + w2;



        //console.log(w2,z,side,"#box"+z+side);


        //y1>=2 b1- < y2 || y1 > (b2-h1) || r1 < x2 || x1 > r2
        if (((b1 - h1) < y2) || (y1 > (b2 - h1)) || ((r1 - w1) < x2) || (x1 > (r2 - w1))) return false;
        return true;
    }



    // window.setInterval(function() {
    // 	if(!collision($('#test1'), $('#test2'))){
    //          $('.printable-area').addClass('crossing_border');
    // 	}
    // 	else $('.printable-area').removeClass('crossing_border');
    // }, 200);


    function getRotationDegrees(obj) {
        var matrix = obj.css("-webkit-transform") ||
            obj.css("-moz-transform") ||
            obj.css("-ms-transform") ||
            obj.css("-o-transform") ||
            obj.css("transform");
        if (matrix !== 'none') {
            var values = matrix.split('(')[1].split(')')[0].split(',');
            var a = values[0];
            var b = values[1];
            var angle = Math.round(Math.atan2(b, a) * (180 / Math.PI));
        } else { var angle = 0; }
        return (angle < 0) ? angle + 360 : angle;
    }


   


  function launch_compaign() {
        //  debugger;
        if(vm.front_design.length + vm.back_design.length + vm.right_design.length + vm.left_design.length <=0){
            Alert("Please design at least one side before you launch.","Warning");
            return;
        }

        if (vm.front_design.length || vm.back_design.length || vm.right_design.length || vm.left_design.length) {
            var to_be_sent = [];
            var shirts = _.where(vm.shirts_in_styles, { selected: true });
            for (var i = 0; i < shirts.length; i++) {
                to_be_sent[i] = {};
                to_be_sent[i].id = shirts[i].id;
                to_be_sent[i].price = shirts[i].total_unit_cost + shirts[i].profit;

                var colors = _.where(shirts[i].colors_available, { selected: true });
                var clr_ids = [];
                for (var j = 0; j < colors.length; j++) {
                    clr_ids.push(colors[j].color_id);
                }
                //  debugger;
                to_be_sent[i].colors = clr_ids;
                to_be_sent[i].profit = shirts[i].profit;
                //id price colors


            }
            var defaultProduct = {};
            defaultProduct.id = vm.selectedShirt.id;
            var clrs_default = [];
            for (var i = 0; i < vm.selectedShirt.colors_available.length; i++) {
                var color = vm.selectedShirt.colors_available[i];
                if (color.selected)
                    clrs_default.push(color.color_id);


            }
            var tags_arr = "";
            for (var i = 0; i < vm.tags.length - 1; i++) {

                tags_arr = tags_arr + vm.tags[i] + ",";

            }

            tags_arr += vm.tags[vm.tags.length - 1];
            //  tags_arr=tags_arr.substr(0,tags_arr.length-1);
            defaultProduct.colors = clrs_default;
            // debugger;
            // var days = Number(vm.compaign_length.trim().substr(0, 1));
            // var compaign_json = new FormData();
            // compaign_json.append("name",vm.compaign_title);
            // compaign_json.append("url",vm.url);
            // compaign_json.append("description",$scope.htmlcontenttwo);
            // compaign_json.append("length",days);
            // compaign_json.append("products",to_be_sent);
            // compaign_json.append("defaultProduct",defaultProduct);
            // compaign_json.append("tags",tags_arr);
            // compaign_json.append("category_id",vm.description.category);

            var compaign_json = {};
            compaign_json.name = vm.compaign_title;
            compaign_json.url = vm.url;
            // compaign_json.description = vm.desc;
            // compaign_json.description = $scope.desc;
            compaign_json.description = (($scope.desc) ? $scope.desc : '');
            compaign_json.length = vm.compaign_length;
            compaign_json.products = JSON.stringify(to_be_sent);
            compaign_json.defaultProduct = JSON.stringify(defaultProduct);
            compaign_json.tags = JSON.stringify(tags_arr);
            compaign_json.category_id = vm.description.category;
            compaign_json.tipping_point = vm.goal_target;

            console.log("jskldfjklasdf", compaign_json.description);

            var sides = [];
            var activeSide = vm.default_tab === 1 ? "front" : vm.default_tab === 2 ? "back" : vm.default_tab === 3 ? "left" : "right";
            // var front = $("#box1front");
            // var svg = front.find('svg');
            // var view = svg[0].getAttributeNS(null, 'viewBox');
            // var arr = view.split(' ');
            var counter = 0;



            for (var i = 0; i < 4; i++) {

                if (i == 0) {


                    var printableAreaWidthWithoutPX = $('.printable-area').css('width').substr(0, $('.printable-area').css('width').length - 2);
                    var printableAreaHeightWithoutPX = $('.printable-area').css('height').substr(0, $('.printable-area').css('height').length - 2);
                    console.log(printableAreaWidthWithoutPX);

                    console.log(printableAreaHeightWithoutPX);
                    var svgParent = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                    //svgParent.setAttribute('style', 'border: 1px solid black');
                    svgParent.setAttribute('width', vm.selectedShirt.printable_front_width);
                    svgParent.setAttribute('height', vm.selectedShirt.printable_front_height);
                    svgParent.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                    svgParent.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");
                    svgParent.setAttributeNS(null, 'viewBox', '0 0 ' + vm.selectedShirt.printable_front_width + ' ' + vm.selectedShirt.printable_front_height);

                    //  var svgimg = document.createElementNS('http://www.w3.org/2000/svg','image');
                    //                 svgimg.setAttributeNS('http://www.w3.org/2000/svg','height','100');
                    //                 svgimg.setAttributeNS('http://www.w3.org/2000/svg','width','100');
                    //                 svgimg.setAttributeNS('http://www.w3.org/1999/xlink','href','http://i.imgur.com/LQIsf.jpg');
                    //                 svgimg.setAttributeNS('http://www.w3.org/2000/svg','x','0');
                    //                 svgimg.setAttributeNS('http://www.w3.org/2000/svg','y','0');


                    var layers = [];
                    for (var j = 0; j < vm.front_design.length; j++) {
                        $('#box' + vm.front_design[j].z_index + "front");
                        var element = $('#box' + vm.front_design[j].z_index + "front");
                        var pipe = j == 0 ? "||" : "";
                        // svgText += _.escape(element.prop('outerHTML')) + pipe;

                        //element.find('svg')[0].removeAttribute("style");
                        //    svgText = element.find('image')[0].outerHTML;
                        //    svgText = svgText.replace(/\r?\n|\r/g,' ');
                        //    svgText = svgText.replace(/\t/g,'');


                        //    svgText = svgText.replace(/\r?\n|\r/g,' ');
                        //    svgText = svgText.replace(/\t/g,'');
                        // console.log(element.find('svg')[0].outerHTML);
                    }

                    for (var k = 0; k < vm.front_design.length; k++) {
                        if (vm.front_design[k].type === 'text') {
                            var obj_ = vm.front_design[k];
                            console.log(vm.front_design[k].z_index);
                            //  var _obj = _.findWhere(vm.graphics, {id:obj_.id});
                            var element = $('#box' + vm.front_design[k].z_index + "front");
                            var svg = element.children('svg')[0];
                            var view = svg.getAttributeNS(null, 'viewBox');
                            var arr = view.split(' ');


                            var element1 = $('#box' + vm.front_design[k].z_index + "front svg");
                            var svg1 = element.children('svg')[0];
                            var view1 = svg.getAttributeNS(null, 'viewBox');
                            var arr1 = view.split(' ');

                            var left = parseInt(element.css('left')) || 136;
                            var top = parseInt(element.css('top')) || 67;




                            var innerSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");
                            innerSvg.setAttributeNS(null, 'width', parseFloat(element.css('width')));
                            innerSvg.setAttributeNS(null, 'height', parseFloat(element.css('height')));
                            innerSvg.setAttributeNS(null, 'preserveAspectRatio', "none");
                            innerSvg.setAttributeNS(null, 'x', left);
                            innerSvg.setAttributeNS(null, 'y', top);
                            innerSvg.setAttributeNS(null, 'viewBox', '0 0 ' + arr1[2] + ' ' + arr1[3]);

                            // console.log(innerSvg);
                            var g = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            // g.setAttributeNS('http://www.w3.org/2000/svg','transform',$('#box' + vm.front_design[k].z_index + "front").css('transform'));


                            if (vm.front_design.length) {

                                var tranformText = element.prop('outerHTML');
                                tranformText = tranformText.substr(tranformText.indexOf('transform'), 85);
                                if (tranformText !== ">") {
                                    tranformText = tranformText.substr(tranformText.indexOf('('), tranformText.indexOf(');'));
                                    var regExp = /\(([^)]+)\)/;
                                    var matches = regExp.exec(tranformText);
                                    tranformText = matches[1];
                                    tranformText = tranformText.substr(0, tranformText.length - 3);

                                    var deg = (parseFloat(tranformText) * (180 / Math.PI));
                                    var cx = parseFloat($('#box' + vm.front_design[k].z_index + "front svg").css('width')) / 2;
                                    var cy = parseFloat($('#box' + vm.front_design[k].z_index + "front svg").css('height')) / 2;

                                    cx = cx + parseFloat(element.css('left'));
                                    cy = cy + parseFloat(element.css('top'));

                                    var rotation = "rotate(" + deg + "," + cx + "," + cy + ")";


                                    console.log(rotation);

                                    g.setAttributeNS('http://www.w3.org/2000/svg', 'transform', rotation);
                                }
                            }


                            var svgText;

                            svgText = $('#box' + vm.front_design[k].z_index + "front text").clone()[0];


                            console.log(svgText);


                            // svgText.children[0].setAttributeNS(null, 'width', parseInt(element.css('width')));
                            // svgText.children[0].setAttributeNS(null, 'height', parseInt(element.css('height')));

                            if (!obj_.transform)
                                obj_.transform = 'translate(0, 0) scale(1,1)';

                            g.appendChild(innerSvg);
                            var flipG = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            flipG.setAttributeNS('http://www.w3.org/2000/svg', 'transform', obj_.transform);

                            innerSvg.appendChild(flipG);
                            flipG.appendChild(svgText)
                            svgParent.appendChild(g);

                           // g.appendChild(innerSvg);
                           // innerSvg.appendChild(svgText);
                            //svgParent.appendChild(g);


                            var textObj = {
                                "string": vm.front_design[k].text,
                                font: {
                                    id: k,
                                    family: vm.front_design[k].font,
                                    filename: vm.front_design[k].font,
                                    tags: [],
                                    priority: 1,
                                    url: null
                                },
                                fontSize: 24,
                                tag: "Popular",
                                lineHeight: 1.2,
                                alignment: "center",
                                colors: obj_.color,
                                outlineThickness: 0,
                                transformations: [],
                                matrix: {},
                                beingEdited: false,
                                origin: "Native",
                                type: "Text",
                                bbox: {
                                    x: parseInt(arr[0]),
                                    y: parseInt(arr[1]),
                                    width: parseInt(arr[2]),
                                    height: parseInt(arr[3]),
                                },
                                filename: "",
                                "preserve-colors": false,
                                fillColor: {
                                    id: k,
                                    value: vm.front_design[k].color,
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                outlineColor: {
                                    id: "default" + k,
                                    value: "#000000",
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                newDesignData: {
                                    transform: {

                                    }
                                }

                            }

                            layers.push(textObj);
                        }

                        if (vm.front_design[k].type === "svg" || vm.front_design[k].type === "img") {

                            counter++;

                            var element = $('#box' + vm.front_design[k].z_index + "front");
                            var svgText;

                            var obj_ = vm.front_design[k];

                            //  var tranformText = element.prop('outerHTML');
                            // tranformText = tranformText.substr(tranformText.indexOf('transform'),85);
                            // tranformText = tranformText.substr(tranformText.indexOf('('),tranformText.indexOf(');'));
                            // var regExp = /\(([^)]+)\)/;
                            // var matches = regExp.exec(tranformText);
                            // tranformText = matches[1];
                            // tranformText = tranformText.substr(0,tranformText.length-3);

                            // var deg = (parseFloat(tranformText)*(180/Math.PI));

                            // var rotation = "rotate("+deg+",)";


                            // console.log(rotation);



                            svgText = element.find('image').clone()[0];

                            var g = document.createElementNS("http://www.w3.org/2000/svg", "g");




                            if (vm.front_design.length) {

                                var tranformText = element.prop('outerHTML');

                                tranformText = tranformText.substr(tranformText.indexOf('transform: r'), 85);

                                if (tranformText !== ">") {
                                    tranformText = tranformText.substr(tranformText.indexOf('('), tranformText.indexOf(');'));
                                    var regExp = /\(([^)]+)\)/;
                                    var matches = regExp.exec(tranformText);
                                    tranformText = matches[1];
                                    tranformText = tranformText.substr(0, tranformText.length - 3);

                                    var deg = (parseFloat(tranformText) * (180 / Math.PI));
                                    var cx = parseFloat($('#box' + vm.front_design[k].z_index + "front svg").css('width')) / 2;
                                    var cy = parseFloat($('#box' + vm.front_design[k].z_index + "front svg").css('height')) / 2;

                                    cx = cx + parseFloat(element.css('left'));
                                    cy = cy + parseFloat(element.css('top'));

                                    var rotation = "rotate(" + deg + "," + cx + "," + cy + ")";
                                    console.log(rotation);

                                    g.setAttributeNS('http://www.w3.org/2000/svg', 'transform', rotation);
                                }
                            }


                            // console.log(svgText);
                            var left = parseFloat(element.css('left')) || 30;
                            var top = parseFloat(element.css('top')) || 30;

                            //var element1 = $('#box' + vm.front_design[k].z_index + "front svg");
                            //var svg1 = element.children('svg')[0];
                            //var view1 = svg1.getAttributeNS(null, 'viewBox');
                            //var arr1 = view1.split(' ');

                            var innerSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");
                            innerSvg.setAttributeNS(null, 'width', parseFloat(element.css('width')));
                            innerSvg.setAttributeNS(null, 'height', parseFloat(element.css('height')));
                            innerSvg.setAttributeNS(null, 'preserveAspectRatio', "none");
                            innerSvg.setAttributeNS(null, 'x', left);
                            innerSvg.setAttributeNS(null, 'y', top);
                            // innerSvg.setAttributeNS(null, 'viewBox', '0 ' + +arr1[1] + ' ' + arr1[2] + ' ' + arr1[3]);

                            //console.log(arr1);

                            //svgText.setAttributeNS(null, 'x', left);
                            //svgText.setAttributeNS(null, 'y', top);
                            svgText.setAttributeNS(null, 'width', parseFloat($('#box' + vm.front_design[k].z_index + "front svg").css('width')));
                            svgText.setAttributeNS(null, 'height', parseFloat($('#box' + vm.front_design[k].z_index + "front svg").css('height')));
                            svgText.setAttributeNS(null, 'y', 0);

                            //console.log("x",parseFloat(element.css('left')));
                            //console.log("y",parseFloat(element.css('top')));
                            //console.log("width",parseFloat($('#box' + vm.front_design[k].z_index + "front svg").css('width')));
                            //console.log("height",parseFloat($('#box' + vm.front_design[k].z_index + "front svg").css('height')));


                            if (!obj_.transform)
                                obj_.transform = 'translate(0, 0) scale(1,1)';

                            var flipG = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            flipG.setAttributeNS('http://www.w3.org/2000/svg', 'transform', obj_.transform);


                            g.appendChild(innerSvg);
                            innerSvg.appendChild(flipG);
                            flipG.appendChild(svgText);
                            svgParent.appendChild(g);
                            //  $('#global')[0].appendChild(oldSvg);
                            //console.log(svgParent).prop('html');

                            var obj_ = vm.front_design[k];


                            var _obj = _.findWhere(vm.graphics, { id: obj_.id });
                            var element = $('#box' + vm.front_design[k].z_index + "front");
                            var svg = element.find('svg');
                            var view = svg[0].getAttributeNS(null, 'viewBox');
                            var arr = view.split(' ');

                            var svgObj = {
                                "urlParams": {
                                    "filename": ""
                                },
                                name: "",
                                format: "",
                                "original_key": "",
                                sourceFilename: "",
                                svg_key: "",
                                png_key: "",
                                category: [],

                                uploadId: null,
                                initialScale: 1,
                                transformations: [],
                                matrix: {},
                                beingEdited: false,
                                origin: "Native",
                                type: "Art",
                                bbox: {
                                    x: parseInt(arr[0]),
                                    y: parseInt(arr[1]),
                                    width: parseInt(arr[2]),
                                    height: parseInt(arr[3]),
                                },
                                filename: "",
                                "preserve-colors": false,
                                fillColor: {
                                    id: k,
                                    value: vm.front_design[k].color,
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                outlineColor: {
                                    id: "default" + k,
                                    value: "#000000",
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                newDesignData: {
                                    transform: {

                                    }
                                }

                            }

                            if (vm.front_design[k].type === "svg") {
                                svgObj.colors = _obj.colors;
                            }

                            layers.push(svgObj);

                        }
                    }

                    console.log(svgParent);

                    svgParent = svgParent.outerHTML;
                    // svgParent = svgParent.replace(/\r?\n|\r/g, ' ');
                    // svgParent = svgParent.replace(/\t/g, '');
                    console.log(svgParent);



                    var front = {
                        removeLayerBinding: {},
                        name: "front",
                        layers: layers,
                        colors: vm.total_front_colors,


                        beingViewed: false,
                        initialFreeTransformAttrs: null,
                        initialPrintableArea: null,
                        referencePoint: {},
                        ppi: 18,
                        editable: null,
                        sequence: 2,
                        // priorPrintableBox: parseInt(arr[0]) + "," + $("#box1front").parent().parent().parent().css('top').substr(0, $("#box1front").parent().parent().parent().css('top').length - 2) + "," + parseInt(arr[2]) + ",240",
                        scaleAndMove: null,
                        rasterImageInfo: [],
                        svg: svgParent

                    }

                    if (vm.front_design.length) {
                        front.bbox = {
                            x: parseInt(arr[0]),
                            y: parseInt(arr[1]),
                            width: parseInt(arr[2]),
                            height: parseInt(arr[3]),
                        };
                        front.absoluteBBox = {
                            x: parseInt(arr[0]),
                            y: parseInt(arr[1]),
                            width: parseInt(arr[2]),
                            height: parseInt(arr[3]),
                        }

                    }


                    console.log(front);

                    sides.push(front);
                    //  console.log(front);

                }

                if (i == 1) {

                    var printableAreaWidthWithoutPX = $('.printable-area').css('width').substr(0, $('.printable-area').css('width').length - 2);
                    var printableAreaHeightWithoutPX = $('.printable-area').css('height').substr(0, $('.printable-area').css('height').length - 2);

                    var svgParent1 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                    //svgParent1.setAttribute('style', 'border: 1px solid black');
                    svgParent1.setAttribute('width', vm.selectedShirt.printable_back_width);
                    svgParent1.setAttribute('height', vm.selectedShirt.printable_back_height);
                    svgParent1.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                    svgParent1.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");
                    svgParent1.setAttributeNS(null, 'viewBox', '0 0 ' + vm.selectedShirt.printable_back_width + ' ' + vm.selectedShirt.printable_back_height);

                    var layers = [];
                    for (var j = 0; j < vm.back_design.length; j++) {
                        var element = $('#box' + vm.back_design[j].z_index + "back");
                        var pipe = j == 0 ? "||" : "";
                        // svgText += _.escape(element.prop('outerHTML')) + pipe;

                        //    element.find('svg')[0].removeAttribute("style");
                        //    svgText = element.find('svg')[0].outerHTML;
                        //    svgText = svgText.replace(/\r?\n|\r/g,' ');
                        //    svgText = svgText.replace(/\t/g,'');
                    }

                    for (var k = 0; k < vm.back_design.length; k++) {
                        if (vm.back_design[k].type === 'text') {

                            var obj_ = vm.back_design[k];
                            // var _obj = _.findWhere(vm.graphics, {id:obj_.id});
                            var element = $('#box' + vm.back_design[k].z_index + "back");
                            var svg = element.children('svg')[0];
                            var view = svg.getAttributeNS(null, 'viewBox');
                            var arr = view.split(' ');


                            var element1 = $('#box' + vm.back_design[k].z_index + "back svg");
                            var svg1 = element.children('svg')[0];
                            var view1 = svg.getAttributeNS(null, 'viewBox');
                            var arr1 = view.split(' ');

                            var left = parseFloat(element.css('left')) || 0;
                            var top = parseFloat(element.css('top')) || 0;


                            var innerSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");
                            innerSvg.setAttributeNS(null, 'preserveAspectRatio', "none");
                            innerSvg.setAttributeNS(null, 'width', parseFloat(element.css('width')));
                            innerSvg.setAttributeNS(null, 'height', parseFloat(element.css('height')));
                            innerSvg.setAttributeNS(null, 'x', left);
                            innerSvg.setAttributeNS(null, 'y', top);
                            innerSvg.setAttributeNS(null, 'viewBox', '0 0 ' + arr1[2] + ' ' + arr1[3]);

                            // console.log(innerSvg);
                            var g = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            // g.setAttributeNS('http://www.w3.org/2000/svg','transform',$('#box' + vm.front_design[k].z_index + "front").css('transform'));


                            if (vm.back_design.length) {

                                var tranformText = element.prop('outerHTML');
                                tranformText = tranformText.substr(tranformText.indexOf('rotate('), 85);
                                if (tranformText !== ">") {
                                    tranformText = tranformText.substr(tranformText.indexOf('('), tranformText.indexOf(');'));
                                    var regExp = /\(([^)]+)\)/;
                                    var matches = regExp.exec(tranformText);
                                    tranformText = matches[1];
                                    tranformText = tranformText.substr(0, tranformText.length - 3);

                                    var deg = (parseFloat(tranformText) * (180 / Math.PI));
                                    var cx = parseFloat($('#box' + vm.back_design[k].z_index + "back svg").css('width')) / 2;
                                    var cy = parseFloat($('#box' + vm.back_design[k].z_index + "back svg").css('height')) / 2;

                                    cx = cx + parseFloat(element.css('left'));
                                    cy = cy + parseFloat(element.css('top'));

                                    var rotation = "rotate(" + deg + "," + cx + "," + cy + ")";


                                    console.log(rotation);

                                    g.setAttributeNS('http://www.w3.org/2000/svg', 'transform', rotation);
                                }
                            }

                            var svgText;

                            svgText = $('#box' + vm.back_design[k].z_index + "back text").clone()[0];

                            if (!obj_.transform)
                                obj_.transform = 'translate(0, 0) scale(1,1)';

                            g.appendChild(innerSvg);
                            var flipG = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            flipG.setAttributeNS('http://www.w3.org/2000/svg', 'transform', obj_.transform);

                            innerSvg.appendChild(flipG);
                            flipG.appendChild(svgText)
                            svgParent1.appendChild(g);


                            console.log(svgText);

                            //g.appendChild(innerSvg);
                            //innerSvg.appendChild(svgText);






                            // svgText.children[0].setAttributeNS(null, 'x', left);
                            // svgText.children[0].setAttributeNS(null, 'y', top);
                            // svgText.children[0].setAttributeNS(null, 'width', parseInt(element.css('width')));
                            // svgText.children[0].setAttributeNS(null, 'height', parseInt(element.css('height')));
                            svgParent1.appendChild(g);

                            var textObj = {
                                "string": vm.back_design[k].text,
                                font: {
                                    id: k,
                                    family: vm.back_design[k].font,
                                    filename: vm.back_design[k].font,
                                    tags: [],
                                    priority: 1,
                                    url: null
                                },
                                fontSize: 24,
                                tag: "Popular",
                                lineHeight: 1.2,
                                alignment: "center",
                                colors: obj_.color,
                                outlineThickness: 0,
                                transformations: [],
                                matrix: {},
                                beingEdited: false,
                                origin: "Native",
                                type: "Text",
                                bbox: {
                                    x: parseInt(arr[0]),
                                    y: parseInt(arr[1]),
                                    width: parseInt(arr[2]),
                                    height: parseInt(arr[3]),
                                },
                                filename: "",
                                "preserve-colors": false,
                                fillColor: {
                                    id: k,
                                    value: vm.back_design[k].color,
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                outlineColor: {
                                    id: "default" + k,
                                    value: "#000000",
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                newDesignData: {
                                    transform: {

                                    }
                                }

                            }

                            layers.push(textObj);
                        }

                        if (vm.back_design[k].type === "svg" || vm.back_design[k].type === "img") {

                            var element = $('#box' + vm.back_design[k].z_index + "back");
                            var svgText;
                            var obj_ = vm.back_design[k];


                            svgText = element.find('image').clone()[0];


                            var g = document.createElementNS("http://www.w3.org/2000/svg", "g");

                           

                            // console.log($('#box' + vm.back_design[k].z_index + "back").prop('outerHTML'));

                            if (vm.back_design.length) {

                                var tranformText = $('#box' + vm.back_design[k].z_index + "back").prop('outerHTML');
                                tranformText = tranformText.substr(tranformText.indexOf('rotate('), 85);
                                if (tranformText !== ">") {
                                    tranformText = tranformText.substr(tranformText.indexOf('('), tranformText.indexOf(');'));
                                    console.log(tranformText);
                                    var regExp = /\(([^)]+)\)/;



                                    var matches = regExp.exec(tranformText);

                                    tranformText = matches[1];
                                    tranformText = tranformText.substr(0, tranformText.length - 3);

                                    var deg = (parseFloat(tranformText) * (180 / Math.PI));
                                    var cx = parseFloat($('#box' + vm.back_design[k].z_index + "back svg").css('width')) / 2;
                                    var cy = parseFloat($('#box' + vm.back_design[k].z_index + "back svg").css('height')) / 2;

                                    cx = cx + parseFloat(element.css('left'));
                                    cy = cy + parseFloat(element.css('top'));

                                    var rotation = "rotate(" + deg + "," + cx + "," + cy + ")";


                                    console.log(rotation);

                                    g.setAttributeNS('http://www.w3.org/2000/svg', 'transform', rotation);
                                }
                            }




                            var left = parseFloat(element.css('left')) || 0;
                            var top = parseFloat(element.css('top')) || 0;

                            var innerSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");
                            innerSvg.setAttributeNS(null, 'preserveAspectRatio', "none");
                            innerSvg.setAttributeNS(null, 'width', parseFloat(element.css('width')));
                            innerSvg.setAttributeNS(null, 'height', parseFloat(element.css('height')));
                            innerSvg.setAttributeNS(null, 'x', left);
                            innerSvg.setAttributeNS(null, 'y', top);

                            //svgText.setAttributeNS(null, 'x', left);
                            //svgText.setAttributeNS(null, 'y', top);
                            svgText.setAttributeNS(null, 'width', parseInt($('#box' + vm.back_design[k].z_index + "back svg").css('width')));
                            svgText.setAttributeNS(null, 'height', parseInt($('#box' + vm.back_design[k].z_index + "back svg").css('height')));
                            svgText.setAttributeNS(null, 'y', 0);

                            if (!obj_.transform)
                                obj_.transform = 'translate(0, 0) scale(1,1)';

                            var flipG = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            flipG.setAttributeNS('http://www.w3.org/2000/svg', 'transform', obj_.transform);


                            g.appendChild(innerSvg);
                            innerSvg.appendChild(flipG);
                            flipG.appendChild(svgText);
                            svgParent1.appendChild(g);

                            // console.log(svgText);
                            //g.appendChild(svgText);
                            //svgParent1.appendChild(g);


                            var obj_ = vm.back_design[k];
                            var _obj = _.findWhere(vm.graphics, { id: obj_.id });
                            //   debugger;
                            var element = $('#box' + vm.back_design[k].z_index + "back");
                            var svg = element.find('svg');
                            var view = svg[0].getAttributeNS(null, 'viewBox');
                            var arr = view.split(' ');
                            var svgObj = {
                                "urlParams": {
                                    "filename": ""
                                },
                                name: "",
                                format: "",
                                "original_key": "",
                                sourceFilename: "",
                                svg_key: "",
                                png_key: "",
                                category: [],

                                uploadId: null,
                                initialScale: 1,
                                transformations: [],
                                matrix: {},
                                beingEdited: false,
                                origin: "Native",
                                type: "Art",
                                bbox: {
                                    x: parseInt(arr[0]),
                                    y: parseInt(arr[1]),
                                    width: parseInt(arr[2]),
                                    height: parseInt(arr[3]),
                                },
                                filename: "",
                                "preserve-colors": false,
                                fillColor: {
                                    id: k,
                                    value: vm.back_design[k].color,
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                outlineColor: {
                                    id: "default" + k,
                                    value: "#000000",
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                newDesignData: {
                                    transform: {

                                    }
                                }

                            }

                            if (vm.back_design[k].type === "svg") {
                                svgObj.colors = _obj.colors
                            }

                            layers.push(svgObj);

                        }
                    }

                    console.log(svgParent1);

                    svgParent1 = svgParent1.outerHTML;
                    // svgParent1 = svgParent1.replace(/\r?\n|\r/g, ' ');
                    // svgParent1 = svgParent1.replace(/\t/g, '');
                    console.log(svgParent1);


                    var back = {
                        removeLayerBinding: {},
                        name: "back",
                        layers: layers,
                        colors: vm.total_back_colors,

                        beingViewed: false,
                        initialFreeTransformAttrs: null,
                        initialPrintableArea: null,
                        referencePoint: {},
                        ppi: 18,
                        editable: null,
                        sequence: 2,
                        // priorPrintableBox: parseInt(arr[0]) + "," + $("#box1back").parent().parent().parent().css('top').substr(0, $("#box1back").parent().parent().parent().css('top').length - 2) + "," + parseInt(arr[2]) + ",240",
                        scaleAndMove: null,
                        rasterImageInfo: [],
                        svg: svgParent1

                    }

                    if (vm.back_design.length) {
                        back.bbox = {
                            x: parseInt(arr[0]),
                            y: parseInt(arr[1]),
                            width: parseInt(arr[2]),
                            height: parseInt(arr[3]),
                        };
                        back.absoluteBBox = {
                            x: parseInt(arr[0]),
                            y: parseInt(arr[1]),
                            width: parseInt(arr[2]),
                            height: parseInt(arr[3]),
                        };
                        // back.svg= svgParent1
                    }

                    sides.push(back);

                }

                if (i == 2) {

                    var svgParent2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                   // svgParent2.setAttribute('style', 'border: 1px solid black');
                    svgParent2.setAttribute('width', vm.selectedShirt.printable_left_width);
                    svgParent2.setAttribute('height', vm.selectedShirt.printable_left_height);
                    svgParent2.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                    svgParent2.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");

                    svgParent2.setAttributeNS(null, 'viewBox', '0 0 ' + vm.selectedShirt.printable_left_width + ' ' + vm.selectedShirt.printable_left_height);
                    var layers = [];
                    for (var j = 0; j < vm.left_design.length; j++) {
                        var element = $('#box' + vm.left_design[j].z_index + "left");
                        var pipe = j == 0 ? "||" : "";
                        //svgText += _.escape(element.prop('outerHTML')) + pipe;

                        //    element.find('svg')[0].removeAttribute("style");
                        //    svgText = element.find('svg')[0].outerHTML;
                        //    svgText = svgText.replace(/\r?\n|\r/g,' ');
                        //    svgText = svgText.replace(/\t/g,'');
                    }

                    for (var k = 0; k < vm.left_design.length; k++) {
                        if (vm.left_design[k].type === 'text') {

                            var obj_ = vm.left_design[k];
                            // var _obj = _.findWhere(vm.graphics, {id:obj_.id});
                            var element = $('#box' + vm.left_design[k].z_index + "left");
                            var svg = element.children('svg')[0];
                            var view = svg.getAttributeNS(null, 'viewBox');
                            var arr = view.split(' ');

                            var element1 = $('#box' + vm.left_design[k].z_index + "left svg");
                            var svg1 = element.children('svg')[0];
                            var view1 = svg.getAttributeNS(null, 'viewBox');
                            var arr1 = view.split(' ');

                            var left = parseFloat(element.css('left')) || 0;
                            var top = parseFloat(element.css('top')) || 0;


                            var innerSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");
                            innerSvg.setAttributeNS(null, 'preserveAspectRatio', "none");
                            innerSvg.setAttributeNS(null, 'width', parseFloat(element.css('width')));
                            innerSvg.setAttributeNS(null, 'height', parseFloat(element.css('height')));

                            innerSvg.setAttributeNS(null, 'x', left);
                            innerSvg.setAttributeNS(null, 'y', top);
                            innerSvg.setAttributeNS(null, 'viewBox', '0 0 ' + arr1[2] + ' ' + arr1[3]);

                            // console.log(innerSvg);
                            var g = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            // g.setAttributeNS('http://www.w3.org/2000/svg','transform',$('#box' + vm.front_design[k].z_index + "front").css('transform'));


                            if (vm.left_design.length) {

                                var tranformText = element.prop('outerHTML');
                                tranformText = tranformText.substr(tranformText.indexOf('rotate('), 85);
                                if (tranformText !== ">") {
                                    tranformText = tranformText.substr(tranformText.indexOf('('), tranformText.indexOf(');'));
                                    var regExp = /\(([^)]+)\)/;
                                    var matches = regExp.exec(tranformText);
                                    tranformText = matches[1];
                                    tranformText = tranformText.substr(0, tranformText.length - 3);

                                    var deg = (parseFloat(tranformText) * (180 / Math.PI));
                                    var cx = parseFloat($('#box' + vm.left_design[k].z_index + "left svg").css('width')) / 2;
                                    var cy = parseFloat($('#box' + vm.left_design[k].z_index + "left svg").css('height')) / 2;

                                    cx = cx + parseFloat(element.css('left'));
                                    cy = cy + parseFloat(element.css('top'));

                                    var rotation = "rotate(" + deg + "," + cx + "," + cy + ")";


                                    console.log(rotation);

                                    g.setAttributeNS('http://www.w3.org/2000/svg', 'transform', rotation);
                                }
                            }



                            var svgText;

                            svgText = $('#box' + vm.left_design[k].z_index + "left text").clone()[0];

                            if (!obj_.transform)
                                obj_.transform = 'translate(0, 0) scale(1,1)';

                            g.appendChild(innerSvg);
                            var flipG = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            flipG.setAttributeNS('http://www.w3.org/2000/svg', 'transform', obj_.transform);

                            innerSvg.appendChild(flipG);
                            flipG.appendChild(svgText)
                            svgParent2.appendChild(g);

                            console.log(svgText);

                            // var left = parseFloat(element.css('left')) || 0;
                            // var top = parseFloat(element.css('top')) || 0;

                            // svgText.children[0].setAttributeNS(null, 'x', left);
                            // svgText.children[0].setAttributeNS(null, 'y', top);
                            // svgText.children[0].setAttributeNS(null, 'width', parseInt(element.css('width')));
                            // svgText.children[0].setAttributeNS(null, 'height', parseInt(element.css('height')));
                            //g.appendChild(innerSvg);
                            //innerSvg.appendChild(svgText)
                            //svgParent2.appendChild(g);
                            var textObj = {
                                "string": vm.left_design[k].text,
                                font: {
                                    id: k,
                                    family: vm.left_design[k].font,
                                    filename: vm.left_design[k].font,
                                    tags: [],
                                    priority: 1,
                                    url: null
                                },
                                fontSize: 24,
                                tag: "Popular",
                                lineHeight: 1.2,
                                alignment: "center",
                                colors: obj_.color,
                                outlineThickness: 0,
                                transformations: [],
                                matrix: {},
                                beingEdited: false,
                                origin: "Native",
                                type: "Text",
                                bbox: {
                                    x: parseInt(arr[0]),
                                    y: parseInt(arr[1]),
                                    width: parseInt(arr[2]),
                                    height: parseInt(arr[3]),
                                },
                                filename: "",
                                "preserve-colors": false,
                                fillColor: {
                                    id: k,
                                    value: vm.left_design[k].color,
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                outlineColor: {
                                    id: "default" + k,
                                    value: "#000000",
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                newDesignData: {
                                    transform: {

                                    }
                                }

                            }

                            layers.push(textObj);
                        }

                        if (vm.left_design[k].type === "svg" || vm.left_design[k].type === "img") {

                            var element = $('#box' + vm.left_design[k].z_index + "left");
                            var svgText;
                            var obj_ = vm.left_design[k];

                            svgText = element.find('image').clone()[0];

                            var g = document.createElementNS("http://www.w3.org/2000/svg", "g");



                            if (vm.left_design.length) {

                                var tranformText = element.prop('outerHTML');
                                tranformText = tranformText.substr(tranformText.indexOf('rotate('), 85);
                                if (tranformText !== ">") {
                                    tranformText = tranformText.substr(tranformText.indexOf('('), tranformText.indexOf(');'));
                                    var regExp = /\(([^)]+)\)/;
                                    var matches = regExp.exec(tranformText);
                                    tranformText = matches[1];
                                    tranformText = tranformText.substr(0, tranformText.length - 3);

                                    var deg = (parseFloat(tranformText) * (180 / Math.PI));
                                    var cx = parseFloat($('#box' + vm.left_design[k].z_index + "left svg").css('width')) / 2;
                                    var cy = parseFloat($('#box' + vm.left_design[k].z_index + "left svg").css('height')) / 2;

                                    cx = cx + parseFloat(element.css('left'));
                                    cy = cy + parseFloat(element.css('top'));

                                    var rotation = "rotate(" + deg + "," + cx + "," + cy + ")";


                                    console.log(rotation);

                                    g.setAttributeNS('http://www.w3.org/2000/svg', 'transform', rotation);
                                }
                            }




                            var left = parseFloat(element.css('left')) || 0;
                            var top = parseFloat(element.css('top')) || 0;

                            var innerSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");
                            innerSvg.setAttributeNS(null, 'width', parseFloat(element.css('width')));
                            innerSvg.setAttributeNS(null, 'height', parseFloat(element.css('height')));
                            innerSvg.setAttributeNS(null, 'x', left);
                            innerSvg.setAttributeNS(null, 'y', top);


                            svgText.setAttributeNS(null, 'width', parseInt($('#box' + vm.left_design[k].z_index + "left svg").css('width')));
                            svgText.setAttributeNS(null, 'height', parseInt($('#box' + vm.left_design[k].z_index + "left svg").css('height')));
                            svgText.setAttributeNS(null, 'y', 0);

                            if (!obj_.transform)
                                obj_.transform = 'translate(0, 0) scale(1,1)';

                            var flipG = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            flipG.setAttributeNS('http://www.w3.org/2000/svg', 'transform', obj_.transform);


                            g.appendChild(innerSvg);
                            innerSvg.appendChild(flipG);
                            flipG.appendChild(svgText);
                            svgParent2.appendChild(g);

                            //svgText.setAttributeNS(null, 'x', left);
                            //svgText.setAttributeNS(null, 'y', top);



                            //g.appendChild(svgText);
                            //svgParent2.appendChild(g);


                           
                            var _obj = _.findWhere(vm.graphics, { id: obj_.id });
                            //   debugger;
                            var element = $('#box' + vm.left_design[k].z_index + "left");
                            var svg = element.find('svg');
                            var view = svg[0].getAttributeNS(null, 'viewBox');
                            var arr = view.split(' ');

                            var svgObj = {
                                "urlParams": {
                                    "filename": ""
                                },
                                name: "",
                                format: "",
                                "original_key": "",
                                sourceFilename: "",
                                svg_key: "",
                                png_key: "",
                                category: [],

                                uploadId: null,
                                initialScale: 1,
                                transformations: [],
                                matrix: {},
                                beingEdited: false,
                                origin: "Native",
                                type: "Art",
                                bbox: {
                                    x: parseInt(arr[0]),
                                    y: parseInt(arr[1]),
                                    width: parseInt(arr[2]),
                                    height: parseInt(arr[3]),
                                },
                                filename: "",
                                "preserve-colors": false,
                                fillColor: {
                                    id: k,
                                    value: vm.left_design[k].color,
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                outlineColor: {
                                    id: "default" + k,
                                    value: "#000000",
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                newDesignData: {
                                    transform: {

                                    }
                                }

                            }

                            if (vm.left_design[k].type === "svg") {

                                svgObj.colors = _obj.colors
                            }

                            layers.push(svgObj);

                        }
                    }

                    console.log(svgParent2);

                    svgParent2 = svgParent2.outerHTML;
                    // svgParent2 = svgParent2.replace(/\r?\n|\r/g, ' ');
                    // svgParent2 = svgParent2.replace(/\t/g, '');
                    console.log(svgParent2);


                    var left = {
                        removeLayerBinding: {},
                        name: "left",
                        layers: layers,
                        colors: vm.total_left_colors,

                        beingViewed: false,
                        initialFreeTransformAttrs: null,
                        initialPrintableArea: null,
                        referencePoint: {},
                        ppi: 18,
                        editable: null,
                        sequence: 2,
                        // priorPrintableBox: parseInt(arr[0]) + "," + $("#box1left").parent().parent().parent().css('top').substr(0, $("#box1left").parent().parent().parent().css('top').length - 2) + "," + parseInt(arr[2]) + ",240",
                        scaleAndMove: null,
                        rasterImageInfo: [],
                        svg: svgParent2,


                    }

                    if (vm.left_design.length) {
                        left.bbox = {
                            x: parseInt(arr[0]),
                            y: parseInt(arr[1]),
                            width: parseInt(arr[2]),
                            height: parseInt(arr[3]),
                        },
                        left.absoluteBBox = {
                            x: parseInt(arr[0]),
                            y: parseInt(arr[1]),
                            width: parseInt(arr[2]),
                            height: parseInt(arr[3]),
                        }

                    }

                    sides.push(left);
                }

                if (i == 3) {

                    var printableAreaWidthWithoutPX = $('.printable-area').css('width').substr(0, $('.printable-area').css('width').length - 2);
                    var printableAreaHeightWithoutPX = $('.printable-area').css('height').substr(0, $('.printable-area').css('height').length - 2);
                    var svgParent3 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                   // svgParent3.setAttribute('style', 'border: 1px solid black');
                    svgParent3.setAttribute('width', vm.selectedShirt.printable_right_width);
                    svgParent3.setAttribute('height', vm.selectedShirt.printable_right_height);
                    svgParent3.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                    svgParent3.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");
                    svgParent3.setAttributeNS(null, 'viewBox', '0 0 ' + vm.selectedShirt.printable_right_width + ' ' + vm.selectedShirt.printable_right_height);

                    var layers = [];
                    for (var j = 0; j < vm.right_design.length; j++) {
                        var element = $('#box' + vm.right_design[j].z_index + "right");
                        var pipe = j == 0 ? "||" : "";
                        // svgText += _.escape(element.prop('outerHTML')) + pipe;

                        //      element.find('svg')[0].removeAttribute("style");
                        //    svgText = element.find('svg')[0].outerHTML;
                        //    svgText = svgText.replace(/\r?\n|\r/g,' ');
                        //    svgText = svgText.replace(/\t/g,'');
                    }

                    for (var k = 0; k < vm.right_design.length; k++) {
                        if (vm.right_design[k].type === 'text') {



                            var obj_ = vm.right_design[k];
                            // var _obj = _.findWhere(vm.graphics, {id:obj_.id});
                            var element = $('#box' + vm.right_design[k].z_index + "right");
                            var svg = element.children('svg')[0];
                            var view = svg.getAttributeNS(null, 'viewBox');
                            var arr = view.split(' ');


                            var element1 = $('#box' + vm.right_design[k].z_index + "right svg");
                            var svg1 = element.children('svg')[0];
                            var view1 = svg.getAttributeNS(null, 'viewBox');
                            var arr1 = view.split(' ');

                            var left = parseFloat(element.css('left')) || 0;
                            var top = parseFloat(element.css('top')) || 0;


                            var innerSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");
                            innerSvg.setAttributeNS(null, 'preserveAspectRatio', "none");
                            innerSvg.setAttributeNS(null, 'width', parseFloat(element.css('width')));
                            innerSvg.setAttributeNS(null, 'height', parseFloat(element.css('height')));
                            innerSvg.setAttributeNS(null, 'x', left);
                            innerSvg.setAttributeNS(null, 'y', top);
                            innerSvg.setAttributeNS(null, 'viewBox', '0 0 ' + arr1[2] + ' ' + arr1[3]);

                            // console.log(innerSvg);
                            var g = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            // g.setAttributeNS('http://www.w3.org/2000/svg','transform',$('#box' + vm.front_design[k].z_index + "front").css('transform'));


                            if (vm.right_design.length) {

                                var tranformText = element.prop('outerHTML');
                                tranformText = tranformText.substr(tranformText.indexOf('rotate('), 85);
                                if (tranformText !== ">") {
                                    tranformText = tranformText.substr(tranformText.indexOf('('), tranformText.indexOf(');'));
                                    var regExp = /\(([^)]+)\)/;
                                    var matches = regExp.exec(tranformText);
                                    tranformText = matches[1];
                                    tranformText = tranformText.substr(0, tranformText.length - 3);

                                    var deg = (parseFloat(tranformText) * (180 / Math.PI));
                                    var cx = parseFloat($('#box' + vm.right_design[k].z_index + "right svg").css('width')) / 2;
                                    var cy = parseFloat($('#box' + vm.right_design[k].z_index + "right svg").css('height')) / 2;

                                    cx = cx + parseFloat(element.css('left'));
                                    cy = cy + parseFloat(element.css('top'));

                                    var rotation = "rotate(" + deg + "," + cx + "," + cy + ")";


                                    console.log(rotation);

                                    g.setAttributeNS('http://www.w3.org/2000/svg', 'transform', rotation);
                                }
                            }


                            var svgText;

                            svgText = $('#box' + vm.right_design[k].z_index + "right text").clone()[0];


                            if (!obj_.transform)
                                obj_.transform = 'translate(0, 0) scale(1,1)';

                            g.appendChild(innerSvg);
                            var flipG = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            flipG.setAttributeNS('http://www.w3.org/2000/svg', 'transform', obj_.transform);

                            innerSvg.appendChild(flipG);
                            flipG.appendChild(svgText)
                            svgParent3.appendChild(g);




                            // console.log(svgText);
                            // var left = parseInt(element.css('left')) || 0;
                            //    var top = parseInt(element.css('top')) || 0;


                            // svgText.children[0].setAttributeNS(null, 'x', left);
                            // svgText.children[0].setAttributeNS(null, 'y', top);
                            // svgText.children[0].setAttributeNS(null, 'width', parseInt(element.css('width')));
                            // svgText.children[0].setAttributeNS(null, 'height', parseInt(element.css('height')));
                            // g.appendChild(svgText);
                            //g.appendChild(innerSvg);
                            //innerSvg.appendChild(svgText);


                            //svgParent3.appendChild(g);

                            var textObj = {
                                "string": vm.right_design[k].text,
                                font: {
                                    id: k,
                                    family: vm.right_design[k].font,
                                    filename: vm.right_design[k].font,
                                    tags: [],
                                    priority: 1,
                                    url: null
                                },
                                fontSize: 24,
                                tag: "Popular",
                                lineHeight: 1.2,
                                alignment: "center",
                                colors: obj_.color,
                                outlineThickness: 0,
                                transformations: [],
                                matrix: {},
                                beingEdited: false,
                                origin: "Native",
                                type: "Text",
                                bbox: {
                                    x: parseInt(arr[0]),
                                    y: parseInt(arr[1]),
                                    width: parseInt(arr[2]),
                                    height: parseInt(arr[3]),
                                },
                                filename: "",
                                "preserve-colors": false,
                                fillColor: {
                                    id: k,
                                    value: vm.right_design[k].color,
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                outlineColor: {
                                    id: "default" + k,
                                    value: "#000000",
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                newDesignData: {
                                    transform: {

                                    }
                                }

                            }

                            layers.push(textObj);
                        }

                        if (vm.right_design[k].type === "svg" || vm.right_design[k].type === "img") {
                            var element = $('#box' + vm.right_design[k].z_index + "right");
                            var svgText;
                            var obj_ = vm.right_design[k];

                            svgText = element.find('image').clone()[0];
                            var g = document.createElementNS("http://www.w3.org/2000/svg", "g");

                            if (vm.right_design.length) {


                                var tranformText = element.prop('outerHTML');
                                tranformText = tranformText.substr(tranformText.indexOf('rotate('), 85);
                                if (tranformText !== ">") {
                                    tranformText = tranformText.substr(tranformText.indexOf('('), tranformText.indexOf(');'));
                                    var regExp = /\(([^)]+)\)/;
                                    var matches = regExp.exec(tranformText);
                                    tranformText = matches[1];
                                    tranformText = tranformText.substr(0, tranformText.length - 3);

                                    var deg = (parseFloat(tranformText) * (180 / Math.PI));
                                    var cx = parseFloat($('#box' + vm.right_design[k].z_index + "right svg").css('width')) / 2;
                                    var cy = parseFloat($('#box' + vm.right_design[k].z_index + "right svg").css('height')) / 2;

                                    cx = cx + parseFloat(element.css('left'));
                                    cy = cy + parseFloat(element.css('top'));

                                    var rotation = "rotate(" + deg + "," + cx + "," + cy + ")";


                                    console.log(rotation);

                                    g.setAttributeNS('http://www.w3.org/2000/svg', 'transform', rotation);
                                }

                            }

                            var left = parseInt(element.css('left')) || 0;
                            var top = parseInt(element.css('top')) || 0;


                            var innerSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns:xlink", "http://www.w3.org/1999/xlink");
                            innerSvg.setAttributeNS("http://www.w3.org/2000/xmlns/", "xmlns", "http://www.w3.org/2000/svg");
                            innerSvg.setAttributeNS(null, 'width', parseFloat(element.css('width')));
                            innerSvg.setAttributeNS(null, 'height', parseFloat(element.css('height')));
                            innerSvg.setAttributeNS(null, 'x', left);
                            innerSvg.setAttributeNS(null, 'y', top);


                            svgText.setAttributeNS(null, 'width', parseInt($('#box' + vm.right_design[k].z_index + "left svg").css('width')));
                            svgText.setAttributeNS(null, 'height', parseInt($('#box' + vm.right_design[k].z_index + "left svg").css('height')));
                            svgText.setAttributeNS(null, 'y', 0);

                            if (!obj_.transform)
                                obj_.transform = 'translate(0, 0) scale(1,1)';

                            var flipG = document.createElementNS("http://www.w3.org/2000/svg", "g");
                            flipG.setAttributeNS('http://www.w3.org/2000/svg', 'transform', obj_.transform);


                            g.appendChild(innerSvg);
                            innerSvg.appendChild(flipG);
                            flipG.appendChild(svgText);
                            svgParent3.appendChild(g);


                            //svgText.setAttributeNS(null, 'x', left);
                            //svgText.setAttributeNS(null, 'y', top);
                            //svgText.setAttributeNS(null, 'width', parseInt($('#box' + vm.right_design[k].z_index + "right svg").css('width')));
                            //svgText.setAttributeNS(null, 'height', parseInt($('#box' + vm.right_design[k].z_index + "right svg").css('height')));
                            //g.appendChild(svgText);
                            //svgParent3.appendChild(g);

                            var obj_ = vm.right_design[k];
                            var _obj = _.findWhere(vm.graphics, { id: obj_.id });
                            //   debugger;
                            var element = $('#box' + vm.right_design[k].z_index + "right");
                            var svg = element.find('svg');
                            var view = svg[0].getAttributeNS(null, 'viewBox');
                            var arr = view.split(' ');

                            var svgObj = {
                                "urlParams": {
                                    "filename": ""
                                },
                                name: "",
                                format: "",
                                "original_key": "",
                                sourceFilename: "",
                                svg_key: "",
                                png_key: "",
                                category: [],

                                uploadId: null,
                                initialScale: 1,
                                transformations: [],
                                matrix: {},
                                beingEdited: false,
                                origin: "Native",
                                type: "Art",
                                bbox: {
                                    x: parseInt(arr[0]),
                                    y: parseInt(arr[1]),
                                    width: parseInt(arr[2]),
                                    height: parseInt(arr[3]),
                                },
                                filename: "",
                                "preserve-colors": false,
                                fillColor: {
                                    id: k,
                                    value: vm.right_design[k].color,
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                outlineColor: {
                                    id: "default" + k,
                                    value: "#000000",
                                    origin: null,
                                    heather: false,
                                    texture: "",
                                },
                                newDesignData: {
                                    transform: {

                                    }
                                }

                            }

                            if (vm.right_design[k].type === "svg") {
                                svgObj.colors = _obj.colors
                            }

                            layers.push(svgObj);

                        }
                    }

                    console.log(svgParent3);

                    svgParent3 = svgParent3.outerHTML;
                    // svgParent3 = svgParent3.replace(/\r?\n|\r/g, ' ');
                    // svgParent3 = svgParent3.replace(/\t/g, '');
                    console.log(svgParent3);

                    var right = {
                        removeLayerBinding: {},
                        name: "right",
                        layers: layers,
                        colors: vm.total_right_colors,

                        beingViewed: false,
                        initialFreeTransformAttrs: null,
                        initialPrintableArea: null,
                        referencePoint: {},
                        ppi: 18,
                        editable: null,
                        sequence: 2,
                        // priorPrintableBox: parseInt(arr[0]) + "," + $("#box1right").parent().parent().parent().css('top').substr(0, $("#box1right").parent().parent().parent().css('top').length - 2) + "," + parseInt(arr[2]) + ",240",
                        scaleAndMove: null,
                        rasterImageInfo: [],
                        svg: svgParent3


                    }

                    if (vm.right_design.length) {
                        right.bbox = {
                            x: parseInt(arr[0]),
                            y: parseInt(arr[1]),
                            width: parseInt(arr[2]),
                            height: parseInt(arr[3]),
                        };
                        right.absoluteBBox = {
                            x: parseInt(arr[0]),
                            y: parseInt(arr[1]),
                            width: parseInt(arr[2]),
                            height: parseInt(arr[3]),
                        };

                    }

                    sides.push(right);
                }
            }

        }




        var design = {
            lookupId: "f2345",
            sides: sides,
            activeSide: activeSide,
            high_quality_artwork: true,
            crap_quality_artwork: false,
            product_type_id: parseInt(vm.selectedShirt.id),
            frontColors: vm.total_front_colors.length,
            flashFront: false,
            backColors: vm.total_back_colors.length,
            flashBack: false,
            leftColors: vm.total_left_colors.length,
            flashLeft: false,
            rightColors: vm.total_right_colors.length,
            flashRight: false

        }



        // console.log(JSON.stringify(obj,null,4));

        // for (o in obj) {
        //     console.log(o, obj[o]);
        // }

        console.log(sides);
        compaign_json.design = JSON.stringify(design);
        compaign_json.priorPrintableArea = JSON.stringify({ "front": "152,100,220,330", "back": "155,60,215,330", "left": "155,60,215,330", "right": "155,60,215,330" });
        //console.log(JSON.stringify(compaign_json,null,4));

        //  var fd = objectToFormData(compaign_json);

        //console.log(fd);
        // var formData = new FormData();
        // formData.append('compaign_json', JSON.stringify(compaign_json));
        DashboardService.LaunchCompaign(compaign_json).then(function (data) {
            //console.clear();
            //     console.log(data);

            if (data.code == 210) {
                //  loginModal.$promise.then(loginModal.show);                    
                $scope.show_login_form();
                return;
            }
            else if (data.code == 200) {
                //  location = baseURL+data.data.campaign;
                //   location.reload(true);
                //  $http({method: 'GET', url: baseURL+data.data.campaign});
                window.location.href = serverURL + data.data.campaign;
            }
            else if (data.code == 211) {
                alert(data.message);
                // window.location.href = serverURL+data.data.campaign;
            }
            console.log(data)


        });

    }

   vm.flipX = false;
    vm.flipx = function () {

        if (vm.default_tab === 1) {
            var e = $("#box" + vm.frontObject.z_index + "front"),
                        svg = e.find('svg'),
                        transform = '';
            var viewBox = svg[0].getAttributeNS(null, 'viewBox');
            var size = viewBox.split(' ');
            var width = parseFloat(e.css('width'));
            var height = parseFloat(e.css('height'));

            console.log(width, height);



            if (!vm.flipX) {
                if (vm.flipY) {
                    if (vm.frontObject.type === "img" || vm.frontObject.type === "svg") {
                        vm.frontObject.transform = 'translate(' + width + ',' + height + ' ) scale(-1,-1)';
                    }
                    else vm.frontObject.transform = 'translate(' + size[2] + ',' + size[3] + ' ) scale(-1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,-1)');
                }
                else {
                    if (vm.frontObject.type === "img" || vm.frontObject.type === "svg") {
                        vm.frontObject.transform = 'translate(' + width + ', 0) scale(-1,1)';
                    }
                    else vm.frontObject.transform = 'translate(' + size[2] + ', 0) scale(-1,1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,1)');
                }
                vm.flipX = true;
            }
            else {

                if (vm.flipY) {
                    if (vm.frontObject.type === "img" || vm.frontObject.type === "svg") {
                        vm.frontObject.transform = 'translate(0,' + height + ' ) scale(1,-1)';
                    }
                    else vm.frontObject.transform = 'translate(0, ' + size[3] + ') scale(1,-1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,-1)');
                }
                else {
                    if (vm.frontObject.type === "img" || vm.frontObject.type === "svg") {
                        vm.frontObject.transform = 'translate(0,0) scale(1,1)';
                    }
                    else vm.frontObject.transform = 'translate(0, 0) scale(1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,1)');
                }
                vm.flipX = false;
            }

            var g = jQuery(svg[0]).children('g');
        }

        if (vm.default_tab === 2) {
            var e = $("#box" + vm.backObject.z_index + "back"),
                        svg = e.find('svg'),
                        transform = '';
            var viewBox = svg[0].getAttributeNS(null, 'viewBox');
            var size = viewBox.split(' ');
            var width = parseFloat(e.css('width'));
            var height = parseFloat(e.css('height'));

            console.log(width, height);



            if (!vm.flipX) {
                if (vm.flipY) {
                    if (vm.backObject.type === "img" || vm.backObject.type === "svg") {
                        vm.backObject.transform = 'translate(' + width + ',' + height + ' ) scale(-1,-1)';
                    }
                    else vm.backObject.transform = 'translate(' + size[2] + ',' + size[3] + ' ) scale(-1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,-1)');
                }
                else {
                    if (vm.backObject.type === "img" || vm.backObject.type === "svg") {
                        vm.backObject.transform = 'translate(' + width + ', 0) scale(-1,1)';
                    }
                    else vm.backObject.transform = 'translate(' + size[2] + ', 0) scale(-1,1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,1)');
                }
                vm.flipX = true;
            }
            else {

                if (vm.flipY) {
                    if (vm.backObject.type === "img" || vm.backObject.type === "svg") {
                        vm.backObject.transform = 'translate(0,' + height + ' ) scale(1,-1)';
                    }
                    else vm.backObject.transform = 'translate(0, ' + size[3] + ') scale(1,-1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,-1)');
                }
                else {
                    if (vm.backObject.type === "img" || vm.backObject.type === "svg") {
                        vm.backObject.transform = 'translate(0,0) scale(1,1)';
                    }
                    else vm.backObject.transform = 'translate(0, 0) scale(1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,1)');
                }
                vm.flipX = false;
            }

            var g = jQuery(svg[0]).children('g');
        }

        if (vm.default_tab === 3) {
            var e = $("#box" + vm.leftObject.z_index + "left"),
                        svg = e.find('svg'),
                        transform = '';
            var viewBox = svg[0].getAttributeNS(null, 'viewBox');
            var size = viewBox.split(' ');
            var width = parseFloat(e.css('width'));
            var height = parseFloat(e.css('height'));

            console.log(width, height);



            if (!vm.flipX) {
                if (vm.flipY) {
                    if (vm.leftObject.type === "img" || vm.leftObject.type === "svg") {
                        vm.leftObject.transform = 'translate(' + width + ',' + height + ' ) scale(-1,-1)';
                    }
                    else vm.leftObject.transform = 'translate(' + size[2] + ',' + size[3] + ' ) scale(-1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,-1)');
                }
                else {
                    if (vm.leftObject.type === "img" || vm.leftObject.type === "svg") {
                        vm.leftObject.transform = 'translate(' + width + ', 0) scale(-1,1)';
                    }
                    else vm.leftObject.transform = 'translate(' + size[2] + ', 0) scale(-1,1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,1)');
                }
                vm.flipX = true;
            }
            else {

                if (vm.flipY) {
                    if (vm.leftObject.type === "img" || vm.leftObject.type === "svg") {
                        vm.leftObject.transform = 'translate(0,' + height + ' ) scale(1,-1)';
                    }
                    else vm.leftObject.transform = 'translate(0, ' + size[3] + ') scale(1,-1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,-1)');
                }
                else {
                    if (vm.leftObject.type === "img" || vm.leftObject.type === "svg") {
                        vm.leftObject.transform = 'translate(0,0) scale(1,1)';
                    }
                    else vm.leftObject.transform = 'translate(0, 0) scale(1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,1)');
                }
                vm.flipX = false;
            }

            var g = jQuery(svg[0]).children('g');
        }

        if (vm.default_tab === 4) {
            var e = $("#box" + vm.rightObject.z_index + "right"),
                        svg = e.find('svg'),
                        transform = '';
            var viewBox = svg[0].getAttributeNS(null, 'viewBox');
            var size = viewBox.split(' ');
            var width = parseFloat(e.css('width'));
            var height = parseFloat(e.css('height'));

            console.log(width, height);



            if (!vm.flipX) {
                if (vm.flipY) {
                    if (vm.rightObject.type === "img" || vm.rightObject.type === "svg") {
                        vm.rightObject.transform = 'translate(' + width + ',' + height + ' ) scale(-1,-1)';
                    }
                    else vm.rightObject.transform = 'translate(' + size[2] + ',' + size[3] + ' ) scale(-1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,-1)');
                }
                else {
                    if (vm.rightObject.type === "img" || vm.rightObject.type === "svg") {
                        vm.rightObject.transform = 'translate(' + width + ', 0) scale(-1,1)';
                    }
                    else vm.rightObject.transform = 'translate(' + size[2] + ', 0) scale(-1,1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,1)');
                }
                vm.flipX = true;
            }
            else {

                if (vm.flipY) {
                    if (vm.rightObject.type === "img" || vm.rightObject.type === "svg") {
                        vm.rightObject.transform = 'translate(0,' + height + ' ) scale(1,-1)';
                    }
                    else vm.rightObject.transform = 'translate(0, ' + size[3] + ') scale(1,-1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,-1)');
                }
                else {
                    if (vm.rightObject.type === "img" || vm.rightObject.type === "svg") {
                        vm.rightObject.transform = 'translate(0,0) scale(1,1)';
                    }
                    else vm.rightObject.transform = 'translate(0, 0) scale(1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,1)');
                }
                vm.flipX = false;
            }

            var g = jQuery(svg[0]).children('g');
        }


    }


    vm.flipY = false;
    vm.flipYcounter = -1;

    vm.flipy = function () {

        if (vm.default_tab === 1) {
            var e = $("#box" + vm.frontObject.z_index + "front"),
                        svg = e.find('svg'),
                        transform = '';
            var viewBox = svg[0].getAttributeNS(null, 'viewBox');
            var size = viewBox.split(' ');
            var width = parseFloat(e.css('width'));
            var height = parseFloat(e.css('height'));

            console.log(width, height);



            if (!vm.flipY) {
                if (vm.flipX) {
                    if (vm.frontObject.type === "img" || vm.frontObject.type === "svg") {
                        vm.frontObject.transform = 'translate(' + width + ',' + height + ' ) scale(-1,-1)';
                    }
                    else vm.frontObject.transform = 'translate(' + size[2] + ',' + size[3] + ' ) scale(-1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,-1)');
                }
                else {
                    if (vm.frontObject.type === "img" || vm.frontObject.type === "svg") {
                        vm.frontObject.transform = 'translate(0,' + height + ') scale(1,-1)';
                    }
                    else vm.frontObject.transform = 'translate(0,' + size[3] + ') scale(1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(1,-1)');
                }
                vm.flipY = true;
            }
            else {

                if (vm.flipX) {
                    if (vm.frontObject.type === "img" || vm.frontObject.type === "svg") {
                        vm.frontObject.transform = 'translate(' + width + ',0 ) scale(-1,1)';
                    }
                    else vm.frontObject.transform = 'translate(' + size[2] + ',0) scale(-1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(-1,1)');
                }
                else {
                    if (vm.frontObject.type === "img" || vm.frontObject.type === "svg") {
                        vm.frontObject.transform = 'translate(0,0) scale(1,1)';
                    }
                    else vm.frontObject.transform = 'translate(0, 0) scale(1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,1)');
                }
                vm.flipY = false;
            }

            var g = jQuery(svg[0]).children('g');
        }

        if (vm.default_tab === 2) {
            var e = $("#box" + vm.backObject.z_index + "back"),
                        svg = e.find('svg'),
                        transform = '';
            var viewBox = svg[0].getAttributeNS(null, 'viewBox');
            var size = viewBox.split(' ');
            var width = parseFloat(e.css('width'));
            var height = parseFloat(e.css('height'));

            console.log(width, height);



            if (!vm.flipY) {
                if (vm.flipX) {
                    if (vm.backObject.type === "img" || vm.backObject.type === "svg") {
                        vm.backObject.transform = 'translate(' + width + ',' + height + ' ) scale(-1,-1)';
                    }
                    else vm.backObject.transform = 'translate(' + size[2] + ',' + size[3] + ' ) scale(-1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,-1)');
                }
                else {
                    if (vm.backObject.type === "img" || vm.backObject.type === "svg") {
                        vm.backObject.transform = 'translate(0,' + height + ') scale(1,-1)';
                    }
                    else vm.backObject.transform = 'translate(0,' + size[3] + ') scale(1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(1,-1)');
                }
                vm.flipY = true;
            }
            else {

                if (vm.flipX) {
                    if (vm.backObject.type === "img" || vm.backObject.type === "svg") {
                        vm.backObject.transform = 'translate(' + width + ',0 ) scale(-1,1)';
                    }
                    else vm.backObject.transform = 'translate(' + size[2] + ',0) scale(-1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(-1,1)');
                }
                else {
                    if (vm.backObject.type === "img" || vm.backObject.type === "svg") {
                        vm.backObject.transform = 'translate(0,0) scale(1,1)';
                    }
                    else vm.backObject.transform = 'translate(0, 0) scale(1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,1)');
                }
                vm.flipY = false;
            }

            var g = jQuery(svg[0]).children('g');
        }

        if (vm.default_tab === 3) {
            var e = $("#box" + vm.leftObject.z_index + "left"),
                        svg = e.find('svg'),
                        transform = '';
            var viewBox = svg[0].getAttributeNS(null, 'viewBox');
            var size = viewBox.split(' ');
            var width = parseFloat(e.css('width'));
            var height = parseFloat(e.css('height'));

            console.log(width, height);



            if (!vm.flipY) {
                if (vm.flipX) {
                    if (vm.leftObject.type === "img" || vm.leftObject.type === "svg") {
                        vm.leftObject.transform = 'translate(' + width + ',' + height + ' ) scale(-1,-1)';
                    }
                    else vm.leftObject.transform = 'translate(' + size[2] + ',' + size[3] + ' ) scale(-1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,-1)');
                }
                else {
                    if (vm.leftObject.type === "img" || vm.leftObject.type === "svg") {
                        vm.leftObject.transform = 'translate(0,' + height + ') scale(1,-1)';
                    }
                    else vm.leftObject.transform = 'translate(0,' + size[3] + ') scale(1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(1,-1)');
                }
                vm.flipY = true;
            }
            else {

                if (vm.flipX) {
                    if (vm.leftObject.type === "img" || vm.leftObject.type === "svg") {
                        vm.leftObject.transform = 'translate(' + width + ',0 ) scale(-1,1)';
                    }
                    else vm.leftObject.transform = 'translate(' + size[2] + ',0) scale(-1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(-1,1)');
                }
                else {
                    if (vm.leftObject.type === "img" || vm.leftObject.type === "svg") {
                        vm.leftObject.transform = 'translate(0,0) scale(1,1)';
                    }
                    else vm.leftObject.transform = 'translate(0, 0) scale(1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,1)');
                }
                vm.flipY = false;
            }

            var g = jQuery(svg[0]).children('g');
        }

        if (vm.default_tab === 4) {
            var e = $("#box" + vm.rightObject.z_index + "right"),
                        svg = e.find('svg'),
                        transform = '';
            var viewBox = svg[0].getAttributeNS(null, 'viewBox');
            var size = viewBox.split(' ');
            var width = parseFloat(e.css('width'));
            var height = parseFloat(e.css('height'));

            console.log(width, height);



            if (!vm.flipY) {
                if (vm.flipX) {
                    if (vm.rightObject.type === "img" || vm.rightObject.type === "svg") {
                        vm.rightObject.transform = 'translate(' + width + ',' + height + ' ) scale(-1,-1)';
                    }
                    else vm.rightObject.transform = 'translate(' + size[2] + ',' + size[3] + ' ) scale(-1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(-1,-1)');
                }
                else {
                    if (vm.rightObject.type === "img" || vm.rightObject.type === "svg") {
                        vm.rightObject.transform = 'translate(0,' + height + ') scale(1,-1)';
                    }
                    else vm.rightObject.transform = 'translate(0,' + size[3] + ') scale(1,-1)';
                    jQuery(svg[0]).css('transform', 'scale(1,-1)');
                }
                vm.flipY = true;
            }
            else {

                if (vm.flipX) {
                    if (vm.rightObject.type === "img" || vm.rightObject.type === "svg") {
                        vm.rightObject.transform = 'translate(' + width + ',0 ) scale(-1,1)';
                    }
                    else vm.rightObject.transform = 'translate(' + size[2] + ',0) scale(-1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,-1)');
                }
                else {
                    if (vm.rightObject.type === "img" || vm.rightObject.type === "svg") {
                        vm.rightObject.transform = 'translate(0,0) scale(1,1)';
                    }
                    else vm.rightObject.transform = 'translate(0, 0) scale(1,1)';
                    jQuery(svg[0]).css('transform', 'translate(0, 0) scale(1,1)');
                }
                vm.flipY = false;
            }

            var g = jQuery(svg[0]).children('g');
        }


    }
   
  

    vm.manage_colors = function(shirt){
            //    shirt.selected = false;
            vm.manage_colors_bool = true;
            vm.selectedModalShirt = shirt;
            angular.forEach(shirt.colors_available, function (color) {

                    for (var i = 0; i < vm.colors.length; i++) {
                        //   debugger;
                        var globalColor = vm.colors[i];
                        if (globalColor.id == color.color_id) {
                            color.color = "#" + globalColor.hex;
                        }
                    }

                });
                
                viewShirtColors.$promise.then(viewShirtColors.show);

        }

    vm.search_tees = function () {
        //    debugger;
        if (vm.tee_search_name) {
            //  window.location.href = ("www.google.com");
            window.location.assign(serverURL + "search?p=1&q=" + vm.tee_search_name);

        }


    }

    var objectToFormData = function (obj, form, namespace) {

        var fd = form || new FormData();
        var formKey;

        for (var property in obj) {
            if (obj.hasOwnProperty(property)) {

                if (namespace) {
                    formKey = namespace + '[' + property + ']';
                } else {
                    formKey = property;
                }

                // if the property is an object, but not a File,
                // use recursivity.
                if (typeof obj[property] === 'object' && !(obj[property] instanceof File)) {

                    objectToFormData(obj[property], fd, property);

                } else {

                    // if it's a string or a File object
                    fd.append(formKey, obj[property]);
                }

            }
        }

        return fd;

    };

    // function validate_url() {
    //     if (vm.url && vm.url.length > 5)

    //         alert("URL is available and valid");

    // }


    // function build_url() {

    //     vm.url = vm.compaign_title.replace('/', '-');
    //     vm.url = vm.url.replace(/\s/g, '');

    // }


     $scope.startsWith = function(state, viewValue) {
       return state.substr(0, viewValue.length).toLowerCase() == viewValue.toLowerCase();
    }

    function build_url() {

        vm.url = vm.compaign_title.replace('/', '-');
        vm.url = vm.url.replace(/\s/g, '');
        vm.url = vm.url.replace(/[^a-zA-Z0-9]/g, '-').toLowerCase();

        //debugger;

        if (vm.url.charAt(vm.url.length - 1) == '-') {
            
            while(vm.url.charAt(vm.url.length - 1) == '-'){
            vm.url = vm.url.substring(0, vm.url.length - 1);
            //return;
        }
        return;
    }
        validate_url();
    }



   function validate_url() {

        if (!vm.url.length) {
            vm.url_available = false;
            return;
        }
        vm.url = vm.url.replace(/[^a-zA-Z0-9]/g, '-');
        if (vm.url.charAt(vm.url.length - 1) == '-') {
            vm.url = vm.url.substring(0, vm.url.length - 1);
            return;
        }
        vm.is_loading_url = true;
        setTimeout(function () {
            DashboardService.ValidateURL(vm.url).then(function (data) {
                //   debugger;
                vm.is_loading_url = false;
                if (data.data.available)
                    vm.url_available = true;
                else vm.url_available = false;
                // console.clear();
            });
        }, 500);



        // alert("URL is available and valid");

    }


    vm.register_user = function () {
        DashboardService.SignUp(vm.sign_up).then(function (data) {
            if (data.code != 200) {
                Alert(data.data.user.msg);
            }
            else {
                sign_up_modal.$promise.then(sign_up_modal.hide);
                DashboardService.GetConfig().then(function (data) {
                    // debugger;
                    vm.user = {};
                    vm.user.pages = {};
                    vm.config = data.data;

                    //  vm.footer_pages = vm.config.pages;
                    if (vm.config.login.status == 1) {
                        vm.user.id = vm.config.login.id;
                        vm.user.name = vm.config.login.name;
                        vm.user.pages = vm.config.login.pages;
                    }



                });
                //  loadConfig(arg);
                Alert(data.data.user.msg);

            }


        });


    }


    vm.show_shirts_modal = function(){
        if(vm.manage_colors_bool){
        vm.manage_colors_bool = false;

        }

        else  viewOptionsModal.$promise.then(viewOptionsModal.show);
            viewShirtColors.$promise.then(viewShirtColors.hide);
   }


    $scope.show_signUpForm = function () {
        loginModal.$promise.then(loginModal.hide);
        sign_up_modal.$promise.then(sign_up_modal.show);

    }

    $scope.show_login_form = function () {

        sign_up_modal.$promise.then(sign_up_modal.hide);
        loginModal.$promise.then(loginModal.show);


    }


    var loginModal = $modal({
        scope: $scope,
        animation: 'am-fade-and-scale',
        placement: 'center',
        template: 'NgApp/Home/VIews/login_modal.html',
        show: false,
        title: 'Login with teedesign'
    });

    var cheatSheetModal = $modal({
        scope: $scope,
        animation: 'am-fade-and-scale',
        placement: 'center',
        template: 'NgApp/Home/VIews/cheatsheetmodal.html',
        show: false,
        title: 'Login with teedesign'
    });


    var sign_up_modal = $modal({
        scope: $scope,
        animation: 'am-fade-and-scale',
        placement: 'center',
        template: 'NgApp/Home/VIews/sign_up_modal.html',
        show: false,
        title: 'Login with teedesign'
    });




   vm.login = function (is_social) {
    	debugger;
    	var obj={};
    	if(!is_social){

    	vm.loginCred.is_social = false;
    	obj = vm.loginCred;

    	}

    	else{


    	vm.socialCred.is_social = true;
    	obj = vm.socialCred;

    	}
        DashboardService.Login(obj).then(function (data) {

            // debugger;
            if (data.code != 200) {
                Alert(data.message, "Oops!");
                loginModal.$promise.then(loginModal.hide);
            }
            else {
                vm.config.login.status = 1;
                loginModal.$promise.then(loginModal.hide);
                DashboardService.GetConfig().then(function (data) {

                    vm.user = {};
                    vm.user.pages = {};
                    vm.config = data.data;


                    if (vm.config.login.status == 1) {
                        vm.user.id = vm.config.login.id;
                        vm.user.name = vm.config.login.name;
                        vm.user.pages = vm.config.login.pages;
                    }



                });
                launch_compaign();
                //  loadConfig(arg);
            }

        });
    }


    function remove_tag(index) {

        vm.tags.splice(index, 1);

    }

    
    function extract_tags(e) {
        //    debugger;
        if (!vm.raw_tags) return;


        if (vm.tags.length > 4) {
            Alert("Max 5 tags are allowed");
            return;
        }
        if (vm.raw_tags.slice(-1) == ',' && vm.raw_tags.length == 1) {
            vm.raw_tags = "";
            return;

        }
        if (vm.raw_tags.slice(-1) == ',') {
            vm.tags.push(vm.raw_tags.substr(0, vm.raw_tags.length - 1));

            vm.raw_tags = "";
        }

        if (e.keyCode == 13) {
            vm.tags.push(vm.raw_tags.substr(0, vm.raw_tags.length));

            vm.raw_tags = "";


        }

        vm.tags = _.uniq(vm.tags);

    }

    vm.extract_tag_on_blur = function () {

        if (!vm.raw_tags) return;


        if (vm.tags.length > 4) {
            Alert("Max 5 tags are allowed");
            return;
        }
        if (vm.raw_tags.slice(-1) == ',' && vm.raw_tags.length == 1) {
            vm.raw_tags = "";
            return;

        }

        if (vm.raw_tags.slice(-1) == ',') {
            vm.tags.push(vm.raw_tags.substr(0, vm.raw_tags.length - 1));

            vm.raw_tags = "";
            return;
        }

        vm.tags.push(vm.raw_tags);
        vm.raw_tags = "";

    }


    $scope.validateImage = function (node) {
        // debugger;
        // nude.init();

        // nude.load(document.getElementById('custom'));
        // // Scan it
        // nude.scan(function (result) {
        //     debugger;
        //     alert(result ? "Nudity found in " + node.id + "!" : "Not nude");
        // });
    }




    function select_extra_shirt_color(color, deselect_others) {
        if(color.selected){

            if(vm.selectedModalShirt.id == vm.selectedShirt.id){
                    var selected_colors_num = _.where(vm.selectedModalShirt.colors_available, { selected: true }).length;
                    if(selected_colors_num==1) return;
            }

        }
        if (color.selected) {

            if((color.color == vm.shirt_color) && (vm.selectedModalShirt.id==vm.selectedShirt.id))
        		return;

            color.selected = false;
            vm.total_color_selected--;
            vm.limit_full = false;
            vm.calculate_total_shirt_cost(vm.selectedModalShirt);
        }
        else {
            if (vm.total_color_selected <= 14) {
                if (deselect_others) {
                    //  _.each();
                }
                vm.limit_full = false;
                color.selected = true;
                vm.total_color_selected++;
            }
            else {
                vm.limit_full = true;
            }
        }
        var sould_be_selected = _.where(vm.selectedModalShirt.colors_available, { selected: true }).length;
        if (!sould_be_selected) vm.selectedModalShirt.selected = false;
        else vm.selectedModalShirt.selected = true;

    }

    function select_extra_shirt_colors(shirt) {
        if (!shirt.selected && vm.total_color_selected == 15) return;

        if(shirt.id==vm.selectedShirt.id) {shirt.selected=true;shirt.colors_available[0].selected=true;return;}

      //  viewOptionsModal.$promise.then(viewOptionsModal.hide);
        //   debugger;
        // angular.forEach(shirt.colors_available, function (color) {

        //     for (var i = 0; i < vm.colors.length; i++) {
        //         //   debugger;
        //         var globalColor = vm.colors[i];
        //         if (globalColor.id == color.color_id) {
        //             color.color = "#" + globalColor.hex;
        //         }
        //     }

        // });
       

        vm.selectedModalShirt = shirt;
        shirt.selected = !shirt.selected;

        
        //  debugger;
        if (!shirt.selected) {

            var count = _.where(shirt.colors_available, { selected: true }).length;
            vm.total_color_selected -= (count);
            if (vm.total_color_selected < 0) vm.total_color_selected = 0;

               
            return;
        }
        //  select_extra_shirt_color(shirt.colors_available[0], true);

        var count = _.where(shirt.colors_available, { selected: true }).length;
        if (vm.total_color_selected + count > 15) {
            for (var i = 0; i < shirt.colors_available.length; i++) {
                var color = shirt.colors_available[i];

                color.selected = false;



            }
        }
        // setColor(shirt.colors_available[0]);
        shirt.colors_available[0].selected = true;
        count = _.where(shirt.colors_available, { selected: true }).length;
        vm.total_color_selected += count;
        var sould_be_selected = _.where(vm.selectedModalShirt.colors_available, { selected: true }).length;
        if (!sould_be_selected) vm.selectedModalShirt.selected = false;
      //  viewShirtColors.$promise.then(viewShirtColors.show);
    }

    function prepare_shirts() {




    }


    function is_available(shirt) {

        // if(vm.selectedShirt.id == shirt.id)
        // return false;
        return true;

    }



    vm.validate_goal_value = function(){

        // $("#goal_handler").rotatable({ handle: $('.handler') });
    
        if(!$scope.$$phase) $scope.$apply();
        if (vm.goal_target < vm.goal_range_min || vm.goal_target > vm.goal_range_max) {
                    //    debugger;
                        if (vm.goal_target < vm.goal_range_min)
                            vm.goal_target = vm.goal_range_min;
                        else vm.goal_target = vm.goal_range_max;
                        if (!$scope.$$phase) $scope.$apply();
                    }
                    if (!vm.goal_target) { vm.goal_target = vm.goal_range_min; if (!$scope.$$phase) $scope.$apply(); }


                    rotate_goal();


    }



     vm.quick_verify_goal = function(){
//debugger;
        vm.invalid_goal = false;

        if (vm.goal_target < vm.goal_range_min || vm.goal_target > vm.goal_range_max || !vm.goal_target) {

                vm.invalid_goal = true;
        }

    }

    function rotate_goal(arg, degree) {



        $timeout(function () {
            //debugger;

            $scope.$apply(function () {
//            	debugger;
            	if(degree){
            		if(degree>360)
            			degree = degree-360;
  //          		debugger;
            		//target = (360 / vm.goal_range_max ) * (degree);
            		target = (vm.goal_range_max * degree)/360;
            		vm.goal_target = parseInt(target);
            		return;

            	}

                if (!arg)
                    vm.goal_target = Number($('#goal_number').val());
                if (Number(vm.goal_target) > vm.goal_range_max || Number(vm.goal_target) < vm.goal_range_min) {
                    vm.invalid_goal = true;
                    return;
                }
                vm.invalid_goal = false;
                var degrees = Number($('#goal_number').val());
                if (arg)
                    degrees = (360 / vm.goal_range_max) * arg;
                else degrees = (360 / vm.goal_range_max) * degrees;
                //var element = $('#goal_handler');
                var element = $('#target4');
              //  element.css('transition', '-webkit-transform 800ms ease');
              	current_position_rotation = degrees * (Math.PI/180);
                element.css('-webkit-transform', 'rotate(' + degrees * (Math.PI/180) + 'rad)');

            });

        }, 100);



    }


      vm.deselectLayer = function () {
        var arg = vm.default_tab;
        if (arg === 1 || arg === 2 || arg === 3 || arg === 4) {

            $('.user-list').css({ 'visibility': 'hidden' });
            $('.printable-holder').css({ 'overflow': 'hidden' });
            $('.user-box').removeClass('border');

        }
    }

    function setColor(color) {

        var code_obj = _.findWhere(vm.colors, { hex: color.substr(1, color.length) });

        var selected_shirt = _.findWhere(vm.shirts_in_styles, { id: vm.selectedShirt.id });
        _.each(selected_shirt.colors_available, function (color_extra) { color_extra.selected = false; });
        var modal_obj = _.findWhere(selected_shirt.colors_available, { color_id: code_obj.id });
        modal_obj.selected = true;

        vm.shirt_color = color;
    }

    
   var startTextAlign = function (i,side) {
        var e = $("#box" + i + side);

        var $height = e.height();
        var ph = e.parent().parent().height();
        var top = (ph - $height)/1.25;
        var $width = e.width();
        var pw = e.parent().parent().width();
        var left = (pw - $width) / 2;
        e.css('top', top + 'px');
        e.css('left', left + 'px');
    }


    $scope.$watch('files', function (newVal, oldVal) {

        $scope.upload($scope.files);
    });
    $scope.$watch('file', function (newVal, oldVal) {

        if ($scope.file != null) {
            $scope.files = [$scope.file];
        }
    });
    $scope.log = '';

   $scope.upload = function (files) {
        if (!vm.agreed) {

            vm.alert_invalid('custom-checkbox');
            return;

        }

       // var files  = this.files;
       var width = 0;
       var height = 0;
  var errors = "";
  var _URL = window.URL;
  if (!files) {
    errors += "File upload not supported by your browser.";
  }
  if (files && files[0]) {
    for(var i=0; i<files.length; i++) {
      var file = files[i];

       if ((element = files[0])) {
      // 	debugger;
            img = new Image();
            img.onload = function () {
            //	debugger;
                console.log("Width:" + this.width + "   Height: " + this.height);
                $scope.uWidth = this.width;
                $scope.uHeight = this.height;
                $scope.ratio = this.height/this.width;
              
               if ( (/\.(png|jpeg|jpg|gif)$/i).test(file.name) ) {
      //  readImage( file ); 
      } else {
        errors +="You can upload only JPG, GIF and PNG file types\n";  
        Alert(errors,"Incorrect File Type!");
        return;
      }

      if(file.size>10240000 || file.size<15360){
      	
          errors+="File size should be between 15Kb and 9.5 MB\n";
          Alert(errors, "Invalid File Size");
          return;
}

                if((this.width>6000 || this.height>6000)|| (this.width<200 || this.height<200)){

            	errors+="Dimensions should be between 200x200 and 6000x6000\n";
                Alert(errors, "Wrong Image dimensions!");
                return;
            }
            // else if(this.width<500 || this.height<500){ 
            //     Alert("The image you uploaded has low resolution, Please keep it in small size or upload an image of higher resolution.", "WARNING");
            // }
            
          

       if (errors) {
    //Alert(errors); 
    return;
  }
  else send_to_server(files);


            };
            img.src = _URL.createObjectURL(element);


        }


     
     //  width =  files[0].width;
    }
  }
  //debugger;
//	width;
 


        // debugger;
       
    };


     function send_to_server(files){

    	 if (files && files.length) {
            vm.is_uploading_file = true;
            for (var i = 0; i < files.length; i++) {
                var file = files[i];
                if (!file.$error) {
                    Upload.upload({
                        url: baseURL + '/upload',
                        data: {
                            //  username: $scope.username,
                            image: file
                        }
                    }).then(function (resp) {

                        //  debugger;
                        vm.is_uploading_file = false;

                        if (resp.data.code != 200) {

                            Alert(resp.data.data);

                            return;

                        }

                        vm.customImageObj = resp.data.data;
                        vm.customImage = resp.data.data.path;


                        if (vm.default_tab === 1) {

                            var z_index = 1;
                            if (!vm.front_design.length) {
                                z_index = 1;
                            }
                            else {

                                // z_index = vm.front_design[vm.front_design.length - 1].z_index + 1;
                                //z_index = vm.front_design.length + 1;
                                z_index = _.max(vm.front_design,function(front){return front.z_index}).z_index + 1;
                            }

                           



                            var obj = {
                                "type": "img",
                                "z_index": z_index,
                                "zIndex":z_index,
                                "src": vm.customImage,
                                "colors": resp.data.data.colors,
                                  "svgwidth": 100 + "px",
                                  "svgheight":100*$scope.ratio + "px",
                                  "width": $scope.uWidth + "px",
                                  "height":$scope.uHeight + "px",
                            }

                            console.log($scope.uWidth ,$scope.uHeight ,$scope.uHeight /$scope.uWidth );

                            vm.front_design.push(obj);


                            setTimeout(function(){
                            

                     

                              
                var currentSvg = document.querySelectorAll('#box' + z_index + "front" + ' svg');


                currentSvg[0].setAttributeNS(null, 'viewBox', '0 0 ' + $scope.uWidth + ' ' + $scope.uHeight);
               

             

          

                

           
                                vm.select_text(z_index);

                            },200)

                            



                        }

                        if (vm.default_tab === 2) {

                            var z_index = 1;
                            if (!vm.back_design.length) {
                                z_index = 1;
                            }
                            else {

                                //z_index = vm.back_design[vm.back_design.length - 1].z_index + 1;
                                // z_index = vm.back_design.length + 1;
                                z_index = _.max(vm.back_design,function(back){return back.z_index}).z_index + 1;
                            }



                            var obj = {
                                "type": "img",
                                "z_index": z_index,
                                "zIndex":z_index,
                                "src": vm.customImage,
                                "colors": resp.data.data.colors,
                                  "svgwidth": 100 + "px",
                                  "svgheight":100*$scope.ratio + "px",
                                  "width": $scope.uWidth + "px",
                                  "height":$scope.uHeight + "px",
                            }

                            vm.back_design.push(obj);

                            setTimeout(function(){

                 

                              
                var currentSvg = document.querySelectorAll('#box' + z_index + "back" + ' svg');


                currentSvg[0].setAttributeNS(null, 'viewBox', '0 0 ' + $scope.uWidth + ' ' + $scope.uHeight);
               

             

          

                

           
                                vm.select_text(z_index);

                            },200)



                        }

                        if (vm.default_tab === 3) {

                            var z_index = 1;
                            if (!vm.left_design.length) {
                                z_index = 1;
                            }
                            else {

                                //z_index = vm.left_design[vm.left_design.length - 1].z_index + 1;
                               // z_index = vm.left_design.length + 1;
                                z_index = _.max(vm.left_design,function(left){return left.z_index}).z_index + 1;
                            }



                            var obj = {
                                "type": "img",
                                "z_index": z_index,
                                "zIndex":z_index,
                                "src": vm.customImage,
                                "colors": resp.data.data.colors,
                                  "svgwidth": 100 + "px",
                                  "svgheight":100*$scope.ratio + "px",
                                  "width": $scope.uWidth + "px",
                                  "height":$scope.uHeight + "px",
                            }

                            vm.left_design.push(obj);
                             setTimeout(function(){

                               

                var currentSvg = document.querySelectorAll('#box' + z_index + "left" + ' svg');
                currentSvg[0].setAttributeNS(null, 'viewBox', '0 0 ' + $scope.uWidth + ' ' + $scope.uHeight);
               

             

          

                

           
                                vm.select_text(z_index);

                            },200)



                        }

                        else if (vm.default_tab === 4) {

                            var z_index = 1;
                            if (!vm.right_design.length) {
                                z_index = 1;
                            }
                            else {

                                // z_index = vm.right_design[vm.right_design.length - 1].z_index + 1;
                                //z_index = vm.right_design.length + 1;
                                z_index = _.max(vm.right_design,function(right){return right.z_index}).z_index + 1;
                            }



                            var obj = {
                                "type": "img",
                                "z_index": z_index,
                                "zIndex":z_index,
                                "src": vm.customImage,
                                "colors": resp.data.data.colors,
                                 "svgwidth": 100 + "px",
                                  "svgheight":100*$scope.ratio + "px",
                                  "width": $scope.uWidth + "px",
                                  "height":$scope.uHeight + "px",
                            }

                            vm.right_design.push(obj);

                             setTimeout(function(){



                              
                var currentSvg = document.querySelectorAll('#box' + z_index + "right" + ' svg');


                currentSvg[0].setAttributeNS(null, 'viewBox', '0 0 ' + $scope.uWidth + ' ' + $scope.uHeight);
               

             

          

                

           
                                vm.select_text(z_index);

                            },500)



                        }


                        // if(vm.front_design)
                        // var z_index = vm.front_design[vm.front_design.length - 1].z_index + 1;
                        // vm.front_design.push(
                        //     {
                        //         "type": "img",
                        //         "z_index": z_index,
                        //         "src": vm.customImage,
                        //         "width": vm.customImageObj.image_width + "px",
                        //         "height": vm.customImageObj.image_height + "px"
                        //     });



                    }, null, function (evt) {
                        // return;
                        // var progressPercentage = parseInt(100.0 *
                        //     evt.loaded / evt.total);
                        // $scope.log = 'progress: ' + progressPercentage +
                        //     '% ' + evt.config.data.file.name + '\n' +
                        //     $scope.log;
                    });
                }
            }
        }


    }



    function add_style() {
        viewOptionsModal.$promise.then(viewOptionsModal.show);
    }




    /*
        MODALS
    
    */

   var viewOptionsModal = $modal({
            scope: $scope,
            animation: 'am-fade-and-scale',
            placement: 'center',
            template: 'NgApp/Home/VIews/viewOptions.html',
            show: false,
            title: 'Select Product'
    });

      var viewShirtColors = $modal({
            scope: $scope,
            animation: 'am-fade-and-scale',
            placement: 'center',
            template: 'NgApp/Home/VIews/setShirtColors.html',
            show: false,
            title: 'Select Colors'
        });



    /* END MODALS */









    $scope.class = function () {
        return "animated fadeInDown";


    };

    function getRandomInAnimations() {

        return 'animated ' + AnimationService.GetRandomInAnimation();

    }

    function show_toolbar() {
        $('.ta-toolbar').css('display', 'inline-block');
        $('.ta-toolbar').addClass('animated fadeInDown');

    }

    function hide_toolbar() {

        $('.ta-toolbar').css('display', 'none');


    }

    function alert_invalid(arg) {

        var animation = AnimationService.GetRandomInAnimation();
        $('.' + arg).addClass("animated " + animation).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function () {
            $(this).removeClass('animated ' + animation);
        });
    }


    function loadCategories() {

        DashboardService.GetCategories().then(function (data) {

            vm.categories = data.data;

        });

    }


    function init() {

        $scope.serverURL = serverURL;
        vm.default_tab = 1;
        vm.default_design_tab = 1;
        vm.designSelected = false;

       

        loadCategories();
        vm.tags = [];

        vm.time_array = [];
        for (var i = 1; i <= 15; i++) {
            vm.time_array.push(addDays(i + 6));
        }

        vm.imageURL = imageURL;
        vm.graphicsURL = graphicsURL;
        loadShirtStyle();
        loadGraphics();
        // loadFonts();
        googleFonts();
        init_shirt_drawings();
        is_zoomed = false;
        vm.shirt_color = {};
        getColors();
        vm.filtered_colors = [];
        vm.graphics = [];
        loadConfig();
        vm.base_cost = {};
        vm.total_front_colors = [];
        vm.total_back_colors = [];
        vm.total_left_colors = [];
        vm.total_right_colors = [];
        vm.total_shirt_colors = 0;

        vm.is_searching = false;
        vm.search_results = [];
        vm.search_page = 1;
        init_predefined_categories();
        vm.selected_text = {};
        vm.selected_text.color = '#000000';
        vm.is_loading_graphics = false;
        search_query = '';

        $rootScope.target_state = 'home.create';
        $state.go('home.create');
        get_browser();
    }

    init();

    function get_browser(){
   	
   	if (!!window.chrome && !!window.chrome.webstore) {
			vm.browser = "chrome";
			//document.write('<'+'link rel="stylesheet" href="../component/chromeCSSStyles.css" />');
} else if (typeof InstallTrigger !== 'undefined') {
   		vm.browser = "firefox";
   // document.write('<'+'link rel="stylesheet" href="../component/mozillaStyles.css" />');
} else if ( /*@cc_on!@*/false || !!document.documentMode) {
    //document.write('<'+'link rel="stylesheet" href="../component/explorerStyles.css" />');
    vm.browser = "ie";
}

else vm.browser = "general";


   }

     vm.add_rotate_goal = function(){
    	//debugger;
    	$('#target4').rotatable({
		rotationCenterX: 50.0, 
        rotationCenterY: 50.0,
        handle: $("#shirt_rotater"),
        
        rotate: function(event, ui) {

		 //console.log(	((radToDegree (ui.angle.current )) ));

		 var ending	= radToDegree(ui.angle.current);
		 if((ending <1)){

		 	ending = 360+ending;
		 	//debugger;
		 	//vm.goal_target;
		 	

		 }
		 	
            rotate_goal(1, ending);

		// mark the ticks
		// $('.tick').removeClass('activetick');
		// $('.tick').slice(0,(ang / 10 ) + 1 ).addClass('activetick');
		// // make knob stop at 270 deg ??
		// if( ang > 270 ){
		// 	// this one makes me lost?
		// 	knob.rotatable('disable'); 
		// }
		// display the value
	//	var pc = Math.round((ang/270)*100);
	//	$('.current-value').text(pc+'%, angle: ' + ang);
		
	},
            // start: function(event, ui){

            // 	ui.angle.start;

            // },
            stop: function(event, ui){
            vm.validate_goal_value();

            }
    });	

    	function radToDegree(angle){

    		return angle * (180 / Math.PI);
    		//return rad * 57.2958;

    	}

    	//$('#target3').resizable().rotatable(); $('#draggable3').draggable();

    	// $('#goal_handler').rotatable();
    	
    //	$("#goal").rotatable();
  //   $('#target4').rotatable({
		// rotationCenterX: 11.0, 
  //       rotationCenterY: 48.0,
  //       handle: $("#shirt_rotater")
  //   });

    }

    $rootScope.$on('event:social-sign-in-success', function(event, userDetails){

    	vm.socialCred = userDetails;
    	vm.login(1);
    	

    })

    // SHORTCUT FUNCTIONS

   // hotkeys.add({del: delete_layer, 'ctrl+shift+1':select_product_panel, 'ctrl+shift+2':select_graphics_panel, 'ctrl+shift+3':select_text_panel, 'ctrl+shift+4':select_file_panel});

     $rootScope.short_keys = [
          
     {
     	"combination": "Del",
     	"description": "Delete Selected Layer (Design page)"
     },
     {
     	"combination": "ctrl+shift+1",
     	"description": "Go to 'Select Product' portion (Design page)"
     },
     {
     	"combination": "ctrl+shift+2",
     	"description": "Go to 'Arts' portion (Design page)"
     },
     {
     	"combination": "ctrl+shift+3",
     	"description": "Go to 'Text' portion (Design page)"
     },
     {
     	"combination": "ctrl+shift+4",
     	"description": "Go to 'Upload' portion (Design page)"
     },
     {
     	"combination": "shift+1",
     	"description": "Go to Create page"
     },
     {
     	"combination": "shift+2",
     	"description": "Go to Set Goal page"
     },
     {
     	"combination": "shift+3",
     	"description": "Go to Campaign Details page"
     }
    //  },
    //  {
    //  	"combination": "shift+p",
    //  	"description": "Select additional products (set goal page)"
    //  }
     ];

     // ROUTE SHORTCUTS

     $scope.go_goal = function(){

     	$state.go('home.goal');

     }
     $scope.go_create = function(){

     	$state.go('home.create');

     }

     $scope.go_desc = function(){

     	$state.go('home.description');

     }

      $scope.toggleCheats = function(){
//swbugger;
     	//$rootScope.showCheats = !$rootScope.showCheats;

  //   	if($rootScope.showCheats){

     		cheatSheetModal.$promise.then(cheatSheetModal.show);

    // 	}
     	


     }


     // END ROUTE SHORTCUTS
    

    //CREATE SHORTCUTS
    //select_product

    $scope.transform = function(){

//    	debugger;

    	vm.select_text(vm.selected_text.z_index);

    }

    $scope.delete_layer = function(){
//debugger;
    	if($rootScope.target_state=='home.create'){

    		if(vm.selected_text){

    			vm.deleteLayer(vm.selected_text.z_index);

    		}


    	}


    }

     $scope.select_product_panel = function(){

    	if($rootScope.target_state=='home.create'){

    		vm.set_design_tab(1);


    	}


    }

     $scope.select_graphics_panel = function(){

    	if($rootScope.target_state=='home.create'){

    		vm.set_design_tab(2);


    	}


    }


    $scope.select_text_panel = function(){

    	if($rootScope.target_state=='home.create'){

    		vm.set_design_tab(3);


    	}


    }

    $scope.select_file_panel = function(){

    	if($rootScope.target_state=='home.create'){

    		vm.set_design_tab(4);


    	}


    }


    //CREATE SHORTCUTS END


    // GOAL SHORTCUTS

$scope.select_products = function(){

	if($rootScope.target_state=='home.goal'){

    		//vm.set_design_tab(4);
    		vm.select_products();

    	}

}


    // END GOAL SHORTCUTS


    // SHORTCUTS END



    // $scope.$watch('vm.selectedShirt', function(oldVal, newVal){

    //     vm.base_cost.shirt_cost = vm.shirt_color;


    // });



   function init_predefined_categories() {
       vm.predefined_categories =  vm.predefined_categories = [
            "Bones-stoke",
            "Adventure-and-travel-color",
            "Airplanes",
            "Airports-icons",
            "American-football",
            "Animal-compilation",
            "Arrow",
            "Autumn",
            "Babe-icon-set",
            "Baby",
            "Back-to-school",
            "Beauty",
            "Beauty-spa",
            "Beliefs-symbols",
            "Birds-species",
            "Birthday-party",
            "Brazil",
            "Browsers",
            "Business",
            "Business-and-office",
            "Business-seo",
            "Camping",
            "Carootns",
            "Cars",
            "Castles",
            "Cat-set",
            "Character",
            "Charity",
            "Chemistry",
            "China",
            "Christmas",
            "Cinema",
            "Circle-medicine",
            "Circles-hospital-color",
            "Circus",
            "City-element",
            "Clothes-and-footwear",
            "Clothes-stroke",
            "Cloud-",
            "Color-seo",
            "Communication",
            "Computer-security",
            "Construction",
            "Country-flags",
            "Currencies",
            "Cute-animal",
            "Design-tools",
            "Devices",
            "Dialogue-assets",
            "Dinosaur",
            "Disco-music",
            "Ecommerce",
            "Education",
            "Electronics",
            "Emoticons",
            "Essential",
            "Expressions",
            "Fairy-tale-set",
            "Farm-element",
            "File-type-and-content",
            "File-types",
            "Filled-feathers",
            "Filled-management",
            "Finance",
            "Flags",
            "Flamenco-dance",
            "Flowers",
            "Food",
            "Food-and-restaurant",
            "Forest-animals",
            "Fruit-and-vegetable-juice",
            "Fruits-pack",
            "Furniture-and-decoration",
            "Furniture-and-household",
            "Game-assets",
            "Gardening",
            "Gastronomy-set",
            "Glypho",
            "Hairdressing",
            "Hand-and-gesture-",
            "Hand-drawn-toys",
            "Hawcons-emoji-stroke",
            "Healthy-lifestyle",
            "Heartbeat",
            "High-school",
            "Horses-",
            "Hospital",
            "Human-body",
            "Interaction-assets",
            "Interface",
            "Ios7-set-lined-",
            "Keyholes",
            "Kids",
            "Kids-avatars",
            "Landmarks",
            "Landscapes",
            "Logogram",
            "Logotypes",
            "Marketing",
            "Medals",
            "Medical",
            "Medicine-color",
            "Miscellaneous",
            "Moon-phase",
            "Multimedia-",
            "Music-",
            "Musical-genres",
            "My-town-public-buildings",
            "Nature-flat-color",
            "New-business",
            "News",
            "Office",
            "Peace",
            "People-culture",
            "Photo-",
            "Picnic-and-bbq-icons",
            "Pokemon-go",
            "Pregnancy",
            "Printing",
            "Productivity-",
            "Professions-avatars",
            "Rating-and-vadilation-set",
            "Real-estate",
            "Religion",
            "Sacred-geometry",
            "School",
            "Science",
            "Science-icons",
            "Scientifics-study",
            "Sea-life",
            "Secret-service",
            "Security",
            "Seo-and-online-marketing",
            "Settings-and-display-set",
            "Shopping",
            "Sleep-time",
            "Snowflakes-set",
            "Social-icons-rounded",
            "Social-media",
            "Space",
            "Sports",
            "Sports-flat-color",
            "Star-set",
            "Startups-and-new-business",
            "Summer-fruits",
            "Summer-holiday",
            "Summertime-",
            "Summertime-vacations",
            "Sun-icon-",
            "Symbol",
            "Tatoo",
            "Technology",
            "The-ultimate",
            "Toys",
            "Transportation",
            "Travel",
            "Travel-and-tourism",
            "Travel-and-transportation",
            "Trohies",
            "Ui",
            "Universe",
            "User-interface",
            "Valentines",
            "Water",
            "Weather",
            "Web-buttons",
            "Web-design",
            "Web-interface",
            "Web-navigation-line-craft",
            "Wedding",
            "Yoga-poses",
            "Young-avatar",
            "Zodiac",
            "Abstract",
            "Air",
            "Airplane",
            "Angels",
            "Animal",
            "Anniversary",
            "Archery",
            "Army",
            "Arrows",
            "Arts",
            "Autumn",
            "Aztec",
            "Baby",
            "Basketball",
            "Beer",
            "Bees",
            "Bike",
            "Birds",
            "Birthday",
            "Boat",
            "Body",
            "Bomb",
            "Boy",
            "Burgers",
            "Bus",
            "Camping",
            "Cancer",
            "Car",
            "Cartoons",
            "Cat",
            "Characters",
            "Chevron",
            "Child",
            "Christmas",
            "Church",
            "Circus",
            "Clouds",
            "Cocktail",
            "Coffee",
            "Colors",
            "Comedy",
            "Computers",
            "Cream",
            "Cricket",
            "Cross",
            "Crown",
            "Culture",
            "Cycle",
            "Cycling",
            "David",
            "Day",
            "Deer",
            "Designs",
            "Diwali",
            "Dog",
            "Dolphin",
            "Drink",
            "Eagle",
            "Earth",
            "Easter",
            "Eid",
            "Elements",
            "Emoji",
            "English",
            "Entertainments",
            "Family",
            "Father's",
            "Festival",
            "Fire",
            "Fish",
            "Fishing",
            "Flags",
            "Floral",
            "Flowers",
            "Food",
            "Football",
            "Freedom",
            "Friendship",
            "Fundraise",
            "Funny",
            "Games",
            "Girl",
            "Golf",
            "Grass",
            "Gun",
            "Halloween",
            "Health",
            "Helicopter",
            "Hiking",
            "Hindu",
            "Hockey",
            "Horse",
            "Human",
            "Hunger",
            "Hunting",
            "Ice",
            "Illustrations",
            "Independence",
            "International",
            "Islam",
            "Jesus",
            "Juice",
            "King",
            "Labor",
            "Language",
            "Leaf",
            "Lion",
            "Love",
            "Man",
            "Mask",
            "Medals",
            "Media",
            "Military",
            "Milk",
            "Mobile",
            "Monkey",
            "Monuments",
            "Mother's",
            "Movies",
            "Music",
            "Nature",
            "Navy",
            "New",
            "Ocean",
            "Olympic",
            "Organic",
            "Owl",
            "Parrots",
            "Party",
            "Pasta",
            "Patterns",
            "Peace",
            "People",
            "Phones",
            "Pizza",
            "Place",
            "Plants",
            "Poetry",
            "Queen",
            "Ramadan",
            "Religion",
            "Rescue",
            "Rice",
            "Rights",
            "Salad",
            "Sandwich",
            "Scooter",
            "Ships",
            "Skateboarding",
            "Snowboarding",
            "Soccer",
            "Social",
            "Soda",
            "Soldiers",
            "Spaceship",
            "Speech",
            "Sports",
            "Spring",
            "Star",
            "Steres",
            "Summer",
            "Surfing",
            "Tanks",
            "Taxi",
            "Tea",
            "Technology",
            "Telephones",
            "Televisions",
            "Temple",
            "Textures",
            "Tigers",
            "Tile",
            "Torah",
            "Tourism",
            "Train",
            "Transportation",
            "Tree",
            "Tribal",
            "Truck",
            "Typography",
            "Valentine",
            "Water",
            "Wedding",
            "Wheat",
            "Whiskey",
            "Wine",
            "Winter",
            "Woman",
            "World",
            "Youth",
            "Bones-filled",
            "Force",
            "Year",
            "Events",
            "Computer",
            "Fighter",
            "Checkmark",
            "Swan",
            "Motorcycle",
            "Happy",
            "Candy",
            "House",
            "Baseball",
            "Statue",
            "Chat",
            "Chinese",
            "Cars",
            "Thermometer",
            "Two",
            "Antelope",
            "Bricklaying",
            "Killer",
            "Monster",
            "Informal",
            "Diamonds",
            "Female",
            "Robot",
            "Guy",
            "Headphones",
            "Tray",
            "Rebel",
            "Bulldog",
            "Teapot",
            "Texas",
            "Exercising",
            "Life",
            "CD",
            "Airspray",
            "Rifle",
            "Bird",
            "Panther",
            "Concert",
            "Gas",
            "Hamburg",
            "Left",
            "Up",
            "Trophy",
            "Musical",
            "Bat",
            "BBQ",
            "Ostrich",
            "Lemon",
            "Surfer",
            "Decorative",
            "Bonnet",
            "Trailer",
            "Frenetic",
            "San",
            "Pattern",
            "Grad",
            "Great",
            "Sax",
            "Alarm",
            "Stingray",
            "Wrench",
            "Paper",
            "Grunge",
            "Windmill",
            "Blues",
            "Tuxedo",
            "Beaver",
            "Frog",
            "Electric",
            "Sled",
            "No",
            "Sunglasses",
            "Flame",
            "Mustang",
            "Hot",
            "Dragon",
            "American",
            "Chef",
            "Crab",
            "Desserts",
            "Figure",
            "Pirate",
            "Scissors",
            "Leopard",
            "Bulgaria",
            "Hand",
            "Ship",
            "Boombox",
            "Big",
            "Turtle",
            "Presants",
            "Sun",
            "School",
            "Kisses",
            "Alien",
            "Key",
            "Steyr",
            "Scuba",
            "Hannukah",
            "Religious",
            "Luger",
            "Silverware",
            "Mongolia",
            "Check",
            "Merry",
            "Shark",
            "Barber",
            "Sweden",
            "Turkey",
            "Gift",
            "Leaning",
            "Camera",
            "Trash",
            "Senegal",
            "Cube",
            "Skateboarder",
            "Slug",
            "IPad",
            "Elephant",
            "Clam",
            "Yacht",
            "Throwing",
            "Germany",
            "Roaring",
            "Uruguay",
            "Violin",
            "Clown",
            "Wings",
            "Beetle",
            "Violinist",
            "Earrings",
            "Blower",
            "Snowflake8",
            "Paintball",
            "Large",
            "Bicycle",
            "Pepper",
            "Handcuff",
            "Rhino",
            "Mime",
            "Cactus",
            "Oil",
            "Pinata",
            "Healthy",
            "Sassy",
            "Anchor",
            "Cupids",
            "Saxophone",
            "Light",
            "Wake",
            "Cougar",
            "Utencils",
            "Bee",
            "Pyramid",
            "Libya",
            "Magnet",
            "Drummer",
            "Viking",
            "Corner",
            "Raccoon",
            "Dress",
            "Pumpkin",
            "USA",
            "Parachute",
            "Stopwatch",
            "Kid",
            "Stars",
            "Railroad",
            "Kangaroo",
            "Diving",
            "Chess",
            "Howling",
            "Ping",
            "Stag",
            "Guitar",
            "Bass",
            "Strawberry",
            "Zebra",
            "Tan",
            "Graduate",
            "Space",
            "Mouse",
            "Eye",
            "Male",
            "Skull",
            "Beachball",
            "Shaking",
            "Fleur",
            "Butterfly",
            "Package",
            "Oven",
            "Fork",
            "Wreath",
            "Golfer",
            "Lights",
            "Fireworks",
            "Scorpion",
            "Farm",
            "Drum",
            "Longhorn",
            "Tongs",
            "Witch",
            "Okapi",
            "AmericanFlag2",
            "RPG",
            "MP40",
            "Flask",
            "Person",
            "Revolver",
            "Curling",
            "Submarine",
            "Triple",
            "Cell",
            "Pistol",
            "Cheerleading",
            "Free",
            "Dradle",
            "Cyprus",
            "Ornament8",
            "AmericanFlag",
            "Briefcase",
            "Television",
            "Carabiner",
            "Oboe",
            "Hard",
            "Original",
            "Men",
            "UFO",
            "Martini",
            "Binky",
            "Ornament",
            "Cheerleader",
            "Symbol",
            "Madrid"
        ];

       
    }



    vm.search_arts = function () {
        vm.arts_not_found = false;
        vm.search_page = 1;
        if (!vm.search_graphics || (vm.search_graphics).trim().length == 0) {
            vm.is_searching = false;
            vm.search_page = 1;
            vm.search_results = [];

            return;


        }
        else {
            if (search_query != vm.search_graphics) {
                vm.search_page = 1;
                vm.search_results = [];
            }
            vm.is_searching = true;
            vm.is_loading_graphics = true;
            DashboardService.SearchArts(vm.search_graphics, vm.search_page).then(function (data) {
                if (!data.data.length) {
                    vm.arts_not_found = true;
                    vm.is_loading_graphics = false;
                    return;
                }
                search_query = angular.copy(vm.search_graphics);
                vm.search_results = data.data;
                vm.search_page++;
                vm.arts_not_found = false;
                vm.is_loading_graphics = false;

            });

        }

    }

    vm.search_more = function () {
            vm.arts_not_found = false;

            vm.is_searching = true;
            if (search_query.toLowerCase() != vm.search_graphics.toLowerCase()) {
                vm.search_page = 1;
                vm.search_results = [];
            }
            vm.is_loading_graphics = true;
            DashboardService.SearchArts(vm.search_graphics, vm.search_page).then(function (data) {
                vm.is_loading_graphics = false;
                if (!data.data.length) {
                    vm.arts_not_found = true;
                    return;
                }
                vm.search_results = vm.search_results.concat(data.data);
                vm.search_page++;
                vm.arts_not_found = false;

            });



      }

   vm.validate_profit = function (profit, shirt) {
        //debugger;
        $timeout(function () {
           // debugger;

            if (profit && profit < 1) {
                shirt.profit = 1;
                


            }

             if (profit && profit > 10000) {
                shirt.profit = 10000;
                


            }
            if (!shirt.profit) shirt.profit = 1;

            vm.calculate_total_shirt_cost(shirt);

            if(!$scope.$$phase) $scope.$apply();

        }, 100);


    }

    vm.validate_search = function (e) {
        // debugger;
        e.preventDefault();
        if (!vm.search_graphics || (vm.search_graphics).trim().length == 0) {
            vm.is_searching = false;
            vm.search_page = 1;
            return;

        }
        else if (e.keyCode == '13') {
            vm.search_arts();
        }

    }

    $scope.$watch('vm.shirt_color', function (newVal, oldVal) {
        if (newVal == oldVal) return;
        //  debugger;
        var color_val = vm.shirt_color.substr(1, vm.shirt_color.length - 1);

        var _color_id = _.findWhere(vm.colors, { hex: color_val }).id;
        vm.base_cost.blank_cost = parseFloat(_.findWhere(vm.selectedShirt.colors_available, { color_id: _color_id }).blank_cost);
        //calculate_total_color_cost();
        //calculate_unit_cost();
        vm.calculate_total_shirt_cost();

    });

    $scope.$watch('vm.selectedShirt', function (newVal, oldVal) {
        if (newVal == oldVal) return;
        setTimeout(function () {

            var color_val = vm.shirt_color.substr(1, vm.shirt_color.length - 1);
            var _color_id = _.findWhere(vm.colors, { hex: color_val }).id;
            vm.base_cost.blank_cost = parseFloat(_.findWhere(vm.selectedShirt.colors_available, { color_id: _color_id }).blank_cost);
            //calculate_total_color_cost();
            vm.calculate_total_shirt_cost();

        }, 500);


    });

    function calculate_front() {
        //   debugger;
        vm.total_front_colors = [];
        var front_colors = 0;
        if (!vm.front_design.length) { vm.total_front_colors = []; return; }
        angular.forEach(vm.front_design, function (obj, count) {

            if (obj.type == 'svg') {

                var original = _.where(vm.graphics, { id: obj.id })[0];
                if (original.colors) {

                    var colors_array = original.colors.split(",");
                    add_to_colors(1, colors_array);

                }

            }
            else if (obj.type == "img") {

                add_to_colors(1, obj.colors);
            }
            else if (obj.type == "text") {
                var arr = [];
                arr[0] = obj.color;
                add_to_colors(1, arr);
            }

        });
    }

    function calculate_back() {
        vm.total_back_colors = [];
        var back_colors = 0;
        if (!vm.back_design.length) { vm.total_back_colors = []; return; }
        angular.forEach(vm.back_design, function (obj, count) {

            if (obj.type == 'svg') {

                var original = _.where(vm.graphics, { id: obj.id })[0];
                if (original.colors) {

                    var colors_array = original.colors.split(",");
                    add_to_colors(2, colors_array);

                }

            }
            else if (obj.type == "img") {

                add_to_colors(2, obj.colors);
            }
            else if (obj.type == "text") {
                var arr = [];
                arr[0] = obj.color;
                add_to_colors(2, arr);
            }

        });
    }

    function calculate_left() {
        vm.total_left_colors = [];
        var left_colors = 0;
        if (!vm.left_design.length) { vm.total_left_colors = []; return; }
        angular.forEach(vm.left_design, function (obj, count) {

            if (obj.type == 'svg') {

                var original = _.where(vm.graphics, { id: obj.id })[0];
                if (original.colors) {

                    var colors_array = original.colors.split(",");
                    add_to_colors(3, colors_array);

                }

            }
            else if (obj.type == "img") {

                add_to_colors(3, obj.colors);
            }
            else if (obj.type == "text") {
                var arr = [];
                arr[0] = obj.color;
                add_to_colors(3, arr);
            }

        });
    }

    function calculate_right() {
        vm.total_right_colors = [];
        var right_colors = 0;
        if (!vm.right_design.length) { vm.total_right_colors = []; return; }
        angular.forEach(vm.right_design, function (obj, count) {

            if (obj.type == 'svg') {

                var original = _.where(vm.graphics, { id: obj.id })[0];
                if (original.colors) {

                    var colors_array = original.colors.split(",");
                    add_to_colors(4, colors_array);

                }

            }
            else if (obj.type == "img") {

                add_to_colors(4, obj.colors);
            }
            else if (obj.type == "text") {
                var arr = [];
                arr[0] = obj.color;
                add_to_colors(4, arr);
            }

        });
    }

   $scope.$watchCollection('vm.front_design', function (newVal, oldVal) {
        if (newVal == oldVal) return;

        calculate_total_front_colors();

    }, true);

    function calculate_total_front_colors() {

        //  var front_colors = 0;
        vm.total_front_colors = [];
        angular.forEach(vm.front_design, function (obj, count) {
            //   debugger;
            if (obj.type == 'svg') {

                var original = _.where(vm.graphics, { id: obj.id })[0];
                if (original.colors) {

                    var colors_array = original.colors.split(",");
                    add_to_colors(1, colors_array);

                }

            }
            else if (obj.type == "img") {

                add_to_colors(1, obj.colors);
            }
            else if (obj.type == "text") {
                var arr = [];
                arr[0] = obj.color;
                add_to_colors(1, arr);
            }

        });
    }

    $scope.$watch('vm.back_design', function (newVal, oldVal) {
        if (newVal == oldVal) return;
        // debugger;

        calculate_total_back_colors();



    }, true);


    function calculate_total_back_colors() {
        vm.total_back_colors = [];
        angular.forEach(vm.back_design, function (obj, count) {

            if (obj.type == 'svg') {

                var original = _.where(vm.graphics, { id: obj.id })[0];
                if (original.colors) {

                    var colors_array = original.colors.split(",");
                    add_to_colors(2, colors_array);

                }

            }
            else if (obj.type == "img") {

                add_to_colors(2, obj.colors);
            }
            else if (obj.type == "text") {
                var arr = [];
                arr[0] = obj.color;
                add_to_colors(2, arr);
            }
        });

    }


    $scope.$watch('vm.left_design', function (newVal, oldVal) {
        if (newVal == oldVal) return;
        // debugger;
        //  var front_colors = 0;
        calculate_total_left_colors();

    }, true);

    function calculate_total_left_colors() {
        vm.total_left_colors = [];
        angular.forEach(vm.left_design, function (obj, count) {

            if (obj.type == 'svg') {

                var original = _.where(vm.graphics, { id: obj.id })[0];
                if (original.colors) {

                    var colors_array = original.colors.split(",");
                    add_to_colors(3, colors_array);

                }

            }
            else if (obj.type == "img") {

                add_to_colors(3, obj.colors);
            }
            else if (obj.type == "text") {
                var arr = [];
                arr[0] = obj.color;
                add_to_colors(3, arr);
            }

        });


    }

    $scope.$watch('vm.right_design', function (newVal, oldVal) {
        if (newVal == oldVal) return;
        // debugger;
        //  var front_colors = 0;
        calculate_total_right_colors();

    }, true);

    function calculate_total_right_colors() {
        vm.total_right_colors = [];
        angular.forEach(vm.right_design, function (obj, count) {

            if (obj.type == 'svg') {

                var original = _.where(vm.graphics, { id: obj.id })[0];
                if (original.colors) {

                    var colors_array = original.colors.split(",");
                    add_to_colors(4, colors_array);

                }

            }
            else if (obj.type == "img") {

                add_to_colors(4, obj.colors);
            }
            else if (obj.type == "text") {
                var arr = [];
                arr[0] = obj.color;
                add_to_colors(4, arr);
            }

        });


    }




    $scope.$watch('vm.total_front_colors', function (newVal, oldVal) {

        if (newVal == oldVal) return;
        vm.total_shirt_colors = vm.total_front_colors.length + vm.total_back_colors.length + vm.total_left_colors.length + vm.total_right_colors.length;

        vm.calculate_total_shirt_cost();

    });

    $scope.$watch('vm.total_back_colors', function (newVal, oldVal) {
        if (newVal == oldVal) return;
        vm.total_shirt_colors = vm.total_front_colors.length + vm.total_back_colors.length + vm.total_left_colors.length + vm.total_right_colors.length;


        vm.calculate_total_shirt_cost();
    });

    $scope.$watch('vm.total_left_colors', function (newVal, oldVal) {
        if (newVal == oldVal) return;
        vm.total_shirt_colors = vm.total_front_colors.length + vm.total_back_colors.length + vm.total_left_colors.length + vm.total_right_colors.length;


        vm.calculate_total_shirt_cost();

    });
    $scope.$watch('vm.total_right_colors', function (newVal, oldVal) {
        if (newVal == oldVal) return;
        vm.total_shirt_colors = vm.total_front_colors.length + vm.total_back_colors.length + vm.total_left_colors.length + vm.total_right_colors.length;

        vm.calculate_total_shirt_cost();


    });

    $scope.$watch('vm.total_shirt_colors', function (newVal, oldVal) {
        if (newVal == oldVal) return;
        //  vm.total_shirt_colors = vm.total_front_colors.length + vm.total_back_colors.length + vm.total_left_colors.length + vm.total_right_colors.length;
        vm.calculate_total_shirt_cost();


    });
    $scope.$watch('vm.goal_target', function (newVal, oldVal) {
        if (newVal == oldVal) return;
        //  vm.total_shirt_colors = vm.total_front_colors.length + vm.total_back_colors.length + vm.total_left_colors.length + vm.total_right_colors.length;
        setTimeout(function () {
            vm.calculate_total_shirt_cost();
        }, 500);



    });
    //shirt.profit

      $rootScope.$on('$stateChangeStart',
        function (event, toState, toParams, fromState, fromParams, options) {

            //  event.preventDefault();
            //debugger;


            if (get_total_design_count() <= 0) {
                Alert("Please design at least one side before going to next screen.");
                //$state.go('home.create');                 
                //$location.path("/home/create");

                event.preventDefault();
                $rootScope.target_state = 'home.create';
                //$state.transitionTo('home.create');
                return;

            }
            if(toState.name=='home.goal'){
                $rootScope.met_goal = true;
           // $rootScope.met_goal = true;
				
				var shirt = _.findWhere(vm.shirts_in_styles, {id:vm.selectedShirt.id});

				//shirt.is_default = true;

				var hex = vm.shirt_color.substring(1,vm.shirt_color.length);

				_.each(vm.shirts_in_styles, function(_shirt){
					//debugger;

					if(shirt == _shirt)
						shirt.is_default = true;
					else shirt.is_default = false;

				});

				var color_id = 	_.findWhere(vm.colors, {hex:hex});

				var _color = _.findWhere(shirt.colors_available, {color_id:color_id.id});

				_.each(shirt.colors_available, function(color){
					//debugger;

					if(color == _color)
						color.is_default = true;
					else color.is_default = false;

				});
				
				shirt.colors_available.splice(shirt.colors_available.indexOf(_color), 1);

				shirt.colors_available.unshift(_color);

				vm.shirts_in_styles.splice(vm.shirts_in_styles.indexOf(shirt), 1);
				vm.shirts_in_styles.unshift(shirt);
            

            }

            if (fromState.name == 'home.create') {

                if (toState.name == 'home.description' && !$rootScope.met_goal) {

                    event.preventDefault();
                    $rootScope.target_state = 'home.goal';
                    $state.go('home.goal');
                    //alert("You need to set the goal before you add description.");
                    Alert("You need to set the goal before you add description.");

                }


            }
        });

        function get_total_design_count(){

            var front_count = vm.front_design.length;
            var back_count = vm.back_design.length;
            var left_count = vm.left_design.length;
            var right_count = vm.right_design.length;



            var total = front_count+back_count+left_count+right_count;

            if(vm.selectedShirt.left==0){
                total = total-left_count;
            }

            if(vm.selectedShirt.right==0){
                total = total-right_count;
            }

            if(vm.selectedShirt.back==0){
                total = total-back_count;
            }

            return total;

        }


      $rootScope.$on('$stateChangeSuccess',
        function (event, toState, toParams, fromState, fromParams, options) {


    
            window.scrollTo(0, 0);
        });


        

      function calculate_total_color_cost(arg) {
        // debugger;

        var front = (vm.total_front_colors.length > 10) ? 10 : vm.total_front_colors.length;
        var back = (vm.total_back_colors.length > 10) ? 10 : vm.total_back_colors.length;
        var left = (vm.total_left_colors.length > 5) ? 5 : vm.total_left_colors.length;
        var right = (vm.total_right_colors.length > 5) ? 5 : vm.total_right_colors.length;

        if (arg && arg.left != 1) {
            left = 0;
            right = 0;
        }
        if (vm.selectedShirt)
            if (!arg && vm.selectedShirt.left != 1) {
                left = 0;
                right = 0;
                if (vm.selectedShirt.back != 1) back = 0;
            }

        if (front == 0) var front_price = 0;
        else var front_price = ((front - 1) * 0.5 + 1.5);
        if (back == 0) var back_price = 0;
        else var back_price = ((back - 1) * 0.5 + 1.5);
        var left_price = ((left - 1) * 0.5 + 0.5);
        var right_price = ((right - 1) * 0.5 + 0.5);
        if (arg)
            arg.total_color_cost = front_price + back_price + left_price + right_price;
        else vm.total_color_cost = front_price + back_price + left_price + right_price;

    }

    function calculate_unit_cost(arg) {
        if (arg) {
            //debugger;
            var is_color = false;
            var index = 0;
            for (var i = 0; i < arg.colors_available.length; i++) {
                var color = arg.colors_available[i];
                if (color.selected)
                    if (Number(color.color_id) > 1) {
                        is_color = true;
                        index = i;
                        break;

                    }
            }

            return parseFloat(arg.colors_available[index].blank_cost);

        }
        else {


            var is_color = false;
            if (vm.shirt_color != '#FFFFFF')
                is_color = true;

                if(!vm.selectedShirt)  return;

            if (is_color) {
                return parseFloat(vm.selectedShirt.colors_available[1].blank_cost);
                //return 5.5;
            }
            return parseFloat(vm.selectedShirt.colors_available[0].blank_cost);


        }

    }



   vm.calculate_profit = function () {

        if (vm.shirts_in_styles && vm.shirts_in_styles.length) {
            angular.forEach(vm.shirts_in_styles, function (shirt, index) {
                //  debugger;
                if (!shirt.selected) return;
                var selected_length = _.where(vm.shirts_in_styles, { selected: true }).length;
                var total_unit_cost = shirt.total_shirt_base_cost / vm.goal_target;
                var profit = shirt.profit;
                //shirt.total_profit = ((total_unit_cost + profit) * vm.goal_target);
                shirt.total_profit = profit * vm.goal_target;
                // debugger;

                var values = _.where(vm.shirts_in_styles, { selected: true });
                values = _.sortBy(values, function (num) { return num.total_profit; });
                vm.profits = {};
             //   debugger;
                vm.profits.min = Number(values[0].total_profit);
                vm.profits.max = Number(values[values.length - 1].total_profit);
                if(isNaN(vm.profits.min)) vm.profits.min = 0;
                if(isNaN(vm.profits.max)) vm.profits.max = 0; 
                if (!$scope.$$phase)
                    $scope.$apply();
                //   debugger;
                //  if(index == vm.shirts_in_styles.length)debugger;

                //vm.profits = [];
                // for(var i=0;i<vm.shirts_in_styles.length;i++){

                //     if(shirt.selected)
                //         vm.profits.push(shirt.total_profit);

                // }

                // vm.profits = _.sortBy(vm.profits, function(n){return n;});





                // if (index == selected_length) {
                //     debugger;



                //     vm.shirts_in_styles = _.sortBy(vm.shirts_in_styles, 'total_profit');



                //     vm.profit = {};
                //     var profits = [];


                //     angular.forEach(vm.shirts_in_styles, function(_shirt, _index){
                //         if(shirt.selected)
                //         profits.push(shirt.total_profit);


                //     if (_index == selected_length) {
                //         debugger;
                //         profits = _.sortBy(profits, function (num) { return num; });
                //         vm.profit.max = profits[0];
                //         vm.profit.min = profits[vm.profit.length - 1];

                //     }

                //     });


                // }
            });



        }
        if (!$scope.$$phase)
            $scope.$apply();

    }

    vm.calculate_total_shirt_cost = function (arg) {


        if (arg) {
            // debugger;
            var unit_cost = calculate_unit_cost(arg);
            calculate_total_color_cost(arg);

            var total_colors_with_goal = arg.total_color_cost * vm.goal_target;

            var print_percent = calculate_print_discount();

            var garment_discount = calculate_garment_discount();

            var color_price_with_discount = total_colors_with_goal - ((print_percent / 100) * total_colors_with_goal);

            var total_garment_price = unit_cost * vm.goal_target;

            var garment_price_with_discount = total_garment_price - ((garment_discount / 100) * total_garment_price);

            arg.total_shirt_base_cost = garment_price_with_discount + color_price_with_discount;

            arg.total_unit_cost = arg.total_shirt_base_cost / vm.goal_target;


        }
        else {
            var unit_cost = calculate_unit_cost();
            calculate_total_color_cost();
            //vm.total_color_cost
            var total_colors_with_goal = vm.total_color_cost * vm.goal_target;

            var print_percent = calculate_print_discount();

            var garment_discount = calculate_garment_discount();

            var color_price_with_discount = total_colors_with_goal - ((print_percent / 100) * total_colors_with_goal);

            var total_garment_price = unit_cost * vm.goal_target;

            var garment_price_with_discount = total_garment_price - ((garment_discount / 100) * total_garment_price);

            vm.total_shirt_base_cost = garment_price_with_discount + color_price_with_discount;

            vm.total_unit_cost = vm.total_shirt_base_cost / vm.goal_target;

            if (vm.shirts_in_styles && vm.shirts_in_styles.length) {

                angular.forEach(vm.shirts_in_styles, function (shirt) {

                    vm.calculate_total_shirt_cost(shirt);

                });

            }

        }

        if (!$scope.$$phase)
            $scope.$apply();

        vm.calculate_profit();

    }

    function calculate_garment_discount() {
        if (vm.goal_target >= 50 && vm.goal_target <= 99) return 5;
        if (vm.goal_target >= 100 && vm.goal_target <= 199) return 6;
        if (vm.goal_target >= 200 && vm.goal_target <= 499) return 7;
        if (vm.goal_target >= 500 && vm.goal_target <= 999) return 8;
        if (vm.goal_target >= 1000) return 10;
        else return 0;
    }

    function calculate_print_discount() {

        if (vm.goal_target >= 100 && vm.goal_target <= 199) return 12;
        if (vm.goal_target >= 200 && vm.goal_target <= 499) return 14;
        if (vm.goal_target >= 500 && vm.goal_target <= 999) return 16;
        if (vm.goal_target >= 1000) return 20;

        else return 0;

    }

    $scope.$watch('vm.selected_text.color', function (newVal, oldVal) {

        if (vm.default_tab == 1) {
            calculate_total_front_colors();


        }

        else if (vm.default_tab == 2) {
            calculate_total_back_colors();

        }

        else if (vm.default_tab == 3) {
            calculate_total_left_colors();

        }
        else if (vm.default_tab == 4) {
            calculate_total_right_colors();
        }
    });

    $scope.change = function () {

        if (vm.default_tab == 1) {
            var texts = _.where(vm.front_design, { "type": "text" });
            var colors = [];
            for (var i = 0; i < texts.length; i++) {
                colors.push(texts[i].color);
            }
            //var arr = [];
            //arr[0] = vm.selected_text.color;
            debugger;
            add_to_colors(1, colors);


        }

        else if (vm.default_tab == 2) {


            var arr = [];
            arr[0] = vm.selected_text.color;
            add_to_colors(2, arr);


        }
        else if (vm.default_tab == 3) {


            var arr = [];
            arr[0] = vm.selected_text.color;
            add_to_colors(3, arr);


        }
        else if (vm.default_tab == 4) {


            var arr = [];
            arr[0] = vm.selected_text.color;
            add_to_colors(4, arr);


        }



    }


    function add_to_colors(side, colors) {
        //  debugger;
        if (side == 1) {
            vm.total_front_colors = vm.total_front_colors.concat(colors);

            vm.total_front_colors = _.uniq(vm.total_front_colors);

        }

        if (side == 2) {
            vm.total_back_colors = vm.total_back_colors.concat(colors);
            vm.total_back_colors = _.uniq(vm.total_back_colors);

        }
        if (side == 3) {
            vm.total_left_colors = vm.total_left_colors.concat(colors);
            vm.total_left_colors = _.uniq(vm.total_left_colors);

        }
        if (side == 4) {
            vm.total_right_colors = vm.total_right_colors.concat(colors);
            vm.total_right_colors = _.uniq(vm.total_right_colors);

        }

    }

    $scope.$watch('vm.base_cost', function (newVal, oldVal) {
        if (newVal == oldVal) return;

        vm.base_cost.total = vm.base_cost.blank_cost;



    }, true);

    // $scope.$watch('vm.shirt_color', function(newVal, oldVal){

    //     debugger;
    //     var color_val = newVal.substr(1,newVal.length-1);

    //     vm.base_cost.shirt_cost = _.findWhere(vm.colors, {hex:color_val});


    // });

    function getColors() {
        DashboardService.GetColors().then(function (data) {

            // debugger;
            vm.colors = data.data;
            // vm.shirt_color = "#"+vm.colors[0].hex;

        });
    }

    function zoom() {

        vm.is_zoomed = !vm.is_zoomed;

        var elem = $('.shirt-view');
        var detailLIst = $(".detail-list");
        var changeZoomIn = $('.icon-zoom-01');
        var changeZoomOut = $('.glyphicon-zoom-out');

        if (vm.is_zoomed) {


            elem.addClass("animated zoomPrint").one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function () {
                $(this).removeClass('animated zoomPrint');
            });
            detailLIst.addClass('detailListZoom');
            changeZoomIn.removeClass('icon-zoom-01').addClass('glyphicon glyphicon-zoom-out');
            // elem.css('zoom', '1.5');



        }
        else {


            elem.removeClass('zoomPrint animated');
            detailLIst.removeClass('detailListZoom');
            $(changeZoomOut).removeClass('glyphicon glyphicon-zoom-out').addClass('icon-zoom-01');

        }
    }
    $scope.get_style = function () {
        if (!vm.selectedShirt) {
            return;
        }


        if (vm.default_tab == 1) {

            $scope.temp_parent = "top:" + vm.selectedShirt.printable_front_top + "px" + ";" + "left:" + vm.selectedShirt.printable_front_left + "px";
            $scope.temp_child = 'width:' + vm.selectedShirt.printable_front_width + "px" + ";" + 'height:' + vm.selectedShirt.printable_front_height + "px";

            $scope.top_position = vm.selectedShirt.printable_front_top;
            $scope.left_position = vm.selectedShirt.printable_front_left;
            $scope.width_position = vm.selectedShirt.printable_front_width;
            $scope.height_position = vm.selectedShirt.printable_front_height;

        }
        else if (vm.default_tab == 2) {

            $scope.temp_parent = "top:" + vm.selectedShirt.printable_back_top + "px" + ";" + "left:" + vm.selectedShirt.printable_back_left + "px";
            $scope.temp_child = 'width:' + vm.selectedShirt.printable_back_width + "px" + ";" + 'height:' + vm.selectedShirt.printable_back_height + "px";

            $scope.top_position = vm.selectedShirt.printable_back_top;
            $scope.left_position = vm.selectedShirt.printable_back_left;
            $scope.width_position = vm.selectedShirt.printable_back_width;
            $scope.height_position = vm.selectedShirt.printable_back_height;

        }

        else if (vm.default_tab == 3) {

            $scope.temp_parent = "top:" + vm.selectedShirt.printable_left_top + "px" + ";" + "left:" + vm.selectedShirt.printable_left_left + "px";
            $scope.temp_child = 'width:' + vm.selectedShirt.printable_left_width + "px" + ";" + 'height:' + vm.selectedShirt.printable_left_height + "px";

            $scope.top_position = vm.selectedShirt.printable_left_top;
            $scope.left_position = vm.selectedShirt.printable_left_left;
            $scope.width_position = vm.selectedShirt.printable_left_width;
            $scope.height_position = vm.selectedShirt.printable_left_height;

        }

        else if (vm.default_tab == 4) {

            $scope.temp_parent = "top:" + vm.selectedShirt.printable_right_top + "px" + ";" + "left:" + vm.selectedShirt.printable_right_left + "px";
            $scope.temp_child = 'width:' + vm.selectedShirt.printable_right_width + "px" + ";" + 'height:' + vm.selectedShirt.printable_right_height + "px";
           
            $scope.top_position = vm.selectedShirt.printable_right_top;
            $scope.left_position = vm.selectedShirt.printable_right_left;
            $scope.width_position = vm.selectedShirt.printable_right_width;
            $scope.height_position = vm.selectedShirt.printable_right_height;
        }


        //  return obj;
    }
    function googleFonts() {
        vm.fonts = DashboardService.GetGoogleFonts();
        // console.log(vm.fonts);
        angular.forEach(vm.fonts, function (font) {
            vm.fontsTag.push(font.category);
        })

        vm.uniqFontTags = _.uniq(vm.fontsTag);
    }
    function loadShirtStyle() {
        DashboardService.GetShirtStyle().then(function (result) {
            if (result && result.data) {
                vm.shirts = result.data;
                _.each(vm.shirts, function (shirt) {

                    var reg = /(.*)\.[^.]+$/
                    var front_thumb = reg.exec(shirt.image_front_url);
                    shirt.front_small = front_thumb[1] + "_small.png";

                });
                vm.shirts_in_styles = angular.copy(vm.shirts);
                _.each(vm.shirts_in_styles, function (style) {
                    style.selected = false;
                    _.each(style.colors_available, function (color) {
                        color.selected = false;
                        _.each(vm.colors, function (_color) {
                            if (_color.id == color.color_id) {
                                color.color = "#" + _color.hex;
                            }

                        });
                    });
                });
                //vm.selectedShirt = vm.shirts[0];
                selectShirt(vm.shirts[0]);
                $scope.get_style();
              //  vm.filtered_colors = [];
                // setTimeout(function () {
                //     for (var i = 0; i < vm.colors.length; i++) {
                //         var color = vm.colors[i];
                //         var id = vm.selectedShirt.colors_available.filter(function (_color) { return _color.color_id == color.id });
                //         if (id) {
                //             vm.filtered_colors.push("#" + color.hex);
                //         }
                //         vm.shirt_color = vm.filtered_colors[0];


                //     }
                // }, 500);

                // angular.forEach(vm.colors, function (color) {

                //     var id = vm.selectedShirt.colors_available.filter(function (_color) { return _color.color_id == color.id });
                //     if (id) {
                //         vm.filtered_colors.push("#" + color.hex);
                //     }
                //     vm.shirt_color = vm.filtered_colors[0];
                // });
            }

        })
    }

    function loadGraphics() {
        vm.search_graphics = '';
        DashboardService.GetGraphics().then(function (result) {
            if (result && result.data) {

                vm.graphics = vm.graphics.concat(result.data);
            }

        })
    }


   vm.select_products = function(){

       viewOptionsModal.$promise.then(viewOptionsModal.show);


   }



    function loadConfig(exclude_goals) {
        //   debugger;
        DashboardService.GetConfig().then(function (data) {
            //   debugger;
            vm.user = {};
            vm.user.pages = {};
            vm.config = data.data;
            if (!exclude_goals) {
                vm.goal_range_max = Number(vm.config.config.goal_range_max);
                vm.goal_range_min = Number(vm.config.config.goal_range_min);
                vm.goal_target = Number(vm.goal_range_min);
                rotate_goal(vm.goal_range_min);
            }

            vm.footer_pages = vm.config.pages;
            if (vm.config.login.status == 1) {
                vm.user.id = vm.config.login.id;
                vm.user.name = vm.config.login.name;
                vm.user.pages = vm.config.login.pages;




            }



        });
    }


    vm.hold_display = function () {
        vm.is_printable_area_visible = false;

        {

            setTimeout(function () {

                vm.is_printable_area_visible = true;
                if (!$scope.$$phase)
                    $scope.$apply();

            }, 3000);


        }
    }



    vm.confirm_profit_calculated = function(){

        _.each(vm.shirts_in_styles, function (shirt) {
                            if (shirt.id == vm.selectedShirt.id)
                                shirt.selected = true;
                            else shirt.selected = false;
                            if(!vm.shirt_color)
                            setColor(vm.filtered_colors[0]);
                        });

    }



    function loadFonts() {
        DashboardService.GetFonts().then(function (result) {
            if (result && result.data) {
                vm.fonts = result.data;
                angular.forEach(result.data, function (font) {
                    if (font && font.tags) {
                        var tags = JSON.parse(font.tags);
                        for (var i = 0; i < tags.length; i++) {

                            vm.fontsTag.push(tags[i]);
                        }

                    }
                })

                vm.uniqFontTags = _.uniq(vm.fontsTag);

            }


        })
    }

    vm.fontChanged = function (val) {
        if (!val) {
            vm.category = '';
        }
    }




    vm.fontSelection = function (font, event) {
        //  $scope.$on('webfontLoader.loaded', function() {
        //    alert('font loaded!');
        // });

       

        vm.fontSelected.family = font.family;

        //...................................//

        if (vm.default_tab === 1) {
            
            
           
             var selected = _.findWhere(vm.front_design, { 'selected': true });
            
            //console.log(selected);
            var e = $('#box' + selected.z_index + 'front');

            
            vm.frontAngle = e[0].style.transform;
          //  console.log(e[0].style.transform);
                if (vm.frontAngle == 'undefined') vm.frontAngle = 'rotate(0rad)';
               // rotate = rotate * Math.PI / 180;
              e.css('visibility','hidden');
              e.css('transform', 'rotate(0rad)');
        

            var txt = e.find('text');
            var size1 = txt[0].getBoundingClientRect();
            var size2 = e[0].getBoundingClientRect();
            var $w = parseFloat(size1.width);
            var $h = parseFloat(size1.height)

            //  console.log(e);
			// 			console.log(txt);
			// 			console.log(size1);
			// 			console.log(size2);
			// 			console.log($w);
			// 			console.log($h);

            


            updateSize($w, $h, selected.z_index, 1);

            var svg = e.find('svg'),
                view = svg[0].getAttributeNS(null, 'viewBox');
            var arr = view.split(' ');
            var y = txt[0].getAttributeNS(null, 'y');
            y = Math.round(y) + Math.round(size2.top) - Math.round(size1.top) - ((Math.round(size2.top) - Math.round(size1.top)) * (($w - arr[2]) / $w));
            txt[0].setAttributeNS(null, 'y', y);
            selected.font = font.family;
            setTimeout(function(){
             e.css('transform', vm.frontAngle);
            // e.rotSize(e.css('width'),e.css('height'),45);

             console.log(e.css('width'),e.css('height'));


             e.css('visibility','visible');
             },0)
           
            
            // console.log(selected.font);  
        }

        else if (vm.default_tab === 2) {
            var selected = _.findWhere(vm.back_design, { 'selected': true });
            var e = $('#box' + selected.z_index + 'back');
            vm.backAngle = e[0].style.transform;
            if (vm.backAngle == 'undefined') vm.backAngle = 'rotate(0rad)';
            e.css('visibility','hidden');
            e.css('transform', 'rotate(0rad)');
        

  
            var txt = e.find('text');
            var size1 = txt[0].getBoundingClientRect();
            var size2 = e[0].getBoundingClientRect();
            var $w = parseFloat(size1.width);
            var $h = parseFloat(size1.height)


            updateSize($w, $h, selected.z_index, 2);

            var svg = e.find('svg'),
                view = svg[0].getAttributeNS(null, 'viewBox');
            var arr = view.split(' ');
            var y = txt[0].getAttributeNS(null, 'y');
            y = Math.round(y) + Math.round(size2.top) - Math.round(size1.top) - ((Math.round(size2.top) - Math.round(size1.top)) * (($w - arr[2]) / $w));
            txt[0].setAttributeNS(null, 'y', y);
            selected.font = font.family;
            // console.log(selected.font);  

            setTimeout(function(){
             e.css('transform', vm.backAngle);
            // e.rotSize(e.css('width'),e.css('height'),45);

             console.log(e.css('width'),e.css('height'));


             e.css('visibility','visible');
             },0)
        }

        else if (vm.default_tab === 3) {
            var selected = _.findWhere(vm.left_design, { 'selected': true });
            //console.log(selected);
            var e = $('#box' + selected.z_index + 'left');

             vm.leftAngle = e[0].style.transform;
          //  console.log(e[0].style.transform);
                if (vm.leftAngle == 'undefined') vm.leftAngle = 'rotate(0rad)';
               // rotate = rotate * Math.PI / 180;
              e.css('visibility','hidden');
              e.css('transform', 'rotate(0rad)');



            var txt = e.find('text');
            var size1 = txt[0].getBoundingClientRect();
            var size2 = e[0].getBoundingClientRect();
            var $w = parseFloat(size1.width);
            var $h = parseFloat(size1.height)


            updateSize($w, $h, selected.z_index, 3);

            var svg = e.find('svg'),
                view = svg[0].getAttributeNS(null, 'viewBox');
            var arr = view.split(' ');
            var y = txt[0].getAttributeNS(null, 'y');
            y = Math.round(y) + Math.round(size2.top) - Math.round(size1.top) - ((Math.round(size2.top) - Math.round(size1.top)) * (($w - arr[2]) / $w));
            txt[0].setAttributeNS(null, 'y', y);
            selected.font = font.family;
            // console.log(selected.font);  
            setTimeout(function(){
             e.css('transform', vm.leftAngle);
            // e.rotSize(e.css('width'),e.css('height'),45);

             console.log(e.css('width'),e.css('height'));


             e.css('visibility','visible');
             },0)
        }

        else if (vm.default_tab === 4) {
            var selected = _.findWhere(vm.right_design, { 'selected': true });
            //console.log(selected);
            var e = $('#box' + selected.z_index + 'right');

            vm.rightAngle = e[0].style.transform;
          //  console.log(e[0].style.transform);
                if (vm.rightAngle == 'undefined') vm.rightAngle = 'rotate(0rad)';
               // rotate = rotate * Math.PI / 180;
              e.css('visibility','hidden');
              e.css('transform', 'rotate(0rad)');



            var txt = e.find('text');
            var size1 = txt[0].getBoundingClientRect();
            var size2 = e[0].getBoundingClientRect();
            var $w = parseFloat(size1.width);
            var $h = parseFloat(size1.height)


            updateSize($w, $h, selected.z_index, 4);

            var svg = e.find('svg'),
                view = svg[0].getAttributeNS(null, 'viewBox');
            var arr = view.split(' ');
            var y = txt[0].getAttributeNS(null, 'y');
            y = Math.round(y) + Math.round(size2.top) - Math.round(size1.top) - ((Math.round(size2.top) - Math.round(size1.top)) * (($w - arr[2]) / $w));
            txt[0].setAttributeNS(null, 'y', y);
            selected.font = font.family;
            // console.log(selected.font);  
             setTimeout(function(){
             e.css('transform', vm.rightAngle);
            // e.rotSize(e.css('width'),e.css('height'),45);

             console.log(e.css('width'),e.css('height'));


             e.css('visibility','visible');
             },0)
        }

    }



    function addDays(number_of_days) {
        var d = new Date();
        var d2 = d.setDate(d.getDate() + number_of_days);
        return new Date(d2);
    }

    /*
        Junaid
     */
    function reset_style_shirts() {
        for (var i = 0; i < vm.shirts_in_styles.length; i++) {
            for (var j = 0; j < vm.shirts_in_styles[i].colors_available.length; j++) {
                vm.shirts_in_styles[i].colors_available[j].selected = false;


            }
            vm.shirts_in_styles[i].selected - false;


        }
        vm.total_color_selected = 1;
    }
    /*
        Junaid
     */
    function selectShirt(shirt) {
        reset_style_shirts();
        vm.default_tab = 1;
        vm.selectedShirt = shirt;
        vm.filtered_colors = [];

        var reg = /(.*)\.[^.]+$/
        var front_thumb = reg.exec(shirt.image_front_url);
        var back_thumb = reg.exec(shirt.image_back_url);
        var left_thumb = reg.exec(shirt.image_left_url);
        var right_thumb = reg.exec(shirt.image_right_url);


        vm.selectedShirSide = {

            front: front_thumb[1] + "_small.png",
            back: back_thumb[1] + "_small.png",


        }

        if (shirt.id == 1) {
            vm.isSleeve = true;
            vm.selectedShirSide.left = left_thumb[1] + "_small.png";
            vm.selectedShirSide.right = right_thumb[1] + "_small.png";

        }

        else {
            vm.isSleeve = false;
        }
        // var selected_shirt = _.where(vm.shirts_in_styles, {id:shirt.id});
        //selected_shirt.selected = true;



        console.log(vm.selectedShirSide);

        setTimeout(function() {
            
            angular.forEach(vm.colors, function (color, count) {
            //debugger;
            var id = vm.selectedShirt.colors_available.filter(function (_color) { return _color.color_id == color.id });
            if (id[0]) {
                vm.filtered_colors.push("#" + color.hex);
            }

            vm.shirt_color = vm.filtered_colors[0];
            if (count == 0) {

                _.each(vm.shirts_in_styles, function (shirt) {
                    if (shirt.id == vm.selectedShirt.id)
                        shirt.selected = true;
                    else shirt.selected = false;
                    setColor(
                        vm.filtered_colors[0]);
                });

            }

        });



        }, 500);
        
        $scope.get_style();

    }

    function updateSize($w, $h, index, side) {
        var currentSide = "";
        if (side === 1) {
            currentSide = "front";
        }
        else if (side === 2) {
            currentSide = "back";
        }
        else if (side === 3) {
            currentSide = "left";
        }
        else if (side === 4) {
            currentSide = "right";
        }

       setTimeout(function(){
        var e = $('#box' + index + currentSide);
        text = e.find('text'),
        $w = text[0].getBoundingClientRect().width,
        $h = text[0].getBoundingClientRect().height,
        svg = e.find('svg'),
            view = svg[0].getAttributeNS(null, 'viewBox'),
            width = svg[0].getAttributeNS(null, 'width'),
            height = svg[0].getAttributeNS(null, 'height');
        view = view.split(' ');
        svg[0].setAttributeNS(null, 'width', $w);
        svg[0].setAttributeNS(null, 'height', $h);
        svg[0].setAttributeNS(null, 'viewBox', '0 0 ' + (($w * view[2]) / width) + ' ' + (($h * view[3]) / height));
        $(e).css({ 'width': $w + 'px', 'height': $h + 'px' });

        // console.log(e);
		// 	console.log(svg);
		// 	console.log(view);
		// 	console.log(width);
		// 	console.log(height);
		// 	console.log(($w * view[2])/width);
		// 	console.log((($h * view[3])/height));


            


            },0)
            

           
    }

    function selectGraphic(graphic, is_searched) {
        vm.flipX = false;
        vm.flipY = false;
        if (is_searched) {
            vm.graphics.push(graphic);
        }

        if (vm.default_tab === 1) {

            var z_index = 1;
            if (!vm.front_design.length) {
                z_index = 1;
            }
            else {

                // z_index = vm.front_design[vm.front_design.length - 1].z_index + 1;
                 z_index = _.max(vm.front_design,function(front){return front.z_index}).z_index + 1;
            }

            // DashboardService.GetSvg(vm.graphicsURL + graphic.filename).then(function(data){
            //    console.log(data.data);
            // })



            var obj = {

                "type": "svg",
                "src": vm.graphicsURL + graphic.filename,
                "z_index": z_index,
                "zIndex":z_index,
                "width": graphic.width + "px",
                "height": graphic.height + "px",
                "id": graphic.id

            }

            vm.front_design.push(obj);

            _.each(vm.front_design, function (front) {



                if (front.z_index != z_index) {
                    $('#tools' + front.z_index + "front").css({ 'visibility': 'hidden' });
                    $('#box' + front.z_index + "front").removeClass('border');
                    front.selected = false;
                }


            });



            setTimeout(function () {
                var e = $('#box' + z_index + "front");
                var $width = e.width();
                var pw = e.parent().parent().width();
                var left = (pw - $width) / 2;
                var top = ((vm.selectedShirt.printable_front_height / 2) - parseFloat(graphic.height));
                e.css('left', left + 'px');
                //e.css('top', top + 'px');
                var currentSvg = document.querySelectorAll('#box' + z_index + "front" + ' svg');


                currentSvg[0].setAttributeNS(null, 'viewBox', '0 20 ' + graphic.width + ' ' + graphic.height);
                $('#tools' + z_index + "front").css({ 'visibility': 'visible' });
                $('#box' + z_index + "front").addClass('border');
                vm.select_text(z_index);

                console.log(z_index);

            //    _.each(vm.front_design.length,function(front){


            //         console.log(front.z_index,z_index);
                        
            //         //      if(front.z_index !== z_index){
            //         //        $('.printable-area').removeClass('crossing_border');
                         
            //         //      }
            //         //      else{

            //         //               window.setInterval(function (first,second) {
            //         // //console.log(currentSvg[0]);
            //         //                 if (!collision($("#box"+z_index+"front"), $('.printable-area'))) {
            //         //                     $('.printable-area').addClass('crossing_border');
            //         //                 }
            //         //                 else {

            //         //                     $('.printable-area').removeClass('crossing_border');

                            
                                    
            //         //                 }
            //         //             }, 200);

            //         //      }

            //             }) 

          

                

            }, 500)



            vm.selectedGraphic = graphic;
            vm.designSelected = true;
        }
        else if (vm.default_tab === 2) {

            var z_index = 1;
            if (!vm.back_design.length) {
                z_index = 1;
            }
            else {

               // z_index = vm.back_design[vm.back_design.length - 1].z_index + 1;
               z_index = _.max(vm.back_design,function(back){return back.z_index}).z_index + 1;
            }



            var obj = {

                "type": "svg",
                "src": vm.graphicsURL + graphic.filename,
                "z_index": z_index,
                "zIndex":z_index,
                "width": graphic.width + "px",
                "height": graphic.height + "px",
                "id": graphic.id

            }

            vm.back_design.push(obj);

            _.each(vm.back_design, function (back) {



                if (back.z_index != z_index) {
                    $('#tools' + back.z_index + "back").css({ 'visibility': 'hidden' });
                    $('#box' + back.z_index + "back").removeClass('border');
                    back.selected = false;
                }


            });



            setTimeout(function () {
                var e = $('#box' + z_index + "back");
                var $width = e.width();
                var pw = e.parent().parent().width();
                var left = (pw - $width) / 2;
                var top = ((vm.selectedShirt.printable_back_height / 2) - parseFloat(graphic.height));
                e.css('left', left + 'px');
                //e.css('top', top + 'px');
                var currentSvg = document.querySelectorAll('#box' + z_index + "back" + ' svg');

                console.log(currentSvg[0]);
                currentSvg[0].setAttributeNS(null, 'viewBox', '0 20 ' + graphic.width + ' ' + graphic.height);
                $('#tools' + z_index + "back").css({ 'visibility': 'visible' });
                $('#box' + z_index + "back").addClass('border');

                vm.select_text(z_index);


            }, 500)



            vm.selectedGraphic = graphic;
            vm.designSelected = true;

        }
        else if (vm.default_tab === 3) {

            var z_index = 1;
            if (!vm.left_design.length) {
                z_index = 1;
            }
            else {

               // z_index = vm.left_design[vm.left_design.length - 1].z_index + 1;
               z_index = _.max(vm.left_design,function(left){return left.z_index}).z_index + 1;
            }



            var obj = {

                "type": "svg",
                "src": vm.graphicsURL + graphic.filename,
                "z_index": z_index,
                "zIndex":z_index,
                "width": graphic.width + "px",
                "height": graphic.height + "px",
                "id": graphic.id

            }

            vm.left_design.push(obj);

            _.each(vm.left_design, function (back) {



                if (back.z_index != z_index) {
                    $('#tools' + back.z_index + "left").css({ 'visibility': 'hidden' });
                    $('#box' + back.z_index + "left").removeClass('border');
                    back.selected = false;
                }


            });



            setTimeout(function () {
                var e = $('#box' + z_index + "left");
                var $width = e.width();
                var pw = e.parent().parent().width();
                var left = (pw - $width) / 2;
                var top = ((vm.selectedShirt.printable_left_height / 2) - parseFloat(graphic.height));
                e.css('left', left + 'px');
               // e.css('top', top + 'px');
                var currentSvg = document.querySelectorAll('#box' + z_index + "left" + ' svg');

                console.log(currentSvg[0]);
                currentSvg[0].setAttributeNS(null, 'viewBox', '0 20 ' + graphic.width + ' ' + graphic.height);
                $('#tools' + z_index + "left").css({ 'visibility': 'visible' });
                $('#box' + z_index + "left").addClass('border');


                vm.select_text(z_index);

            }, 500)



            vm.selectedGraphic = graphic;
            vm.designSelected = true;

        }
        else if (vm.default_tab === 4) {

            var z_index = 1;
            if (!vm.right_design.length) {
                z_index = 1;
            }
            else {

               // z_index = vm.right_design[vm.right_design.length - 1].z_index + 1;
               z_index = _.max(vm.right_design,function(right){return right.z_index}).z_index + 1;
            }



            var obj = {

                "type": "svg",
                "src": vm.graphicsURL + graphic.filename,
                "z_index": z_index,
                "zIndex":z_index,
                "width": graphic.width + "px",
                "height": graphic.height + "px",
                "id": graphic.id

            }

            vm.right_design.push(obj);

            _.each(vm.right_design, function (right) {



                if (right.z_index != z_index) {
                    $('#tools' + right.z_index + "right").css({ 'visibility': 'hidden' });
                    $('#box' + right.z_index + "right").removeClass('border');
                    right.selected = false;
                }


            });



            setTimeout(function () {
                var e = $('#box' + z_index + "right");
                var $width = e.width();
                var pw = e.parent().parent().width();
                var left = (pw - $width) / 2;
                var top = ((vm.selectedShirt.printable_right_height / 2) - parseFloat(graphic.height));
                e.css('left', left + 'px');
               // e.css('top', top + 'px');
                var currentSvg = document.querySelectorAll('#box' + z_index + "right" + ' svg');

                console.log(currentSvg[0]);
                currentSvg[0].setAttributeNS(null, 'viewBox', '0 20 ' + graphic.width + ' ' + graphic.height);
                $('#tools' + z_index + "right").css({ 'visibility': 'visible' });
                $('#box' + z_index + "right").addClass('border');

                vm.select_text(z_index);


            }, 500)



            vm.selectedGraphic = graphic;
            vm.designSelected = true;

        }

    }
    
    $scope.trustSrc = function (src) {
        return $sce.trustAsResourceUrl(src);
    }

    function set_design_tab(arg) {
        vm.default_design_tab = arg;
        if(vm.default_design_tab == 3){
            //vm.deselect_text();
          //  $scope.focus = false;

        
        }

        if(vm.default_design_tab === 3 || vm.default_design_tab === 4){
            angular.forEach(intervals, function(interval) {
                $interval.cancel(interval);
            });
            intervals.length = 0;
        }
    }

    function activate_tab(arg) {
        vm.selected_text = {};
        vm.default_tab = arg;
        if (arg === 2){
            vm.hide = true;        
        }

        if(arg===1){
            angular.forEach(intervals, function(interval) {
                $interval.cancel(interval);
            });
            intervals.length = 0;
           $('.printable-area').removeClass('crossing_border');

        }

        if (arg === 2 || arg === 3 || arg === 4) {

            $('.user-list').css({ 'visibility': 'hidden' });
            $('.user-box').removeClass('border');

            angular.forEach(intervals, function(interval) {
                $interval.cancel(interval);
            });
            intervals.length = 0;
           $('.printable-area').removeClass('crossing_border');

        }
    }
    function loadDefault() {

        //$state.transitionTo('home.create');

    }

     vm.deleteLayer = function (zindex) {


        vm.selected_text= {};

        if((!vm.front_design.length) || (!vm.back_design.length) || (!vm.left_design.length) || (!vm.right_design.length)){

            angular.forEach(intervals, function(interval) {
              $interval.cancel(interval);
            });
            intervals.length = 0;

        }

        if($(".printable-area").hasClass('crossing_border')){
            $(".printable-area").removeClass('crossing_border');
        }

        if (vm.default_tab === 1) {
            vm.front_design = _.reject(vm.front_design, function (layer) { return layer.z_index === zindex; });
            calculate_front();

        }

        else if (vm.default_tab === 2) {
            vm.back_design = _.reject(vm.back_design, function (layer) { return layer.z_index === zindex; });
            calculate_back();
        }
        else if (vm.default_tab === 3) {
            vm.left_design = _.reject(vm.left_design, function (layer) { return layer.z_index === zindex; });
            calculate_left();
        }
        else if (vm.default_tab === 4) {
            vm.right_design = _.reject(vm.right_design, function (layer) { return layer.z_index === zindex; });
            calculate_right();
        }
    }


        var intervals = []
      //  intervals.push($interval(function() { /*doStuff*/ }, /*timeout*/));
       // intervals.push($interval(function() { /*doDifferentStuff*/ }, /*timeout*/));


       

    function init_shirt_drawings() {

        vm.front_design = [
            // {
            //     "type": "text",
            //     "font": 'arial',
            //     "color": "rgb(255,0,0)",
            //     "text": "Abdul",
            //     "z_index": 1,
            //     "selected":false,
            //     "slider" : {
            //     "value": 0,
            //     "options": {
            //         "floor": -360,
            //         "ceil": 360,
            //         "step": 1,
            //       },
            //     }
            // },

            // {
            //     "type": "svg",
            //     "z_index": 4,
            //     "src": "",
            //     "selected":false,
            //     "slider" : {
            //     "value": 0,
            //     "options": {
            //         "floor": -360,
            //         "ceil": 360,
            //         "step": 1,
            //       },
            //     }
            // },
            // {
            //     "type": "img",
            //     "z_index": 5,
            //     "src": "http://demo.tshirtecommerce.com/media/assets/uploaded/2016/09/Smile_thumb.png",
            //     "selected": false,
            //     "slider": {
            //         "value": 0,
            //         "options": {
            //             "floor": -360,
            //             "ceil": 360,
            //             "step": 1,
            //         },
            //     }
            // }


        ];
        

        vm.back_design = [

            // {
            //     "type": "text",
            //     "font": 'arial',
            //     "color": "rgb(0,0,255)",
            //     "text": "This is back text 2",
            //     "z_index": 1
            // },

            // {
            //     "type": "svg",
            //     "z_index": 4,
            //     "src": ""
            // },
            // {
            //     "type": "img",
            //     "z_index": 5,
            //     "src": ""
            // }


        ];

        vm.left_design = [
            // {
            //     "type": "text",
            //     "font": 'arial',
            //     "color": "rgb(255,0,0)",
            //     "text": "This is left text 1",
            //     "z_index": 2
            // },
            // {
            //     "type": "text",
            //     "font": 'arial',
            //     "color": "rgb(0,0,255)",
            //     "text": "This is left text 2",
            //     "z_index": 1
            // },

            // {
            //     "type": "svg",
            //     "z_index": 4,
            //     "src": ""
            // },
            // {
            //     "type": "img",
            //     "z_index": 5,
            //     "src": ""
            // }


        ];

        vm.right_design = [
            // {
            //     "type": "text",
            //     "font": 'arial',
            //     "color": "rgb(255,0,0)",
            //     "text": "This is right text 1",
            //     "z_index": 2
            // },
            // {
            //     "type": "text",
            //     "font": 'arial',
            //     "color": "rgb(0,0,255)",
            //     "text": "This is right text 2",
            //     "z_index": 1
            // },

            // {
            //     "type": "svg",
            //     "z_index": 4,
            //     "src": ""
            // },
            // {
            //     "type": "img",
            //     "z_index": 5,
            //     "src": ""
            // }
            // {
            //     "type": "img",
            //     "z_index": 5,
            //     "src": "http://demo.tshirtecommerce.com/media/assets/uploaded/2016/09/Smile_thumb.png",
            //     "selected": false,
            //     "slider": {
            //         "value": 0,
            //         "options": {
            //             "floor": -360,
            //             "ceil": 360,
            //             "step": 1,
            //         },
            //     }
            // }

        ];


    }

   // vm.front_interve_ids = [];

    vm.hAlign = function(){

    
      if(vm.default_tab === 1){
          var e = $("#box"+vm.frontObject.z_index+"front");
          vm.select_text(vm.frontObject.z_index);
      }
       if(vm.default_tab === 2){
          var e = $("#box"+vm.backObject.z_index+"back");
          vm.select_text(vm.backObject.z_index);
      }
       if(vm.default_tab === 3){
          var e = $("#box"+vm.leftObject.z_index+"left");
          vm.select_text(vm.leftObject.z_index);
      }
       if(vm.default_tab === 4){
          var e = $("#box"+vm.rightObject.z_index+"right");
          vm.select_text(vm.rightObject.z_index);
      }
          var $width = e.width();
		  var pw = e.parent().parent().width();
		  var left = (pw - $width)/2;
          e.css('left', left+'px');

          
       
      
  }

  vm.vAlign = function(){
       if(vm.default_tab === 1){
          var e = $("#box"+vm.frontObject.z_index+"front");
          vm.select_text(vm.frontObject.z_index);
      }
       if(vm.default_tab === 2){
          var e = $("#box"+vm.backObject.z_index+"back");
          vm.select_text(vm.backObject.z_index);
      }
       if(vm.default_tab === 3){
          var e = $("#box"+vm.leftObject.z_index+"left");
          vm.select_text(vm.leftObject.z_index);
      }
       if(vm.default_tab === 4){
          var e = $("#box"+vm.rightObject.z_index+"right");
          vm.select_text(vm.rightObject.z_index);
      }
          var $height = e.height();
		  var ph = e.parent().parent().height();
		  var top = (ph - $height)/2;
          e.css('top', top+'px');
       
      
  }

   vm.pushBehind = function(){
       if(vm.default_tab == 1){
          $("#box"+vm.frontObject.z_index+"front").css('z-index',0);
          _.each(vm.front_design,function(front){

              if(front.z_index!==vm.frontObject.z_index){
                  front.zIndex += 1;
              }

          })
          vm.frontObject.zIndex = 0;
          vm.front_design = _.sortBy(vm.front_design,'zIndex');
       }

       if(vm.default_tab == 2){
          $("#box"+vm.backObject.z_index+"back").css('z-index',0);
          _.each(vm.back_design,function(back){

              if(back.z_index!==vm.backObject.z_index){
                  back.zIndex += 1;
              }

          })
          vm.backObject.zIndex = 0;
          vm.back_design = _.sortBy(vm.back_design,'zIndex');
       }

       if(vm.default_tab == 3){
          $("#box"+vm.leftObject.z_index+"left").css('z-index',0);
          _.each(vm.left_design,function(left){

              if(left.z_index!==vm.leftObject.z_index){
                  left.zIndex += 1;
              }

          })
          vm.leftObject.zIndex = 0;
          vm.left_design = _.sortBy(vm.left_design,'zIndex');
       }

       if(vm.default_tab == 4){
          $("#box"+vm.rightObject.z_index+"right").css('z-index',0);
          _.each(vm.right_design,function(right){

              if(right.z_index!==vm.rightObject.z_index){
                  right.zIndex += 1;
              }

          })
          vm.rightObject.zIndex = 0;
          vm.right_design = _.sortBy(vm.right_design,'zIndex');
       }

   }

   vm.maxZIndex = 500;
   vm.minZindex = 0;

   vm.select_text = function (index, e) {


       $('.printable-holder').css({ 'overflow': 'visible' });
        if (vm.default_tab == 1) {

            _index = _.findIndex(vm.front_design, function (x) { return x.z_index == index });
            vm.selected_text = vm.front_design[_index];
            vm.frontObject = vm.front_design[_index];


            
            vm.default_design_tab = vm.selected_text.type === 'svg' ? 2 : 3;

            $("#box"+vm.selected_text.z_index+"front").css('z-index',vm.maxZIndex++);
            vm.selected_text.zIndex = vm.maxZIndex++;

            if(vm.front_design.length>1){
                _.each(vm.front_design,function(front){
                    

                    var zIndex = $("#box"+front.z_index+"front").css('z-index');
                    if(front.z_index === vm.selected_text.z_index){
                      
                        
                     $("#box"+front.z_index+"front").css('z-index',parseInt(zIndex)+1);
                     vm.selected_text.zIndex = parseInt(zIndex)+1;

                     vm.front_design = _.sortBy(vm.front_design,'zIndex');

                     console.log(vm.front_design);

                    }
                    else{
                       
                        if(parseInt(zIndex)!==0){
                        $("#box"+front.z_index+"front").css('z-index',parseInt(zIndex)-1);
                        vm.selected_text.zIndex = parseInt(zIndex)-1;
                        }
                    }

                })
            }
                
      

            var tspan = document.querySelector('#box' + vm.selected_text.z_index + "front" + ' tspan')

            // vm.Bbox = tspan.getBBox();
            // vm.Bbox.height += 30;
            // vm.Bbox.width += 50;
            // var rotationInfo = $('#box'+vm.selected_text.z_index).rotationInfo();
            // console.log(rotationInfo.deg);
            // var updateVisibility = "-webkit-user-select: none; visibility: visible; transform: rotateZ(0deg);";
            // angular.element('#box'+vm.selected_text.z_index)[0].attributes[6].nodeValue = updateVisibility;

            var params = {
                // Callback fired on rotation start.
                start: function (event, ui) {

                     var e = ui.element;
                    // e.css('transform-origin','50% 50%');
                    //   var width = e.css('width').substr(0,e.css('width').length-2);
                    //         var height = e.css('height').substr(0,e.css('height').length-2);
                    //         width = parseFloat(width);
                    //         height = parseFloat(height);
                    //         console.log(width,height);
                    // console.log(e.css('width'));
                    // e.css('transform-origin','50% 50% 0px');
                    //    $('.border').rotationInfo(vm.selected_text.slider.value);
                    //    console.log($('.border').rotationInfo().deg,vm.selected_text.slider.value);

                    // $('.border').css({
                    //     '-webkit-transform' : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-moz-transform'    : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-ms-transform'     : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-o-transform'      : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     'transform'         : 'rotate(' + vm.selected_text.slider.value + 'deg)'
                    // });

                },
                // Callback fired during rotation.
                rotate: function (event, ui) {

                    $('.printable-area').removeClass('crossing_border');

                    //  var updateDegree = ui.angle.current * (180/Math.PI);
                    //  vm.selected_text.slider.value = updateDegree;
                    //  $scope.$apply();
                    // console.log("Rotating",updateDegree);
                    // console.log("Rotatating",updateDegree);
                    // var $scope = angular.element('#box').scope();
                    // $scope.slider.value = updateDegree;
                    // $scope.$apply();

                },
                // Callback fired on rotation end.
                stop: function (event, ui) {


                    //  var e = ui.element;

                    //           var width = e.css('width').substr(0,e.css('width').length-2);
                    //         var height = e.css('height').substr(0,e.css('height').length-2);
                    //         width = parseFloat(width);
                    //         height = parseFloat(height);
                    //         console.log(width,height);
                    //         // alert("Calleeed");
                           
                    //         e.css('transform-origin', width/2 + 'px ' + height/2 + 'px ' + '0px');

                    $('.printable-area').removeClass('crossing_border');

                },

                // Set the rotation center at (25%, 75%).
                //  rotationCenterX: 0.0, 
                //  rotationCenterY: 0.0
            };

            var oldwidth = 0, oldsize = 0;

            _.each(vm.front_design, function (front) {


                if (front.z_index == vm.selected_text.z_index) {
                    $('#tools' + vm.selected_text.z_index + "front").css({ 'visibility': 'visible' });
                    $('#box' + vm.selected_text.z_index + "front").addClass('border');

                  
                    // if(front.type==="text"){
                        
                        
                    //       setTimeout(function(){
                    //           $scope.focus = true;
                    //       },0)
                        
                    //     //console.log($scope.focus)
                    // }

                    intervals.push($interval(function(){
                        if(!outsideCollision($("#box"+vm.selected_text.z_index+"front svg"),$('.printable-area'),vm.selected_text.z_index,"front")){
                           vm.deleteLayer(front.z_index);
                        }
                    },200))
                intervals.push( $interval(function() {
                               if (!collision($("#box"+vm.selected_text.z_index+"front svg"), $('.printable-area'),vm.selected_text.z_index,"front")) {
                            $('.printable-area').addClass('crossing_border');
                        }
                        else {

                            $('.printable-area').removeClass('crossing_border');
                        
                        }
                        }, 200))


                    console.log(vm.interval_id);
                    

                    $('#box' + vm.selected_text.z_index + "front").resizable({
                        handles: { 'nw': $('#resize' + vm.selected_text.z_index + "front") }, aspectRatio: true, minHeight: 15, minWidth: 15,

                        start: function (event, ui) {
                            vm.oldWidth = ui.size.width;
                            vm.oldHeight = ui.size.hieght;
                        },
                        resize: function (event, ui) {
                            $('.printable-area').css({ 'overflow': 'hidden' });
                            var e = ui.element;
                            var o = e.parent().parent();
                            var left = o.css('left');

                            $(this).css({
                                'top': parseInt(ui.position.top, 10) + ((ui.originalSize.height - ui.size.height)) / 2,
                                'left': parseInt(ui.position.left, 10) + ((ui.originalSize.width - ui.size.width)) / 2
                            });
                            left = parseInt(left.replace('px', ''));

                            var top = o.css('top');
                            top = parseInt(top.replace('px', ''));
                            var width = o.css('width');
                            width = parseInt(width.replace('px', ''));

                            var height = o.css('height');
                            height = parseInt(height.replace('px', ''));

                            var $left = parseInt(ui.position.left),
                                $top = parseInt(ui.position.top),
                                $width = parseInt(ui.size.width),
                                $height = parseInt(ui.size.height);
                            if (($left + $width) > width || ($top + $height) > height) {
                                //e.data('block', true);
                                //  e.css('border', '1px solid #FF0000');
                                if (parseInt(left + $left + $width) > 490 || parseInt(top + $top + $height) > 490) {
                                    //$jd(this).resizable('widget').trigger('mouseup');
                                }
                            } else {
                                // e.data('block', false);
                                // e.css('border', '1px dashed #444444');
                            }
                            var svg = e.find('svg');

                            svg[0].setAttributeNS(null, 'width', $width);
                            svg[0].setAttributeNS(null, 'height', $height);
                            svg[0].setAttributeNS(null, 'preserveAspectRatio', 'none');




                            var svg = e.find('svg');



                            // if(e.data('type') == 'clipart')
                            // {
                            //     var file = e.data('file');
                            //     if(file.type == 'image')
                            //     {	
                            //         var img = e.find('image');
                            //         img[0].setAttributeNS(null, 'width', $width);
                            //         img[0].setAttributeNS(null, 'height', $height);
                            //     }
                            // }

                            // if(e.data('type') == 'text')
                            // {						
                            //     //var text = e.find('text');
                            //     //text[0].setAttributeNS(null, 'y', 20);						
                            // }

                            jQuery('#' + e.data('type') + '-width').val(parseInt($width));
                            jQuery('#' + e.data('type') + '-height').val(parseInt($height));
                        },
                        stop: function (e, ui) {

                            var e = ui.element;
                            vm.newWidth = ui.size.width;
                            vm.newHeight = ui.size.hieght;

                            //   var width = e.css('width').substr(0,e.css('width').length-2);
                            // var height = e.css('height').substr(0,e.css('height').length-2);
                            // width = parseFloat(width);
                            // height = parseFloat(height);
                            // console.log(width,height);
                            // // alert("Calleeed");
                           
                            // e.css('transform-origin', width/2 + 'px ' + height/2 + 'px ' + '0px');

                             $('.printable-area').css({ 'overflow': 'visible' });
                            //vm.unitWidth += 25;
                            // var text = document.querySelectorAll("#box1front" + ' tspan');
                            // var $w = parseInt(text[0].getBoundingClientRect().width);
                            // var $h = parseInt(text[0].getBoundingClientRect().height);
                            // vm.unitWidth = $w/5;
                        }
                    })
                        .rotatable(params, { handle: $('#box' + vm.selected_text.z_index + "front" + ' .icon-rotate-free') },{wheelRotate: false});
                       
                    $('#box' + vm.selected_text.z_index + "front" + ' .rotate a').append($('#box' + vm.selected_text.z_index + "front" + ' .icon-rotate-free'));
                    var recoupLeft, recoupTop;
                    $('#box' + vm.selected_text.z_index + "front").draggable({
                         start: function (event, ui) {
                            var left = parseInt($(this).css('left'),10);
                            left = isNaN(left) ? 0 : left;
                            var top = parseInt($(this).css('top'),10);
                            top = isNaN(top) ? 0 : top;
                            recoupLeft = left - ui.position.left;
                            recoupTop = top - ui.position.top;

                        },
                        cancel: '.delete,.drag',
                        drag: function (e, ui) {
                            $('.printable-area').css({ 'overflow': 'hidden' });
                            y2 = ui.position.top;
                            x2 = ui.position.left;
                            ui.position.left += recoupLeft;
                            ui.position.top += recoupTop;
                            var printableWidth = $('.printable-area').width()+20;
                            //  console.log(printableWidth, x2);
                            if (x2 > printableWidth) {
                                // alert("Crossing Boundries");
                                // $('.printable-holder').addClass('crossing_border');
                            }

                            // else if(x2 > -printableWidth){
                            //     console.log("Yeeeedddd");

                            // }
                            // else{

                            //     $('.printable-holder').removeClass('crossing_border');

                            // }
                            //     if(x2<-100){alert("Lesser than -100px");
                            // }

                        },
                        stop: function (e, ui) {
                            $('.printable-area').css({ 'overflow': 'visible' });
                        }
                    });

                    // vm.selected_tex.slider.value = rotationInfo.deg;
                    front.selected = true;
                }
                else {
                    $('#tools' + front.z_index + "front").css({ 'visibility': 'hidden' });
                    $('#box' + front.z_index + "front").removeClass('border');
                    front.selected = false;
                }
            })





            // console.log(angular.element('#box'+vm.selected_text.z_index));
            $scope.focus = true;


        }

        else if (vm.default_tab === 2) {
            // _index = vm.back_design.findIndex(x => x.z_index == index);
            _index = _.findIndex(vm.back_design, function (x) { return x.z_index == index });
            vm.selected_text = vm.back_design[_index];
            vm.backObject = vm.back_design[_index];


            vm.default_design_tab = vm.selected_text.type === 'svg' ? 2 : 3;

            $("#box"+vm.selected_text.z_index+"back").css('z-index',vm.maxZIndex++);
            vm.selected_text.zIndex = vm.maxZIndex++;

            if(vm.back_design.length>1){
                _.each(vm.back_design,function(back){

                    var zIndex = $("#box"+back.z_index+"back").css('z-index');
                    if(back.z_index === vm.selected_text.z_index){
                      
                        
                     $("#box"+back.z_index+"back").css('z-index',parseInt(zIndex)+1);
                     vm.selected_text.zIndex = parseInt(zIndex)+1;

                     vm.back_design = _.sortBy(vm.back_design,'zIndex');

                     //console.log(vm.front_design);

                    }
                    else{
                       
                        if(parseInt(zIndex)!==0){
                        $("#box"+back.z_index+"back").css('z-index',parseInt(zIndex)-1);
                        vm.selected_text.zIndex = parseInt(zIndex)-1;
                        }
                    }

                })
            }


            var tspan = document.querySelector('#box' + vm.selected_text.z_index + "back" + ' tspan')

            // vm.Bbox = tspan.getBBox();
            // vm.Bbox.height += 30;
            // vm.Bbox.width += 50;
            // var rotationInfo = $('#box'+vm.selected_text.z_index).rotationInfo();
            // console.log(rotationInfo.deg);
            // var updateVisibility = "-webkit-user-select: none; visibility: visible; transform: rotateZ(0deg);";
            // angular.element('#box'+vm.selected_text.z_index)[0].attributes[6].nodeValue = updateVisibility;
            var params = {
                // Callback fired on rotation start.
                start: function (event, ui) {

                    //    $('.border').rotationInfo(vm.selected_text.slider.value);
                    //    console.log($('.border').rotationInfo().deg,vm.selected_text.slider.value);

                    // $('.border').css({
                    //     '-webkit-transform' : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-moz-transform'    : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-ms-transform'     : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-o-transform'      : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     'transform'         : 'rotate(' + vm.selected_text.slider.value + 'deg)'
                    // });

                },
                // Callback fired during rotation.
                rotate: function (event, ui) {

                    //  var updateDegree = ui.angle.current * (180/Math.PI);
                    //  vm.selected_text.slider.value = updateDegree;
                    //  $scope.$apply();
                    // console.log("Rotating",updateDegree);
                    // console.log("Rotatating",updateDegree);
                    // var $scope = angular.element('#box').scope();
                    // $scope.slider.value = updateDegree;
                    // $scope.$apply();

                },
                // Callback fired on rotation end.
                stop: function (event, ui) {

                },

                // Set the rotation center at (25%, 75%).
                // rotationCenterX: 25.0, 
                // rotationCenterY: 75.0
            };

         

            

            var oldwidth = 0, oldsize = 0;

            _.each(vm.back_design, function (front) {


                if (front.z_index == vm.selected_text.z_index) {
                    $('#tools' + vm.selected_text.z_index + "back").css({ 'visibility': 'visible' });
                    $('#box' + vm.selected_text.z_index + "back").addClass('border');
                    
                

                intervals.push($interval(function(){
                        if(!outsideCollision($("#box"+vm.selected_text.z_index+"back svg"),$('.printable-area'),vm.selected_text.z_index,"back")){
                           vm.deleteLayer(front.z_index);
                        }
                    },200))

                    // intervals.push($interval(function(){
                    //     if(!outsideCollision($("#box"+vm.selected_text.z_index+"back svg"),$('.printable-area'))){
                    //        vm.deleteLayer(front.z_index);
                    //     }
                    // },200))
                 
                     intervals.push( $interval(function() {
                               if (!collision($("#box"+vm.selected_text.z_index+"back svg"), $('.printable-area'),vm.selected_text.z_index,"back")) {
                            $('.printable-area').addClass('crossing_border');
                        }
                        else {

                            $('.printable-area').removeClass('crossing_border');
                        
                        }
                        }, 200))

                    $('#box' + vm.selected_text.z_index + "back").resizable({
                        handles: { 'nw': $('#resize' + vm.selected_text.z_index + "back") }, aspectRatio: true, minHeight: 15, minWidth: 15,

                        start: function (event, ui) {
                            oldwidth = ui.size.width;
                        },
                        resize: function (event, ui) {
                            $('.printable-area').css({ 'overflow': 'hidden' });
                            var e = ui.element;
                            var o = e.parent().parent();
                            var left = o.css('left');
                            left = parseInt(left.replace('px', ''));

                            var top = o.css('top');
                            top = parseInt(top.replace('px', ''));
                            var width = o.css('width');
                            width = parseInt(width.replace('px', ''));

                            $(this).css({
                                'top': parseInt(ui.position.top, 10) + ((ui.originalSize.height - ui.size.height)) / 2,
                                'left': parseInt(ui.position.left, 10) + ((ui.originalSize.width - ui.size.width)) / 2
                            });

                            var height = o.css('height');
                            height = parseInt(height.replace('px', ''));

                            var $left = parseInt(ui.position.left),
                                $top = parseInt(ui.position.top),
                                $width = parseInt(ui.size.width),
                                $height = parseInt(ui.size.height);
                            if (($left + $width) > width || ($top + $height) > height) {
                                //e.data('block', true);
                                //  e.css('border', '1px solid #FF0000');
                                if (parseInt(left + $left + $width) > 490 || parseInt(top + $top + $height) > 490) {
                                    //$jd(this).resizable('widget').trigger('mouseup');
                                }
                            } else {
                                // e.data('block', false);
                                // e.css('border', '1px dashed #444444');
                            }

                            console.log(e);
                            var svg = e.find('svg');

                            console.log(svg);

                            svg[0].setAttributeNS(null, 'width', $width);
                            svg[0].setAttributeNS(null, 'height', $height);
                            svg[0].setAttributeNS(null, 'preserveAspectRatio', 'none');

                            // if(e.data('type') == 'clipart')
                            // {
                            //     var file = e.data('file');
                            //     if(file.type == 'image')
                            //     {	
                            //         var img = e.find('image');
                            //         img[0].setAttributeNS(null, 'width', $width);
                            //         img[0].setAttributeNS(null, 'height', $height);
                            //     }
                            // }

                            // if(e.data('type') == 'text')
                            // {						
                            //     //var text = e.find('text');
                            //     //text[0].setAttributeNS(null, 'y', 20);						
                            // }

                            jQuery('#' + e.data('type') + '-width').val(parseInt($width));
                            jQuery('#' + e.data('type') + '-height').val(parseInt($height));
                        },
                        stop: function (e, ui) {
                            $('.printable-area').css({ 'overflow': 'visible' });
                        }
                    })
                        .rotatable(params, { handle: $('#box' + vm.selected_text.z_index + "back" + ' .icon-rotate-free') },{wheelRotate: false});
                    $('#box' + vm.selected_text.z_index + "back" + ' .rotate a').append($('#box' + vm.selected_text.z_index + "back" + ' .icon-rotate-free'));
                    var recoupLeft, recoupTop;
                    $('#box' + vm.selected_text.z_index + "back").draggable({
                        start: function (event, ui) {
                            var left = parseInt($(this).css('left'),10);
                            left = isNaN(left) ? 0 : left;
                            var top = parseInt($(this).css('top'),10);
                            top = isNaN(top) ? 0 : top;
                            recoupLeft = left - ui.position.left;
                            recoupTop = top - ui.position.top;
                        },
                        cancel: '.delete,.drag',
                        drag: function (e, ui) {
                            $('.printable-area').css({ 'overflow': 'hidden' });
                            y2 = ui.position.top;
                            x2 = ui.position.left;
                            ui.position.left += recoupLeft;
                            ui.position.top += recoupTop;
                            var printableWidth = $('.printable-area').width() + 20;
                            if (x2 > printableWidth) {
                                // alert("Crossing Boundries");
                                console.log(printableWidth, x2);
                            }
                            //     if(x2<-100){alert("Lesser than -100px");
                            // }

                        },
                        stop: function (e, ui) {
                            $('.printable-area').css({ 'overflow': 'visible' });
                        }
                    });

                    // vm.selected_tex.slider.value = rotationInfo.deg;
                    front.selected = true;
                }
                else {
                    $('#tools' + front.z_index + "back").css({ 'visibility': 'hidden' });
                    $('#box' + front.z_index + "back").removeClass('border');
                    front.selected = false;
                }
            })





            // console.log(angular.element('#box'+vm.selected_text.z_index));
            $scope.focus = true;


        }

        else if (vm.default_tab === 3) {
            // _index = vm.left_design.findIndex(x => x.z_index == index);
            _index = _.findIndex(vm.left_design, function (x) { return x.z_index == index });

            vm.selected_text = vm.left_design[_index];
            vm.leftObject = vm.left_design[_index];


            vm.default_design_tab = vm.selected_text.type === 'svg' ? 2 : 3;

            $("#box"+vm.selected_text.z_index+"left").css('z-index',vm.maxZIndex++);
            vm.selected_text.zIndex = vm.maxZIndex++;

            if(vm.left_design.length>1){
                _.each(vm.left_design,function(left){

                    var zIndex = $("#box"+left.z_index+"left").css('z-index');
                    if(left.z_index === vm.selected_text.z_index){
                      
                        
                     $("#box"+left.z_index+"left").css('z-index',parseInt(zIndex)+1);
                     vm.selected_text.zIndex = parseInt(zIndex)+1;

                     vm.left_design = _.sortBy(vm.left_design,'zIndex');

                     //console.log(vm.front_design);

                    }
                    else{
                       
                        if(parseInt(zIndex)!==0){
                        $("#box"+left.z_index+"back").css('z-index',parseInt(zIndex)-1);
                        vm.selected_text.zIndex = parseInt(zIndex)-1;
                        }
                    }

                })
            }


            var tspan = document.querySelector('#box' + vm.selected_text.z_index + "left" + ' tspan')

            // vm.Bbox = tspan.getBBox();
            // vm.Bbox.height += 30;
            // vm.Bbox.width += 50;
            // var rotationInfo = $('#box'+vm.selected_text.z_index).rotationInfo();
            // console.log(rotationInfo.deg);
            // var updateVisibility = "-webkit-user-select: none; visibility: visible; transform: rotateZ(0deg);";
            // angular.element('#box'+vm.selected_text.z_index)[0].attributes[6].nodeValue = updateVisibility;

            var params = {
                // Callback fired on rotation start.
                start: function (event, ui) {

                    //    $('.border').rotationInfo(vm.selected_text.slider.value);
                    //    console.log($('.border').rotationInfo().deg,vm.selected_text.slider.value);

                    // $('.border').css({
                    //     '-webkit-transform' : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-moz-transform'    : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-ms-transform'     : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-o-transform'      : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     'transform'         : 'rotate(' + vm.selected_text.slider.value + 'deg)'
                    // });

                },
                // Callback fired during rotation.
                rotate: function (event, ui) {

                    //  var updateDegree = ui.angle.current * (180/Math.PI);
                    //  vm.selected_text.slider.value = updateDegree;
                    //  $scope.$apply();
                    // console.log("Rotating",updateDegree);
                    // console.log("Rotatating",updateDegree);
                    // var $scope = angular.element('#box').scope();
                    // $scope.slider.value = updateDegree;
                    // $scope.$apply();

                },
                // Callback fired on rotation end.
                stop: function (event, ui) {

                },

                // Set the rotation center at (25%, 75%).
                // rotationCenterX: 25.0, 
                // rotationCenterY: 75.0
            };

            var oldwidth = 0, oldsize = 0;

            _.each(vm.left_design, function (front) {


                if (front.z_index == vm.selected_text.z_index) {
                    $('#tools' + vm.selected_text.z_index + "left").css({ 'visibility': 'visible' });
                    $('#box' + vm.selected_text.z_index + "left").addClass('border');

                    intervals.push($interval(function(){
                        if(!outsideCollision($("#box"+vm.selected_text.z_index+"left svg"),$('.printable-area'),vm.selected_text.z_index,"left")){
                           vm.deleteLayer(front.z_index);
                        }
                    },200))

                     intervals.push( $interval(function() {
                               if (!collision($("#box"+vm.selected_text.z_index+"left svg"), $('.printable-area'),vm.selected_text.z_index,"left")) {
                            $('.printable-area').addClass('crossing_border');
                        }
                        else {

                            $('.printable-area').removeClass('crossing_border');
                        
                        }
                        }, 200))

                    $('#box' + vm.selected_text.z_index + "left").resizable({
                        handles: { 'nw': $('#resize' + vm.selected_text.z_index + "left") }, aspectRatio: true, minHeight: 15, minWidth: 15,

                        start: function (event, ui) {
                            oldwidth = ui.size.width;
                        },
                        resize: function (event, ui) {
                            $('.printable-area').css({ 'overflow': 'hidden' });
                            var e = ui.element;
                            var o = e.parent().parent();
                            var left = o.css('left');
                            left = parseInt(left.replace('px', ''));

                            var top = o.css('top');
                            top = parseInt(top.replace('px', ''));
                            var width = o.css('width');
                            width = parseInt(width.replace('px', ''));

                            var height = o.css('height');
                            height = parseInt(height.replace('px', ''));

                            $(this).css({
                                'top': parseInt(ui.position.top, 10) + ((ui.originalSize.height - ui.size.height)) / 2,
                                'left': parseInt(ui.position.left, 10) + ((ui.originalSize.width - ui.size.width)) / 2
                            });

                            var $left = parseInt(ui.position.left),
                                $top = parseInt(ui.position.top),
                                $width = parseInt(ui.size.width),
                                $height = parseInt(ui.size.height);
                            if (($left + $width) > width || ($top + $height) > height) {
                                //e.data('block', true);
                                //  e.css('border', '1px solid #FF0000');
                                if (parseInt(left + $left + $width) > 490 || parseInt(top + $top + $height) > 490) {
                                    //$jd(this).resizable('widget').trigger('mouseup');
                                }
                            } else {
                                // e.data('block', false);
                                // e.css('border', '1px dashed #444444');
                            }
                            var svg = e.find('svg');

                            svg[0].setAttributeNS(null, 'width', $width);
                            svg[0].setAttributeNS(null, 'height', $height);
                            svg[0].setAttributeNS(null, 'preserveAspectRatio', 'none');

                            // if(e.data('type') == 'clipart')
                            // {
                            //     var file = e.data('file');
                            //     if(file.type == 'image')
                            //     {	
                            //         var img = e.find('image');
                            //         img[0].setAttributeNS(null, 'width', $width);
                            //         img[0].setAttributeNS(null, 'height', $height);
                            //     }
                            // }

                            // if(e.data('type') == 'text')
                            // {						
                            //     //var text = e.find('text');
                            //     //text[0].setAttributeNS(null, 'y', 20);						
                            // }

                            jQuery('#' + e.data('type') + '-width').val(parseInt($width));
                            jQuery('#' + e.data('type') + '-height').val(parseInt($height));
                        },
                        stop: function (e, ui) {
                            $('.printable-area').css({ 'overflow': 'visible' });
                        }
                    })
                        .rotatable(params, { handle: $('#box' + vm.selected_text.z_index + "left" + ' .icon-rotate-free') },{wheelRotate: false});
                    $('#box' + vm.selected_text.z_index + "left" + ' .rotate a').append($('#box' + vm.selected_text.z_index + "left" + ' .icon-rotate-free'));
                    var recoupLeft, recoupTop;
                    $('#box' + vm.selected_text.z_index + "left").draggable({
                        start: function (event, ui) {
                            var left = parseInt($(this).css('left'),10);
                            left = isNaN(left) ? 0 : left;
                            var top = parseInt($(this).css('top'),10);
                            top = isNaN(top) ? 0 : top;
                            recoupLeft = left - ui.position.left;
                            recoupTop = top - ui.position.top;
                        },
                        cancel: '.delete,.drag',
                        drag: function (e, ui) {
                            $('.printable-area').css({ 'overflow': 'hidden' });
                            y2 = ui.position.top;
                            x2 = ui.position.left;
                            ui.position.left += recoupLeft;
                            ui.position.top += recoupTop;
                            var printableWidth = $('.printable-area').width() + 20;
                            if (x2 > printableWidth) {
                                //alert("Crossing Boundries");
                                console.log(printableWidth, x2);
                            }
                            //     if(x2<-100){alert("Lesser than -100px");
                            // }

                        },
                        stop: function (e, ui) {
                            $('.printable-area').css({ 'overflow': 'visible' });
                        }
                    });

                    // vm.selected_tex.slider.value = rotationInfo.deg;
                    front.selected = true;
                }
                else {
                    $('#tools' + front.z_index + "left").css({ 'visibility': 'hidden' });
                    $('#box' + front.z_index + "left").removeClass('border');
                    front.selected = false;
                }
            })





            // console.log(angular.element('#box'+vm.selected_text.z_index));
            $scope.focus = true;


        }

        else if (vm.default_tab === 4) {
            // _index = vm.right_design.findIndex(x => x.z_index == index);
            _index = _.findIndex(vm.right_design, function (x) { return x.z_index == index });
            vm.selected_text = vm.right_design[_index];
            vm.rightObject = vm.right_design[_index];


            vm.default_design_tab = vm.selected_text.type === 'svg' ? 2 : 3;

            $("#box"+vm.selected_text.z_index+"right").css('z-index',vm.maxZIndex++);
            vm.selected_text.zIndex = vm.maxZIndex++;

            if(vm.right_design.length>1){
                _.each(vm.right_design,function(right){

                    var zIndex = $("#box"+right.z_index+"right").css('z-index');
                    if(right.z_index === vm.selected_text.z_index){
                      
                        
                     $("#box"+right.z_index+"back").css('z-index',parseInt(zIndex)+1);
                     vm.selected_text.zIndex = parseInt(zIndex)+1;

                     vm.right_design = _.sortBy(vm.right_design,'zIndex');

                     //console.log(vm.front_design);

                    }
                    else{
                       
                        if(parseInt(zIndex)!==0){
                        $("#box"+right.z_index+"back").css('z-index',parseInt(zIndex)-1);
                        vm.selected_text.zIndex = parseInt(zIndex)-1;
                        }
                    }

                })
            }


            var tspan = document.querySelector('#box' + vm.selected_text.z_index + "right" + ' tspan')

            // vm.Bbox = tspan.getBBox();
            // vm.Bbox.height += 30;
            // vm.Bbox.width += 50;
            // var rotationInfo = $('#box'+vm.selected_text.z_index).rotationInfo();
            // console.log(rotationInfo.deg);
            // var updateVisibility = "-webkit-user-select: none; visibility: visible; transform: rotateZ(0deg);";
            // angular.element('#box'+vm.selected_text.z_index)[0].attributes[6].nodeValue = updateVisibility;

            var params = {
                // Callback fired on rotation start.
                start: function (event, ui) {

                    //    $('.border').rotationInfo(vm.selected_text.slider.value);
                    //    console.log($('.border').rotationInfo().deg,vm.selected_text.slider.value);

                    // $('.border').css({
                    //     '-webkit-transform' : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-moz-transform'    : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-ms-transform'     : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     '-o-transform'      : 'rotate(' + vm.selected_text.slider.value + 'deg)',
                    //     'transform'         : 'rotate(' + vm.selected_text.slider.value + 'deg)'
                    // });

                },
                // Callback fired during rotation.
                rotate: function (event, ui) {

                    //  var updateDegree = ui.angle.current * (180/Math.PI);
                    //  vm.selected_text.slider.value = updateDegree;
                    //  $scope.$apply();
                    // console.log("Rotating",updateDegree);
                    // console.log("Rotatating",updateDegree);
                    // var $scope = angular.element('#box').scope();
                    // $scope.slider.value = updateDegree;
                    // $scope.$apply();

                },
                // Callback fired on rotation end.
                stop: function (event, ui) {

                },

                // Set the rotation center at (25%, 75%).
                // rotationCenterX: 25.0, 
                // rotationCenterY: 75.0
            };

            var oldwidth = 0, oldsize = 0;

            _.each(vm.right_design, function (front) {


                if (front.z_index == vm.selected_text.z_index) {
                    $('#tools' + vm.selected_text.z_index + "right").css({ 'visibility': 'visible' });
                    $('#box' + vm.selected_text.z_index + "right").addClass('border');

                    intervals.push($interval(function(){
                        if(!outsideCollision($("#box"+vm.selected_text.z_index+"right svg"),$('.printable-area'),vm.selected_text.z_index,"right")){
                           vm.deleteLayer(front.z_index);
                        }
                    },200))
                     intervals.push( $interval(function() {
                               if (!collision($("#box"+vm.selected_text.z_index+"right svg"), $('.printable-area'),vm.selected_text.z_index,"right")) {
                            $('.printable-area').addClass('crossing_border');
                        }
                        else {

                            $('.printable-area').removeClass('crossing_border');
                        
                        }
                        }, 200))

                    $('#box' + vm.selected_text.z_index + "right").resizable({
                        handles: { 'nw': $('#resize' + vm.selected_text.z_index + "right") }, aspectRatio: true, minHeight: 15, minWidth: 15,

                        start: function (event, ui) {
                            oldwidth = ui.size.width;
                        },
                        resize: function (event, ui) {
                            $('.printable-area').css({ 'overflow': 'hidden' });
                            var e = ui.element;
                            var o = e.parent().parent();
                            var left = o.css('left');
                            left = parseInt(left.replace('px', ''));

                            var top = o.css('top');
                            top = parseInt(top.replace('px', ''));
                            var width = o.css('width');
                            width = parseInt(width.replace('px', ''));

                            var height = o.css('height');
                            height = parseInt(height.replace('px', ''));

                            $(this).css({
                                'top': parseInt(ui.position.top, 10) + ((ui.originalSize.height - ui.size.height)) / 2,
                                'left': parseInt(ui.position.left, 10) + ((ui.originalSize.width - ui.size.width)) / 2
                            });

                            var $left = parseInt(ui.position.left),
                                $top = parseInt(ui.position.top),
                                $width = parseInt(ui.size.width),
                                $height = parseInt(ui.size.height);
                            if (($left + $width) > width || ($top + $height) > height) {
                                //e.data('block', true);
                                //  e.css('border', '1px solid #FF0000');
                                if (parseInt(left + $left + $width) > 490 || parseInt(top + $top + $height) > 490) {
                                    //$jd(this).resizable('widget').trigger('mouseup');
                                }
                            } else {
                                // e.data('block', false);
                                // e.css('border', '1px dashed #444444');
                            }
                            var svg = e.find('svg');

                            svg[0].setAttributeNS(null, 'width', $width);
                            svg[0].setAttributeNS(null, 'height', $height);
                            svg[0].setAttributeNS(null, 'preserveAspectRatio', 'none');

                            // if(e.data('type') == 'clipart')
                            // {
                            //     var file = e.data('file');
                            //     if(file.type == 'image')
                            //     {	
                            //         var img = e.find('image');
                            //         img[0].setAttributeNS(null, 'width', $width);
                            //         img[0].setAttributeNS(null, 'height', $height);
                            //     }
                            // }

                            // if(e.data('type') == 'text')
                            // {						
                            //     //var text = e.find('text');
                            //     //text[0].setAttributeNS(null, 'y', 20);						
                            // }

                            jQuery('#' + e.data('type') + '-width').val(parseInt($width));
                            jQuery('#' + e.data('type') + '-height').val(parseInt($height));
                        },
                        stop: function (e, ui) {
                            $('.printable-area').css({ 'overflow': 'visible' });
                        }
                    })
                        .rotatable(params, { handle: $('#box' + vm.selected_text.z_index + "right" + ' .icon-rotate-free') });
                    $('#box' + vm.selected_text.z_index + "right" + ' .rotate a').append($('#box' + vm.selected_text.z_index + "right" + ' .icon-rotate-free'));
                    var recoupLeft, recoupTop;
                    $('#box' + vm.selected_text.z_index + "right").draggable({
                        start: function (event, ui) {
                            var left = parseInt($(this).css('left'),10);
                            left = isNaN(left) ? 0 : left;
                            var top = parseInt($(this).css('top'),10);
                            top = isNaN(top) ? 0 : top;
                            recoupLeft = left - ui.position.left;
                            recoupTop = top - ui.position.top;
                        },
                        cancel: '.delete,.drag',
                        drag: function (e, ui) {
                            $('.printable-area').css({ 'overflow': 'hidden' });
                            y2 = ui.position.top;
                            x2 = ui.position.left;
                            ui.position.left += recoupLeft;
                            ui.position.top += recoupTop;
                            var printableWidth = $('.printable-area').width() + 20;
                            if (x2 > printableWidth) {
                                console.log(printableWidth, x2);
                            }
                            //     if(x2<-100){alert("Lesser than -100px");
                            // }

                        },
                        stop: function (e, ui) {
                            $('.printable-area').css({ 'overflow': 'visible' });
                        }
                    });

                    // vm.selected_tex.slider.value = rotationInfo.deg;
                    front.selected = true;
                }
                else {
                    $('#tools' + front.z_index + "right").css({ 'visibility': 'hidden' });
                    $('#box' + front.z_index + "right").removeClass('border');
                    front.selected = false;
                }
            })





            // console.log(angular.element('#box'+vm.selected_text.z_index));
            $scope.focus = true;


        }

        // if (vm.default_tab == 2) {

        //     // _index = vm.back_design.findIndex(x => x.z_index == index);

        //     // vm.default_design_tab = 3;
        //     // vm.selected_text = vm.back_design[_index];
        //     // $scope.focus = true;


        //     _index = vm.back_design.findIndex(x => x.z_index == index);
        //     vm.selected_text = vm.back_design[_index];


        //     vm.default_design_tab = vm.selected_text.type==='svg'?2:3;


        //     var tspan = document.querySelector('#box'+vm.selected_text.z_index+"back"+' tspan')

        //     // vm.Bbox = tspan.getBBox();
        //     // vm.Bbox.height += 30;
        //     // vm.Bbox.width += 50;
        //     // var rotationInfo = $('#box'+vm.selected_text.z_index).rotationInfo();
        //     // console.log(rotationInfo.deg);
        //     // var updateVisibility = "-webkit-user-select: none; visibility: visible; transform: rotateZ(0deg);";
        //     // angular.element('#box'+vm.selected_text.z_index)[0].attributes[6].nodeValue = updateVisibility;

        //       var params = {
        //         // Callback fired on rotation start.
        //         start: function(event, ui) {

        //         //    $('.border').rotationInfo(vm.selected_text.slider.value);
        //         //    console.log($('.border').rotationInfo().deg,vm.selected_text.slider.value);

        //             // $('.border').css({
        //             //     '-webkit-transform' : 'rotate(' + vm.selected_text.slider.value + 'deg)',
        //             //     '-moz-transform'    : 'rotate(' + vm.selected_text.slider.value + 'deg)',
        //             //     '-ms-transform'     : 'rotate(' + vm.selected_text.slider.value + 'deg)',
        //             //     '-o-transform'      : 'rotate(' + vm.selected_text.slider.value + 'deg)',
        //             //     'transform'         : 'rotate(' + vm.selected_text.slider.value + 'deg)'
        //             // });

        //           },
        //         // Callback fired during rotation.
        //         rotate: function(event, ui) {

        //             //  var updateDegree = ui.angle.current * (180/Math.PI);
        //             //  vm.selected_text.slider.value = updateDegree;
        //             //  $scope.$apply();
        //             // console.log("Rotating",updateDegree);
        //             // console.log("Rotatating",updateDegree);
        //             // var $scope = angular.element('#box').scope();
        //             // $scope.slider.value = updateDegree;
        //             // $scope.$apply();

        //         },
        //         // Callback fired on rotation end.
        //         stop: function(event, ui) {

        //         },

        //         // Set the rotation center at (25%, 75%).
        //         // rotationCenterX: 25.0, 
        //         // rotationCenterY: 75.0
        //     };

        //     var oldwidth = 0, oldsize=0;

        //     _.each(vm.front_design,function(front){


        //         if(front.z_index == vm.selected_text.z_index){
        //             $('#tools'+vm.selected_text.z_index+"back").css({'visibility':'visible'});
        //             $('#box'+vm.selected_text.z_index+"back").addClass('border');
        //             $('#box'+vm.selected_text.z_index+"back").resizable({handles:{'nw':$('#resize'+vm.selected_text.z_index+"back")}, aspectRatio: true, minHeight: 15, minWidth: 15,

        //                                                            start: function( event, ui ){
        //                                                                     oldwidth = ui.size.width; 
        //                                                                    }, 
        //                                                           resize: function(event,ui){
        //                                                               $('.printable-area').css({'overflow':'hidden'});
        //                                                                     var e = ui.element;
        //                                                                     var o = e.parent().parent();
        //                                                                     var	left = o.css('left');
        //                                                                         left = parseInt(left.replace('px', ''));

        //                                                                     var	top = o.css('top');
        //                                                                         top = parseInt(top.replace('px', ''));
        //                                                                     var	width = o.css('width');
        //                                                                         width = parseInt(width.replace('px', ''));

        //                                                                     var	height = o.css('height');
        //                                                                         height = parseInt(height.replace('px', ''));

        //                                                                     var $left = parseInt(ui.position.left),
        //                                                                         $top = parseInt(ui.position.top),
        //                                                                         $width = parseInt(ui.size.width),
        //                                                                         $height = parseInt(ui.size.height);
        //                                                                     if(($left + $width) > width || ($top + $height)>height){
        //                                                                         //e.data('block', true);
        //                                                                       //  e.css('border', '1px solid #FF0000');
        //                                                                         if(parseInt(left + $left + $width) > 490 || parseInt(top + $top + $height) > 490){
        //                                                                             //$jd(this).resizable('widget').trigger('mouseup');
        //                                                                         }
        //                                                                     }else{
        //                                                                        // e.data('block', false);
        //                                                                        // e.css('border', '1px dashed #444444');
        //                                                                     }
        //                                                                     var svg = e.find('svg');									

        //                                                                     svg[0].setAttributeNS(null, 'width', $width);
        //                                                                     svg[0].setAttributeNS(null, 'height', $height);		
        //                                                                     svg[0].setAttributeNS(null, 'preserveAspectRatio', 'none');					

        //                                                                     // if(e.data('type') == 'clipart')
        //                                                                     // {
        //                                                                     //     var file = e.data('file');
        //                                                                     //     if(file.type == 'image')
        //                                                                     //     {	
        //                                                                     //         var img = e.find('image');
        //                                                                     //         img[0].setAttributeNS(null, 'width', $width);
        //                                                                     //         img[0].setAttributeNS(null, 'height', $height);
        //                                                                     //     }
        //                                                                     // }

        //                                                                     // if(e.data('type') == 'text')
        //                                                                     // {						
        //                                                                     //     //var text = e.find('text');
        //                                                                     //     //text[0].setAttributeNS(null, 'y', 20);						
        //                                                                     // }

        //                                                                     jQuery('#'+e.data('type')+'-width').val(parseInt($width));
        //                                                                     jQuery('#'+e.data('type')+'-height').val(parseInt($height));
        //                                                                 }, 
        //                                                                 stop:function(e,ui){
        //                                                                     $('.printable-area').css({'overflow':'visible'});
        //                                                                 }    
        //                                                          })
        //                                               .rotatable(params,{handle: $('#box'+vm.selected_text.z_index+"back"+' .icon-rotate-free')});
        //                                             $('#box'+vm.selected_text.z_index+"back"+' .rotate a').append($('#box'+vm.selected_text.z_index+"back"+' .icon-rotate-free'));
        //                                             $('#box'+vm.selected_text.z_index+"back").draggable({ cancel: '.delete,.drag',
        //                                                             drag: function (e, ui){
        //                                                                    $('.printable-area').css({'overflow':'hidden'});
        //                                                                     y2 = ui.position.top;
        //                                                                     x2 = ui.position.left;
        //                                                                     var printableWidth = $('.printable-area').width()+20;
        //                                                                     if(x2>printableWidth){
        //                                                                         alert("Crossing Boundries");
        //                                                                         console.log(printableWidth,x2);
        //                                                                     }
        //                                                                         //     if(x2<-100){alert("Lesser than -100px");
        //                                                                         // }

        //                                                               },
        //                                                               stop:function(e,ui){
        //                                                                   $('.printable-area').css({'overflow':'visible'});
        //                                                               }
        //                                                         });

        //            // vm.selected_tex.slider.value = rotationInfo.deg;
        //             front.selected = true;
        //         }
        //         else {
        //               $('#tools'+front.z_index+"back").css({'visibility':'hidden'});
        //               $('#box'+front.z_index+"back").removeClass('border');
        //                front.selected = false;
        //             }
        //     })





        //    // console.log(angular.element('#box'+vm.selected_text.z_index));
        //     $scope.focus = true;

        // }

        // if (vm.default_tab == 3) {

        //     _index = vm.left_design.findIndex(x => x.z_index == index);

        //     vm.default_design_tab = 3;
        //     vm.selected_text = vm.left_design[_index];
        //     $scope.focus = true;


        // }
        // if (vm.default_tab == 4) {

        //     _index = vm.right_design.findIndex(x => x.z_index == index);

        //     vm.default_design_tab = 3;
        //     vm.selected_text = vm.right_design[_index];
        //     $scope.focus = true;


        // }

    }

    vm.deselect_text = function () {
        vm.selected_text = {};
        $scope.focus = false;
        angular.forEach(intervals, function(interval) {
           $interval.cancel(interval);
        });
        intervals.length = 0;
    }

    /*        
    vm.updateText = function () {

        if (vm.default_tab == 1) {

            if (!(vm.selected_text.z_index)) {

                var z_index = vm.front_design[vm.front_design.length - 1].z_index + 1;
                vm.front_design.push({

                    "type": "text",
                    "font": 'arial',
                    "color": "rgb(255,0,0)",
                    "text": vm.selected_text.text,
                    "z_index": z_index

                });

                vm.selected_text = vm.front_design[vm.front_design.length - 1];
                $scope.focus = true;

                _.each(vm.front_design, function (front) {

                    console.log(front.z_index == vm.selected_text.z_index);
                    if (front.z_index == vm.selected_text.z_index) {
                        $('#tools' + vm.selected_text.z_index).css({ 'visibility': 'visible' });
                        $('#box' + vm.selected_text.z_index).addClass('border');
                    }
                    else {
                        $('#tools' + front.z_index).css({ 'visibility': 'hidden' });
                        $('#box' + front.z_index).removeClass('border');
                    }
                })

            }


        }

        if (vm.default_tab == 2) {

            if (!(vm.selected_text.z_index)) {

                var z_index = vm.back_design[vm.back_design.length - 1];
                vm.back_design.push({

                    "type": "text",
                    "font": 'arial',
                    "color": "rgb(255,0,0)",
                    "text": vm.selected_text.text,
                    "z_index": z_index

                });

                vm.selected_text = vm.back_design[vm.back_design.length - 1];
                $scope.focus = true;

            }


        }

        if (vm.default_tab == 3) {

            if (!(vm.selected_text.z_index)) {

                var z_index = vm.left_design[vm.left_design.length - 1];
                vm.left_design.push({

                    "type": "text",
                    "font": 'arial',
                    "color": "rgb(255,0,0)",
                    "text": vm.selected_text.text,
                    "z_index": z_index

                });

                vm.selected_text = vm.left_design[vm.left_design.length - 1];
                $scope.focus = true;

            }


        }
        if (vm.default_tab == 4) {

            if (!(vm.selected_text.z_index)) {

                var z_index = vm.right_design[vm.right_design.length - 1];
                vm.right_design.push({

                    "type": "text",
                    "font": 'arial',
                    "color": "rgb(255,0,0)",
                    "text": vm.selected_text.text,
                    "z_index": z_index

                });

                vm.selected_text = vm.right_design[vm.right_design.length - 1];
                $scope.focus = true;

            }
        }
    }

    */
    function updateSVGText(textObj) {

        if (textObj && textObj.z_index) {

            var text = document.querySelectorAll('#box' + textObj.z_index + ' tspan');
            var $w = parseInt(text[0].getBoundingClientRect().width);
            var $h = parseInt(text[0].getBoundingClientRect().height);
            //  vm.Bbox = text.getBBox();
            $('#box' + textObj.z_index).css('width', $w + 'px');
            $('#box' + textObj.z_index).css('height', $h + 'px');

            var svg = document.querySelectorAll('svg'),
                width = svg[0].getAttribute('width'),
                height = svg[0].getAttribute('height'),
                view = svg[0].getAttribute('viewBox').split(' '),
                vw = (view[2] * $w) / width,
                vh = (view[3] * $h) / height;
            svg[0].setAttributeNS(null, 'width', $w + 5);
            svg[0].setAttributeNS(null, 'height', $h);
            svg[0].setAttributeNS(null, 'viewBox', '0 0 ' + vw + ' ' + vh);
            return true;
        }
    }

    //Text Selection

    // vm.updateText = function(event){
    //  var tspan = document.querySelector('tspan');
    //    // console.log(document.querySelector('tspan').getComputedTextLength());
    // // var rotationangle = $('.user-box').css('styles');
    //   var rotationInfo = $('.user-box').rotationInfo();
    // //  var deg = 90;
    //   $scope.slider.value = rotationInfo.deg;
    //   console.log(vm.currentRotation);
    //     if(vm.addText.length > 0){
    //         vm.designSelected = true;
    //         vm.Bbox = tspan.getBBox();
    //         vm.Bbox.height += 30;
    //         vm.Bbox.width += 50;
    //     }
    //     else{
    //         vm.designSelected = false;
    //     }

    // }

    var setSize = function () {
        var e = $('#box' + vm.selected_text.z_index + 'front');
        var txt = e.find('text');
        var $w = parseInt(txt[0].getBoundingClientRect().width);
        var $h = parseInt(txt[0].getBoundingClientRect().height);
        e.css('width', $w + 'px');
        e.css('height', $h + 'px');
        var svg = e.find('svg'),
            width = svg[0].getAttribute('width'),
            height = svg[0].getAttribute('height'),
            view = svg[0].getAttribute('viewBox').split(' '),
            vw = (view[2] * $w) / width,
            vh = (view[3] * $h) / height;
        svg[0].setAttributeNS(null, 'width', $w);
        svg[0].setAttributeNS(null, 'height', $h);
        svg[0].setAttributeNS(null, 'viewBox', '0 0 ' + vw + ' ' + vh);
    };

    var startTextAlign = function (i,side) {
        var e = $("#box" + i + side);

        var $height = e.height();
        var ph = e.parent().parent().height();
        var top = (ph - $height)/1.25;
        var $width = e.width();
        var pw = e.parent().parent().width();
        var left = (pw - $width) / 2;
        e.css('top', top + 'px');
        e.css('left', left + 'px');
    }

     vm.widths = [];

    vm.updateText = function () {

        var unitWidth = 0;
        var unitHeight = 0;
        vm.counter = 0;

       

        // vm.Bbox = document.querySelector('tspan').getBBox();



        //  $('#box'+vm.selected_text.z_index+' svg').css('width', $w + 'px');
        // $('#box'+vm.selected_text.z_index).css('height', $h + 'px');

        //  debugger;

     

        if (vm.default_tab == 1) {

     
            if(!vm.selected_text.text.length){
                vm.deleteLayer(vm.selected_text.z_index);
                vm.newFrontText = true;
                return;
                
            }

    

            if (vm.selected_text.z_index && vm.selected_text.type == 'text' && !vm.newFrontText) {

                vm.counter++;


          

           
                if(vm.front_design.length){
                var e = $('#box'+vm.selected_text.z_index+'front');
                vm.ofWidth = e.css('width').substr(0,e.css('width').length-2);
               

                
                //   //  vm.oHeight = e.css('height').substr(0,e.css('height').length-2);
                //   //  vm.oWidth = parseFloat(vm.oWidth);
                //    // vm.oHeight = parseFloat(vm.oHeight);
                //     console.log("Old",vm.oWidth);
                
              // console.log("Old WIdth",$("#box1front").css('width'));

               setTimeout(function(){
                var e = $('#box' + vm.selected_text.z_index + 'front');
                var text = document.querySelectorAll('#box' + vm.selected_text.z_index + "front" + ' text');
                var texts = vm.selected_text.text.split('\n');
                var txt = e.find('text');
                
                console.log(texts);
                if (texts.length) {
                    var svgNS = "http://www.w3.org/2000/svg";
                    txt[0].textContent = '';
                    var fontSize = txt[0].getAttribute('font-size').split('px');
                    for (var i = 0; i < texts.length; i++) {
                        var tspan = document.createElementNS(svgNS, 'tspan');
                        var dy = 22;
                        
                        console.log(texts.length);
                        tspan.setAttributeNS(null, 'dy', dy);
                        tspan.setAttributeNS(null, 'x', '0');
                        if(i==0)
                        tspan.setAttributeNS(null, 'y', '0');
                        var content = document.createTextNode(texts[i]);
                        tspan.appendChild(content);
                        txt[0].appendChild(tspan);
                    }
                    
                }


                vm.angle1 = e[0].style.transform;
          
                if (vm.angle1 == 'undefined') vm.angle1 = 'rotate(0rad)';
                e.css('transform', 'rotate(0rad)');
                // rotate = rotate * Math.PI / 180;
                // e.css('visibility','hidden');
              
           

                var $w = parseFloat(text[0].getBoundingClientRect().width);
                var $h = parseFloat(text[0].getBoundingClientRect().height);
               // vm.selected_text.text = text[0];
             
               
               


                //var test = $w+vm.unitWidth;

                //console.log("second time",$w,$w+vm.unitWidth);

                //  vm.Bbox = text.getBBox();

                // vm.widths.push($w);
                // console.log(vm.widths);
                $('#box' + vm.selected_text.z_index + "front").css('width', $w + 'px');
                $('#box' + vm.selected_text.z_index + "front").css('height', $h + 'px');
                

                var svg = document.querySelectorAll('#box' + vm.selected_text.z_index + "front" + ' svg'),
                    width = svg[0].getAttribute('width'),
                    height = svg[0].getAttribute('height'),
                    view = svg[0].getAttribute('viewBox').split(' '),
                    vw = (view[2] * $w) / width,
                    vh = (view[3] * $h) / height;
                    
                   // console.log(vw);
                   // vw = 
                svg[0].setAttributeNS(null, 'width', $w);
                svg[0].setAttributeNS(null, 'height', $h);
                svg[0].setAttributeNS(null, 'viewBox', '0 0 ' + vw + ' ' + vh);

                var ang = vm.angle1.substr(vm.angle1.indexOf('(')+1,vm.angle1.length);
                var angle = ang.substr(0,ang.length-4);
                
                console.log(angle);

               

                //  var init_w = $w;
                //  var init_h = $h;
                console.log("new",$w);
               // console.log($w-vm.oldWidth);
                 
                 if(angle && angle!=="" && angle!=="0"){
                 var delta_w = -(parseFloat($w)-parseFloat(vm.ofWidth))/2;
                 e.css('transform',vm.angle1);
                 var left = e.css('left');
                 left = left.substr(0,left.length-2);
                 left = parseFloat(left)+parseFloat(delta_w);
                //   console.log("left",left); 
              
                  e.css({left: left});
                 }

        
                //  console.log(delta_w);
                // var delta_h = 0;


                // var x = -init_w/2;
                // var y = init_h/2;
                // var new_x = y * Math.sin(angle) + x * Math.cos(angle);
                // var new_y = y * Math.cos(angle) - x * Math.sin(angle);
                // var diff1 = {left: new_x - x, top: new_y - y};

                // var new_width = init_w + delta_w;
                // var new_height = init_h + delta_h;

                // //Get position after rotation with new size
                // var x = -new_width/2;
                // var y = new_height/2;
                // var new_x = y * Math.sin(angle) + x * Math.cos(angle);
                // var new_y = y * Math.cos(angle) - x * Math.sin(angle);
                // var diff2 = {left: new_x - x, top: new_y - y};

                // //Get the difference between the two positions
                // var offset = {left: diff2.left - diff1.left, top: diff2.top - diff1.top};

                // var left = e.css('left');
                // left = left.substr(0,left.length-2);
                // left = parseFloat(left);

                // var top = e.css('top');
                // top = top.substr(0,top.length-2);
                // top = parseFloat(top);

                // console.log(offset);

                // e.css('top',top-offset.top);
                // e.css('left',left-offset.left);
               
              // e.rotSize(e.css('width'),e.css('height'),parseFloat(angle));
            //    var width = e.css('width').substr(0,e.css('width').length-2);
            //    var height = e.css('height').substr(0,e.css('height').length-2);
            //    width = parseFloat(width)/2;
            //    height = parseFloat(height)/2;
            //    console.log(width,height);


           
                  
                   //e.css('transform-origin','0% 0% 0px');
               // e.css('visibility','hidden');

                // // //   console.log("new",$w,$h);

              
                // var halfL = parseFloat(left)/2;
                // var deltaLeft = parseFloat(left) - parseFloat(halfL);



                // var top = e.css('top');
                // top = top.substr(0,top.length-2);
                // var halfT = parseFloat(top)/2;
                // var deltTop = parseFloat(top) + parseFloat(halfT);

                // var delta_w = -($w-parseFloat(vm.oWidth))/2;
                  

                //    var delta_h = -($h-parseFloat(vm.oHeight))/2;
                //   top = top-delta_h;
                //   console.log(delta_h,left); 


                //  console.log(deltaLeft,deltTop);

             
                    
                // setTimeout(function(){

                //      //e.css('transform-origin','50% 50% 0px');
                //     // e.css('visibility','visible');
                // //e.css('transform-origin', vm.oldWidth/2 + 'px ' + vm.oldHeight/2 + 'px ' + '0px');

                //     // e.css({left: left});
                //    //e.css({top: top});

                // },100)
                 

                
                 
               },0)

                }
               

               
            }
           

            if (!(vm.selected_text.z_index) || (vm.selected_text.text && vm.selected_text.type=='svg') || vm.newFrontText) {

              vm.newFrontText = false;

                // var z_index = vm.front_design[vm.front_design.length - 1].z_index+1;
                var z_index = 0;
                var obj = {

                    "type": "text",
                    "font":  vm.fontSelected.family,
                    "color": "rgb(0,0,0)",
                    "text": vm.selected_text.text,
                    "z_index": z_index,
                    "zIndex":z_index,
                    "selected": false,
                    "slider": {
                        "value": 0,
                        "options": {
                            "floor": -360,
                            "ceil": 360,
                            "step": 1,
                        },
                    }

                };

                if (!vm.front_design.length) {
                    obj.z_index = 1;

                }
                else {
                    // obj.z_index = vm.front_design[vm.front_design.length - 1].z_index + 1;
                    obj.z_index = _.max(vm.front_design,function(front){return front.z_index}).z_index + 1;
                }
                vm.front_design.push(obj);

                _.each(vm.front_design, function (front) {


                    
                    if (front.z_index != obj.z_index) {
                        $('#tools' + front.z_index + "front").css({ 'visibility': 'hidden' });
                        $('#box' + front.z_index + "front").removeClass('border');
                        front.selected = false;
                    }
                    else {

                        setTimeout(function () {

                            startTextAlign(obj.z_index, "front");

                            var text = document.querySelectorAll('#box' + obj.z_index + "front" + ' tspan');
                            var $w = parseInt(text[0].getBoundingClientRect().width);
                            var $h = parseInt(text[0].getBoundingClientRect().height);
                            console.log($w);

                            vm.unitWidth = $w;
                            // vm.unitWidth += 4;
                            vm.unitHeight = $h;

                            console.log("Calleeddd");


                            //  vm.Bbox = text.getBBox();
                            $('#box' + obj.z_index + "front").css('width', $w + 'px');
                            $('#box' + obj.z_index + "front").css('height', $h + 'px');

                            var svg = document.querySelectorAll('#box' + obj.z_index + "front" + ' svg'),
                                width = svg[0].getAttribute('width'),
                                height = svg[0].getAttribute('height');

                            //    var  view = svg[0].getAttribute('viewBox').split(' '),
                            //     vw = (view[2] * $w)/width,
                            //     vh = (view[3] * $h)/height;




                            svg[0].setAttributeNS(null, 'width', $w);
                            svg[0].setAttributeNS(null, 'height', $h);
                            svg[0].setAttributeNS(null, 'viewBox', '0 0 ' + $w + ' ' + $h);


                            $('#tools' + obj.z_index + "front").css({ 'visibility': 'visible' });
                            $('#box' + obj.z_index + "front").addClass('border');
                            front.selected = true;
                            vm.select_text(obj.z_index);
                        }, 0)


                    }


                });

                $scope.focus = true;
                vm.selected_text = obj;


                //       _.each(vm.front_design,function(front){
                //   if(front.type==='text'){
                //     console.log(front);
                //   }
                //     if(front.z_index == vm.selected_text.z_index){

                //     }
                //     else {
                //         //   $('#tools'+front.z_index).css({'visibility':'hidden'});
                //         //   $('#box'+front.z_index).removeClass('border');
                //         }
                //    })

            }
            else {



            }

        }

        else if (vm.default_tab == 2) {


           if(!vm.selected_text.text.length){
                vm.deleteLayer(vm.selected_text.z_index);
                vm.newBackText = true;
                return;
                
            }
           

            if (vm.selected_text.z_index && vm.selected_text.type == 'text' && !vm.newBackText) {
                //alert("Calleeeed");


               if(vm.back_design.length){
                var e = $('#box'+vm.selected_text.z_index+'back');
                vm.obWidth = e.css('width').substr(0,e.css('width').length-2);




                  setTimeout(function(){
                var e = $('#box' + vm.selected_text.z_index + 'back');
               


                vm.angle2 = e[0].style.transform;
          
                if (vm.angle2 == 'undefined') vm.angle2 = 'rotate(0rad)';
                // rotate = rotate * Math.PI / 180;
                // e.css('visibility','hidden');
                e.css('transform', 'rotate(0rad)');


                var text = document.querySelectorAll('#box' + vm.selected_text.z_index + "back" + ' tspan');
                var $w = parseInt(text[0].getBoundingClientRect().width);
                var $h = parseInt(text[0].getBoundingClientRect().height);

                //  vm.Bbox = text.getBBox();
                $('#box' + vm.selected_text.z_index + "back").css('width', $w + 'px');
                $('#box' + vm.selected_text.z_index + "back").css('height', $h + 'px');

                var svg = document.querySelectorAll('#box' + vm.selected_text.z_index + "back" + ' svg'),
                    width = svg[0].getAttribute('width'),
                    height = svg[0].getAttribute('height'),
                    view = svg[0].getAttribute('viewBox').split(' '),
                    vw = (view[2] * $w) / width,
                    vh = (view[3] * $h) / height;
                svg[0].setAttributeNS(null, 'width', $w);
                svg[0].setAttributeNS(null, 'height', $h);
                svg[0].setAttributeNS(null, 'viewBox', '0 0 ' + vw + ' ' + vh);

                var ang = vm.angle2.substr(vm.angle2.indexOf('(')+1,vm.angle2.length);
                var angle = ang.substr(0,ang.length-4);
                
                console.log(angle);

                 
                 if(angle && angle!=="" && angle!=="0"){
                 var delta_w = -(parseFloat($w)-parseFloat(vm.obWidth))/2;
                 var left = e.css('left');
                 left = left.substr(0,left.length-2);
                 left = parseFloat(left)+parseFloat(delta_w);
                  e.css({left: left});
                 }

                   e.css('transform',vm.angle2);
               },0)
            }
            }

            if (!(vm.selected_text.z_index) || (vm.selected_text.text && vm.selected_text.type=='svg') || vm.newBackText) {

                // var z_index = vm.front_design[vm.front_design.length - 1].z_index+1;
                vm.newBackText = false;
                var z_index = 0;
                var obj = {

                    "type": "text",
                    "font": 'arial',
                    "color": "rgb(0,0,0)",
                    "text": vm.selected_text.text,
                    "z_index": z_index,
                    "zIndex":z_index,
                    "selected": false,
                    "slider": {
                        "value": 0,
                        "options": {
                            "floor": -360,
                            "ceil": 360,
                            "step": 1,
                        },
                    }

                };

                if (!vm.back_design.length) {
                    obj.z_index = 1;

                }
                else {
                    // obj.z_index = vm.back_design[vm.back_design.length - 1].z_index + 1;
                    obj.z_index = _.max(vm.back_design,function(back){return back.z_index}).z_index + 1;
                }
                vm.back_design.push(obj);

                _.each(vm.back_design, function (front) {



                    if (front.z_index != obj.z_index) {
                        $('#tools' + front.z_index + "back").css({ 'visibility': 'hidden' });
                        $('#box' + front.z_index + "back").removeClass('border');
                        front.selected = false;
                    }
                    else {

                        setTimeout(function () {

                            startTextAlign(obj.z_index, "back");

                            var text = document.querySelectorAll('#box' + obj.z_index + "back" + ' tspan');
                            var $w = parseInt(text[0].getBoundingClientRect().width);
                            var $h = parseInt(text[0].getBoundingClientRect().height);
                            unitWidth = $w;
                            unitHeight = $h;


                            //  vm.Bbox = text.getBBox();
                            $('#box' + obj.z_index + "back").css('width', $w + 'px');
                            $('#box' + obj.z_index + "back").css('height', $h + 'px');

                            var svg = document.querySelectorAll('#box' + obj.z_index + "back" + ' svg'),
                                width = svg[0].getAttribute('width'),
                                height = svg[0].getAttribute('height');

                            //    var  view = svg[0].getAttribute('viewBox').split(' '),
                            //     vw = (view[2] * $w)/width,
                            //     vh = (view[3] * $h)/height;




                            svg[0].setAttributeNS(null, 'width', $w);
                            svg[0].setAttributeNS(null, 'height', $h);
                            svg[0].setAttributeNS(null, 'viewBox', '0 0 ' + $w + ' ' + $h);


                            $('#tools' + obj.z_index + "back").css({ 'visibility': 'visible' });
                            $('#box' + obj.z_index + "back").addClass('border');
                            front.selected = true;
                            vm.select_text(obj.z_index);
                        }, 0)


                    }


                });

                $scope.focus = true;
                vm.selected_text = obj;


                //       _.each(vm.front_design,function(front){
                //   if(front.type==='text'){
                //     console.log(front);
                //   }
                //     if(front.z_index == vm.selected_text.z_index){

                //     }
                //     else {
                //         //   $('#tools'+front.z_index).css({'visibility':'hidden'});
                //         //   $('#box'+front.z_index).removeClass('border');
                //         }
                //    })

            }
            else {



            }


        }

        else if (vm.default_tab == 3) {


            
            if(!vm.selected_text.text.length){
                vm.deleteLayer(vm.selected_text.z_index);
                vm.newLeftText = true;
                return;
                
            }

            if (vm.selected_text.z_index && vm.selected_text.type == 'text' && !vm.newLeftText) {

               if(vm.left_design.length){
                var e = $('#box'+vm.selected_text.z_index+'left');
            vm.olWidth = e.css('width').substr(0,e.css('width').length-2);


                  setTimeout(function(){
                var e = $('#box' + vm.selected_text.z_index + 'left');
                //var text = document.querySelectorAll('#box' + vm.selected_text.z_index + "front" + ' tspan');

                vm.angle3 = e[0].style.transform;
          
                if (vm.angle3 == 'undefined') vm.angle3 = 'rotate(0rad)';
                // rotate = rotate * Math.PI / 180;
                // e.css('visibility','hidden');
                e.css('transform', 'rotate(0rad)');

                var text = document.querySelectorAll('#box' + vm.selected_text.z_index + "left" + ' tspan');
                var $w = parseInt(text[0].getBoundingClientRect().width);
                var $h = parseInt(text[0].getBoundingClientRect().height);

                //  vm.Bbox = text.getBBox();
                $('#box' + vm.selected_text.z_index + "left").css('width', $w + 'px');
                $('#box' + vm.selected_text.z_index + "left").css('height', $h + 'px');

                var svg = document.querySelectorAll('#box' + vm.selected_text.z_index + "left" + ' svg'),
                    width = svg[0].getAttribute('width'),
                    height = svg[0].getAttribute('height'),
                    view = svg[0].getAttribute('viewBox').split(' '),
                    vw = (view[2] * $w) / width,
                    vh = (view[3] * $h) / height;
                svg[0].setAttributeNS(null, 'width', $w);
                svg[0].setAttributeNS(null, 'height', $h);
                svg[0].setAttributeNS(null, 'viewBox', '0 0 ' + vw + ' ' + vh);


                  var ang = vm.angle3.substr(vm.angle3.indexOf('(')+1,vm.angle3.length);
                var angle = ang.substr(0,ang.length-4);
                
                console.log(angle);

                 
                 if(angle && angle!=="" && angle!=="0"){
                 var delta_w = -(parseFloat($w)-parseFloat(vm.olWidth))/2;
                 var left = e.css('left');
                 left = left.substr(0,left.length-2);
                 left = parseFloat(left)+parseFloat(delta_w);
                  e.css({left: left});
                 }

                e.css('transform',vm.angle3);
                  },0);
            }
            }

            if (!(vm.selected_text.z_index) || (vm.selected_text.text && vm.selected_text.type=='svg') || vm.newLeftText) {

                vm.newLeftText = false;

                // var z_index = vm.front_design[vm.front_design.length - 1].z_index+1;
                var z_index = 0;
                var obj = {

                    "type": "text",
                    "font": 'arial',
                    "color": "rgb(0,0,0)",
                    "text": vm.selected_text.text,
                    "z_index": z_index,
                    "zIndex":z_index,
                    "selected": false,
                    "slider": {
                        "value": 0,
                        "options": {
                            "floor": -360,
                            "ceil": 360,
                            "step": 1,
                        },
                    }

                };

                if (!vm.left_design.length) {
                    obj.z_index = 1;

                }
                else {
                    // obj.z_index = vm.left_design[vm.left_design.length - 1].z_index + 1;
                    obj.z_index = _.max(vm.left_design,function(left){return left.z_index}).z_index + 1;
                }
                vm.left_design.push(obj);

                _.each(vm.left_design, function (front) {



                    if (front.z_index != obj.z_index) {
                        $('#tools' + front.z_index + "left").css({ 'visibility': 'hidden' });
                        $('#box' + front.z_index + "left").removeClass('border');
                        front.selected = false;
                    }
                    else {

                        setTimeout(function () {

                            startTextAlign(obj.z_index, "left");

                            var text = document.querySelectorAll('#box' + obj.z_index + "left" + ' tspan');
                            var $w = parseInt(text[0].getBoundingClientRect().width);
                            var $h = parseInt(text[0].getBoundingClientRect().height);
                            unitWidth = $w;
                            unitHeight = $h;


                            //  vm.Bbox = text.getBBox();
                            $('#box' + obj.z_index + "left").css('width', $w + 'px');
                            $('#box' + obj.z_index + "left").css('height', $h + 'px');

                            var svg = document.querySelectorAll('#box' + obj.z_index + "left" + ' svg'),
                                width = svg[0].getAttribute('width'),
                                height = svg[0].getAttribute('height');

                            //    var  view = svg[0].getAttribute('viewBox').split(' '),
                            //     vw = (view[2] * $w)/width,
                            //     vh = (view[3] * $h)/height;




                            svg[0].setAttributeNS(null, 'width', $w);
                            svg[0].setAttributeNS(null, 'height', $h);
                            svg[0].setAttributeNS(null, 'viewBox', '0 0 ' + $w + ' ' + $h);


                            $('#tools' + obj.z_index + "left").css({ 'visibility': 'visible' });
                            $('#box' + obj.z_index + "left").addClass('border');
                            front.selected = true;
                            vm.select_text(obj.z_index);
                        }, 0)


                    }


                });

                $scope.focus = true;
                vm.selected_text = obj;


                //       _.each(vm.front_design,function(front){
                //   if(front.type==='text'){
                //     console.log(front);
                //   }
                //     if(front.z_index == vm.selected_text.z_index){

                //     }
                //     else {
                //         //   $('#tools'+front.z_index).css({'visibility':'hidden'});
                //         //   $('#box'+front.z_index).removeClass('border');
                //         }
                //    })

            }
            else {



            }


        }

        else if (vm.default_tab == 4) {

            if(!vm.selected_text.text.length){
                vm.deleteLayer(vm.selected_text.z_index);
                vm.newRightText = true;
                return;
                
            }

            if (vm.selected_text.z_index && vm.selected_text.type == 'text' && !vm.newRightText) {

              if(vm.right_design.length){
                var e = $('#box'+vm.selected_text.z_index+'right');
            vm.orWidth = e.css('width').substr(0,e.css('width').length-2);


                  setTimeout(function(){
                var e = $('#box' + vm.selected_text.z_index + 'right');
               // var text = document.querySelectorAll('#box' + vm.selected_text.z_index + "front" + ' tspan');


                vm.angle4 = e[0].style.transform;
          
                if (vm.angle4 == 'undefined') vm.angle4 = 'rotate(0rad)';
                // rotate = rotate * Math.PI / 180;
                // e.css('visibility','hidden');
                e.css('transform', 'rotate(0rad)');

                var text = document.querySelectorAll('#box' + vm.selected_text.z_index + "right" + ' tspan');
                var $w = parseInt(text[0].getBoundingClientRect().width);
                var $h = parseInt(text[0].getBoundingClientRect().height);

                //  vm.Bbox = text.getBBox();
                $('#box' + vm.selected_text.z_index + "right").css('width', $w + 'px');
                $('#box' + vm.selected_text.z_index + "right").css('height', $h + 'px');

                var svg = document.querySelectorAll('#box' + vm.selected_text.z_index + "right" + ' svg'),
                    width = svg[0].getAttribute('width'),
                    height = svg[0].getAttribute('height'),
                    view = svg[0].getAttribute('viewBox').split(' '),
                    vw = (view[2] * $w) / width,
                    vh = (view[3] * $h) / height;
                svg[0].setAttributeNS(null, 'width', $w);
                svg[0].setAttributeNS(null, 'height', $h);
                svg[0].setAttributeNS(null, 'viewBox', '0 0 ' + vw + ' ' + vh);


                var ang = vm.angle4.substr(vm.angle4.indexOf('(')+1,vm.angle4.length);
                var angle = ang.substr(0,ang.length-4);
                
                console.log(angle);

                 
                 if(angle && angle!=="" && angle!=="0"){
                 var delta_w = -(parseFloat($w)-parseFloat(vm.orWidth))/2;
                 var left = e.css('left');
                 left = left.substr(0,left.length-2);
                 left = parseFloat(left)+parseFloat(delta_w);
                  e.css({left: left});
                 }

                e.css('transform',vm.angle4);
                  },0);
            }
            }

            if (!(vm.selected_text.z_index) || (vm.selected_text.text && vm.selected_text.type=='svg') || vm.newRightText) {

                vm.newRightText = false;

                // var z_index = vm.front_design[vm.front_design.length - 1].z_index+1;
                var z_index = 0;
                var obj = {

                    "type": "text",
                    "font": 'arial',
                    "color": "rgb(0,0,0)",
                    "text": vm.selected_text.text,
                    "z_index": z_index,
                    "zIndex":z_index,
                    "selected": false,
                    "slider": {
                        "value": 0,
                        "options": {
                            "floor": -360,
                            "ceil": 360,
                            "step": 1,
                        },
                    }

                };

                if (!vm.right_design.length) {
                    obj.z_index = 1;

                }
                else {
                    // obj.z_index = vm.right_design[vm.right_design.length - 1].z_index + 1;
                    obj.z_index = _.max(vm.right_design,function(right){return right.z_index}).z_index + 1;
                }
                vm.right_design.push(obj);

                _.each(vm.right_design, function (front) {



                    if (front.z_index != obj.z_index) {
                        $('#tools' + front.z_index + "right").css({ 'visibility': 'hidden' });
                        $('#box' + front.z_index + "right").removeClass('border');
                        front.selected = false;
                    }
                    else {

                        setTimeout(function () {

                            startTextAlign(obj.z_index, "right");

                            var text = document.querySelectorAll('#box' + obj.z_index + "right" + ' tspan');
                            var $w = parseInt(text[0].getBoundingClientRect().width);
                            var $h = parseInt(text[0].getBoundingClientRect().height);
                            unitWidth = $w;
                            unitHeight = $h;


                            //  vm.Bbox = text.getBBox();
                            $('#box' + obj.z_index + "right").css('width', $w + 'px');
                            $('#box' + obj.z_index + "right").css('height', $h + 'px');

                            var svg = document.querySelectorAll('#box' + obj.z_index + "right" + ' svg'),
                                width = svg[0].getAttribute('width'),
                                height = svg[0].getAttribute('height');

                            //    var  view = svg[0].getAttribute('viewBox').split(' '),
                            //     vw = (view[2] * $w)/width,
                            //     vh = (view[3] * $h)/height;




                            svg[0].setAttributeNS(null, 'width', $w);
                            svg[0].setAttributeNS(null, 'height', $h);
                            svg[0].setAttributeNS(null, 'viewBox', '0 0 ' + $w + ' ' + $h);


                            $('#tools' + obj.z_index + "right").css({ 'visibility': 'visible' });
                            $('#box' + obj.z_index + "right").addClass('border');
                            front.selected = true;
                            vm.select_text(obj.z_index);
                        }, 0)


                    }


                });

                $scope.focus = true;
                vm.selected_text = obj;


                //       _.each(vm.front_design,function(front){
                //   if(front.type==='text'){
                //     console.log(front);
                //   }
                //     if(front.z_index == vm.selected_text.z_index){

                //     }
                //     else {
                //         //   $('#tools'+front.z_index).css({'visibility':'hidden'});
                //         //   $('#box'+front.z_index).removeClass('border');
                //         }
                //    })

            }
            else {



            }
        }
    }



    vm.blockEnter = function (event) {
        if (event.keyCode === 13) {
            event.preventDefault();
            return false;
        }
    }

    $scope.slider = {
        value: 0,
        options: {
            floor: -360,
            ceil: 360,
            step: 1,
        }
    };

    vm.onDrag = function (value) {
        vm.currentRotation = value;
    }


    vm.onDragEnd = function (value) {

        vm.currentRotation = value;
        console.log("DRAG_END", value)
    }


    vm.mousedown = function () {
        vm.rotation = true;
    }

    vm.mouseup = function () {
        vm.rotation = false;
        console.log("Fireeeddd");
    }

    vm.mousemove = function (e) {
        console.log(vm.rotation);
        var target = $("#box");
        if (vm.rotation) {
            //     var mouse_x = e.pageX;
            //     var mouse_y = e.pageY;
            //     var radians = Math.atan2(mouse_x - 10, mouse_y - 10);
            //     var degree = (radians * (180 / Math.PI) * -1) + 90;

            //    target.css('-moz-transform', 'rotate(' + degree + 'deg)');
            //    target.css('-moz-transform-origin', '0% 40%');
            //    target.css('-webkit-transform', 'rotate(' + degree + 'deg)');
            //    target.css('-webkit-transform-origin', '0% 40%');
            //    target.css('-o-transform', 'rotate(' + degree + 'deg)');
            //    target.css('-o-transform-origin', '0% 40%');
            //    target.css('-ms-transform', 'rotate(' + degree + 'deg)');
            //    target.css('-ms-transform-origin', '0% 40%');

        }
    }
}

    var AnimationServiceModule = angular.module('AnimationModule', []);
        AnimationServiceModule.service('AnimationService', AnimationService);



    function AnimationService() {

        var animations = [
            "bounce",
            "flash",
            "pulse",
            "rubberBand",
            "shake",
            "headShake",
            "swing",
            "tada",
            "wobble",
            "jello",
            "bounceIn",
            "bounceInDown",
            "bounceInLeft",
            "bounceInRight",
            "bounceInUp",
            "bounceOut",
            "bounceOutDown",
            "bounceOutLeft",
            "bounceOutRight",
            "bounceOutUp",
            "fadeIn",
            "fadeInDown",
            "fadeInDownBig",
            "fadeInLeft",
            "fadeInLeftBig",
            "fadeInRight",
            "fadeInRightBig",
            "fadeInUp",
            "fadeInUpBig",
            "fadeOut",
            "fadeOutDown",
            "fadeOutDownBig",
            "fadeOutLeft",
            "fadeOutLeftBig",
            "fadeOutRight",
            "fadeOutRightBig",
            "fadeOutUp",
            "fadeOutUpBig",
            "flipInX",
            "flipInY",
            "flipOutX",
            "flipOutY",
            "lightSpeedIn",
            "lightSpeedOut",
            "rotateIn",
            "rotateInDownLeft",
            "rotateInDownRight",
            "rotateInUpLeft",
            "rotateInUpRight",
            "rotateOut",
            "rotateOutDownLeft",
            "rotateOutDownRight",
            "rotateOutUpLeft",
            "rotateOutUpRight",
            "hinge",
            "rollIn",
            "rollOut",
            "zoomIn",
            "zoomInDown",
            "zoomInLeft",
            "zoomInRight",
            "zoomInUp",
            "zoomOut",
            "zoomOutDown",
            "zoomOutLeft",
            "zoomOutRight",
            "zoomOutUp",
            "slideInDown",
            "slideInLeft",
            "slideInRight",
            "slideInUp",
            "slideOutDown",
            "slideOutLeft",
            "slideOutRight",
            "slideOutUp"
        ];


        var  getRandonAnimation = function(arg) {
            arg = arg || 1;
            var valid = false;
            if (arg == 1) { //NO OUT ANIMATIONS
                do {
                    var num = getRandomInt(1, animations.length);
                    var animation = animations[num];
                    if(animation.indexOf('Out') != -1)
                        valid = true;

                }
                while(!valid);

        }
        }

        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        var service = {
            GetRandomInAnimation: function() {
                
                var animation = "";
            var valid = false;
         
                do {
                    var num = getRandomInt(1, animations.length);
                     animation = animations[num];
                     if(!animation) return;
                    if(animation.indexOf('Out') == -1)
                        valid = true;

                }
                while(!valid);
                return animation;

        
        },
        GetRandomOutAnimation: function() {
                
                var animation = "";
            var valid = false;
         
                do {
                    var num = getRandomInt(1, animations.length);
                     animation = animations[num];
                    if(animation.indexOf('In') == -1)
                        valid = true;

                }
                while(!valid);
                return animation;

        
        },
        GetRandomAnimation: function() {
                var animation = "";
            
                    var num = getRandomInt(1, animations.length);
                     animation = animations[num];
                        valid = true;

                
                return animation;

        
        }
            

        };

        return service;

    }





    var HttpServiceModule = angular.module('HttpServiceModule',[])
        HttpServiceModule.service('HttpService', HttpService);

    HttpService.$inject = ['$q', '$http'];

    function HttpService($q, $http) {

   

        var _Get = function (url, reqData) {
            return _SendRequest('GET', url, reqData);

        }

        // var _Post = function (url, reqData) {

        //     return _SendRequest('POST', url, reqData);

        // };
       
        var _Post = function (url, reqData) {
            
            return _SendRequest('POST', url, reqData);

        };

        var _Put = function (url, reqData) {

            return _SendRequest('PUT', url, reqData);

        };

        var _Delete = function (url, reqData) {
           
            return _SendRequest('Delete', url, reqData);

        }

        //var _Delete = function (url, reqData,header) {
        //    //console.log("reqData " + reqData);
        //    return _SendRequest('Delete', url, reqData,header);

        //}

     //Removed Header from parameter.

        var _SendRequest = function (method, url, reqData) {

            var req = "";
          
            req = {
                'method': method,

                'url': baseURL + url,

                'data': reqData,
            

                'headers': {'Content-Type': 'application/x-www-form-urlencoded'},
                    transformRequest: function(obj) {
                    var str = [];
                    for(var p in obj)
                    str.push(encodeURIComponent(p) + "=" + encodeURIComponent(obj[p]));
                    return str.join("&");
               },
            };


            var deferred = $q.defer();

          //  var headers = {};

            // if (header) {
            //     headers['Content-Type'] = undefined;
            // }
            // else {
            //     headers['Content-Type'] = 'application/json';
            // }


           // req['headers'] = {'Content-Type': 'application/x-www-form-urlencoded'};

            var _successCallback = function (data) {
                deferred.resolve(data);
            };

            var _errorCallback = function (data) {

            };



            console.log("API URl " + req.url);
            console.log("Req " + JSON.stringify(req.data));

            $http(req)
                .success(_successCallback)
                .error(_errorCallback);

            return deferred.promise;
        };

        var service = {
            Get: _Get,
            Post: _Post,
            Put: _Put,
            Delete: _Delete
        }

        return service;

    }





    var dashboardService = angular.module('DashboardModule')
        dashboardService.service('DashboardService', DashboardService);

    DashboardService.$inject = ['$q', '$http', 'HttpService','$timeout'];

    function DashboardService($q, $http, HttpService, $timeout) {

        var key = 'fstky2e4mdt';

        var _GetGraphics = function () {

            var deferred = $q.defer();

            HttpService.Post("/art_random", {'key':key})
                .then(function (data) {
                  
                    deferred.resolve(data);
                    return deferred.promise;
                }, function (err) {
                deferred.reject(err);
                return deferred.promise;
            });
            return deferred.promise;
        };

        var _GetShirtStyle = function () {

            var deferred = $q.defer();

            HttpService.Post("/styles", {'key':key})
                .then(function (data) {
                  console.log(data);
                    deferred.resolve(data);
                    return deferred.promise;
                }, function (err) {
                deferred.reject(err);
                return deferred.promise;
            });
            return deferred.promise;
        };
 
        var _GetFonts = function () {

            var deferred = $q.defer();

            HttpService.Post("/fonts", {'key':key})
                .then(function (data) {
                  
                    deferred.resolve(data);
                    return deferred.promise;
                }, function (err) {
                deferred.reject(err);
                return deferred.promise;
            });
            return deferred.promise;
        };

        var _GetConfig = function () {

            var deferred = $q.defer();

            HttpService.Post("/config", {'key':key})
                .then(function (data) {
                  
                    deferred.resolve(data);
                    return deferred.promise;
                }, function (err) {
                deferred.reject(err);
                return deferred.promise;
            });
            return deferred.promise;
        };

         var _GetSvg = function (url) {

              var deferred = $q.defer();

            $http.get(url).then(function(data) {
                // process response here..
                deferred.resolve(data);
                return deferred.promise;
                }, function(err) {

                deferred.reject(err);
                return deferred.promise;
            });

            return deferred.promise;
        };

        var _GetColors = function () {

            var deferred = $q.defer();

            HttpService.Post("/colors", {'key':key})
                .then(function (data) {
                  
                    deferred.resolve(data);
                    return deferred.promise;
                }, function (err) {
                deferred.reject(err);
                return deferred.promise;
            });
            return deferred.promise;
        };

        var _GetGoogleFonts = function () {

           var fonts =  [
                            {
                                "family": "ABeeZee",
                                "category": "sans-serif",
                                "variants": [
                                    "regular",
                                    "italic"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Abel",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Abril Fatface",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Aclonica",
                                "category": "sans-serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v6",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Acme",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Actor",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Adamina",
                                "category": "serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v7",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Advent Pro",
                                "category": "sans-serif",
                                "variants": [
                                    "100",
                                    "200",
                                    "300",
                                    "regular",
                                    "500",
                                    "600",
                                    "700"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Aguafina Script",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v5",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Akronim",
                                "category": "display",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v5",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Aladin",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v5",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Aldrich",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Alef",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-08"
                            // },
                            // {
                            //     "family": "Alegreya",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Alegreya SC",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Alegreya Sans",
                                "category": "sans-serif",
                                "variants": [
                                    "100",
                                    "100italic",
                                    "300",
                                    "300italic",
                                    "regular",
                                    "italic",
                                    "500",
                                    "500italic",
                                    "700",
                                    "700italic",
                                    "800",
                                    "800italic",
                                    "900",
                                    "900italic"
                                ],
                                "version": "v3",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Alegreya Sans SC",
                                "category": "sans-serif",
                                "variants": [
                                    "100",
                                    "100italic",
                                    "300",
                                    "300italic",
                                    "regular",
                                    "italic",
                                    "500",
                                    "500italic",
                                    "700",
                                    "700italic",
                                    "800",
                                    "800italic",
                                    "900",
                                    "900italic"
                                ],
                                "version": "v3",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Alex Brush",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v6",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Alfa Slab One",
                                "category": "display",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v5",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Alice",
                                "category": "serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v7",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Alike",
                                "category": "serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v7",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Alike Angular",
                                "category": "serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v6",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Allan",
                                "category": "display",
                                "variants": [
                                    "regular",
                                    "700"
                                ],
                                "version": "v7",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Allerta",
                                "category": "sans-serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v7",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Allerta Stencil",
                                "category": "sans-serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v7",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Allura",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Almendra",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Almendra Display",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Almendra SC",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Amarante",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Amaranth",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Amatic SC",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-07-22"
                            // },
                            // {
                            //     "family": "Amethysta",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Amiri",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-07"
                            // },
                            // {
                            //     "family": "Amita",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-03"
                            // },
                            // {
                            //     "family": "Anaheim",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Andada",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Andika",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Angkor",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Annie Use Your Telescope",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Anonymous Pro",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Antic",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Antic Didone",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Antic Slab",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Anton",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Arapey",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Arbutus",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Arbutus Slab",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Architects Daughter",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Archivo Black",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Archivo Narrow",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Arimo",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-28"
                            // },
                            // {
                            //     "family": "Arizonia",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Armata",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Artifika",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Arvo",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Arya",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-05-21"
                            // },
                            // {
                            //     "family": "Asap",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Asar",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-17"
                            // },
                            // {
                            //     "family": "Asset",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Astloch",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Asul",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Atomic Age",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Aubrey",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Audiowide",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Autour One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Average",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Average Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Averia Gruesa Libre",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Averia Libre",
                            //     "category": "display",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Averia Sans Libre",
                            //     "category": "display",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Averia Serif Libre",
                            //     "category": "display",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bad Script",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Balthazar",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bangers",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Basic",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Battambang",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Baumans",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bayon",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Belgrano",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Belleza",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "BenchNine",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bentham",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Berkshire Swash",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bevan",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bigelow Rules",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Bigshot One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bilbo",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bilbo Swash Caps",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Biryani",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "200",
                            //         "300",
                            //         "regular",
                            //         "600",
                            //         "700",
                            //         "800",
                            //         "900"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-22"
                            // },
                            // {
                            //     "family": "Bitter",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Black Ops One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Bokor",
                                "category": "display",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v8",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Bonbon",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v6",
                                "lastModified": "2015-04-03"
                            },
                            // {
                            //     "family": "Boogaloo",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bowlby One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bowlby One SC",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Brawler",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bree Serif",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bubblegum Sans",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Bubbler One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Buda",
                            //     "category": "display",
                            //     "variants": [
                            //         "300"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Buenard",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Butcherman",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Butterfly Kids",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cabin",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "500",
                            //         "500italic",
                            //         "600",
                            //         "600italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cabin Condensed",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cabin Sketch",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Caesar Dressing",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cagliostro",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Calligraffitti",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cambay",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Cambo",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Candal",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Cantarell",
                                "category": "sans-serif",
                                "variants": [
                                    "regular",
                                    "italic",
                                    "700",
                                    "700italic"
                                ],
                                "version": "v6",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Cantata One",
                                "category": "serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v5",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Cantora One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Capriola",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cardo",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Carme",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Carrois Gothic",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Carrois Gothic SC",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Carter One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Caudex",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cedarville Cursive",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ceviche One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Changa One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Chango",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Chau Philomene One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Chela One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Chelsea Market",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Chenla",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Cherry Cream Soda",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cherry Swash",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Chewy",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Chicle",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Chivo",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cinzel",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700",
                            //         "900"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cinzel Decorative",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700",
                            //         "900"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Clicker Script",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Coda",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "800"
                            //     ],
                            //     "version": "v10",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Coda Caption",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "800"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Codystar",
                            //     "category": "display",
                            //     "variants": [
                            //         "300",
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Combo",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Comfortaa",
                            //     "category": "display",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Coming Soon",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Concert One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Condiment",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Content",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Contrail One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Convergence",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cookie",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Copse",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Corben",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Courgette",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cousine",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v10",
                            //     "lastModified": "2015-04-28"
                            // },
                            // {
                            //     "family": "Coustard",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "900"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Covered By Your Grace",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Crafty Girls",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Creepster",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Crete Round",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Crimson Text",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "600",
                            //         "600italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Croissant One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Crushed",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cuprum",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cutive",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Cutive Mono",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Damion",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Dancing Script",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Dangrek",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Dawning of a New Day",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Days One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Dekko",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v2",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Delius",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Delius Swash Caps",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Delius Unicase",
                                "category": "handwriting",
                                "variants": [
                                    "regular",
                                    "700"
                                ],
                                "version": "v9",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Della Respira",
                                "category": "serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Denk One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Devonshire",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Dhurjati",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-07"
                            // },
                            // {
                            //     "family": "Didact Gothic",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Diplomata",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-03-20"
                            // },
                            // {
                            //     "family": "Diplomata SC",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Domine",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Donegal One",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Doppio One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Dorsa",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Dosis",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "200",
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700",
                            //         "800"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Dr Sugiyama",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Droid Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Droid Sans Mono",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Droid Serif",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Duru Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Dynalight",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "EB Garamond",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Eagle Lake",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Eater",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Economica",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Eczar",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700",
                            //         "800"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-03"
                            // },
                            // {
                            //     "family": "Ek Mukta",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "200",
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700",
                            //         "800"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Electrolize",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Elsie",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "900"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Elsie Swash Caps",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "900"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Emblema One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Emilys Candy",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Engagement",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v5",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Englebert",
                                "category": "sans-serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Enriqueta",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Erica One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Esteban",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Euphoria Script",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ewert",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Exo",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "100",
                            //         "100italic",
                            //         "200",
                            //         "200italic",
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "500",
                            //         "500italic",
                            //         "600",
                            //         "600italic",
                            //         "700",
                            //         "700italic",
                            //         "800",
                            //         "800italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Exo 2",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "100",
                            //         "100italic",
                            //         "200",
                            //         "200italic",
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "500",
                            //         "500italic",
                            //         "600",
                            //         "600italic",
                            //         "700",
                            //         "700italic",
                            //         "800",
                            //         "800italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v3",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Expletus Sans",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "500",
                            //         "500italic",
                            //         "600",
                            //         "600italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Fanwood Text",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Fascinate",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Fascinate Inline",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Faster One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Fasthand",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Fauna One",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Federant",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Federo",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Felipa",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Fenix",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Finger Paint",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Fira Mono",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v3",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Fira Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "500",
                            //         "500italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Fjalla One",
                                "category": "sans-serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Fjord One",
                                "category": "serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v5",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Flamenco",
                            //     "category": "display",
                            //     "variants": [
                            //         "300",
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Flavors",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Fondamento",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Fontdiner Swanky",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Forum",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Francois One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Freckle Face",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Fredericka the Great",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Fredoka One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Freehand",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Fresca",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Frijole",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Fruktur",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Fugaz One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "GFS Didot",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "GFS Neohellenic",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Gabriela",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Gafata",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Galdeano",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Galindo",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Gentium Basic",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Gentium Book Basic",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Geo",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Geostar",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Geostar Fill",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Germania One",
                                "category": "display",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Gidugu",
                                "category": "sans-serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v3",
                                "lastModified": "2015-04-07"
                            },
                            // {
                            //     "family": "Gilda Display",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Give You Glory",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Glass Antiqua",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Glegoo",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Gloria Hallelujah",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Goblin One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Gochi Hand",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Gorditas",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Goudy Bookletter 1911",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Graduate",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Grand Hotel",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Gravitas One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Great Vibes",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Griffy",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Gruppo",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Gudea",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Gurajada",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-07"
                            // },
                            // {
                            //     "family": "Habibi",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Halant",
                            //     "category": "serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-01"
                            // },
                            // {
                            //     "family": "Hammersmith One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Hanalei",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Hanalei Fill",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Handlee",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Hanuman",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Happy Monkey",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Headland One",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Henny Penny",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Herr Von Muellerhoff",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Hind",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Holtwood One SC",
                                "category": "serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v7",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Homemade Apple",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v6",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Homenaje",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "IM Fell DW Pica",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "IM Fell DW Pica SC",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "IM Fell Double Pica",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "IM Fell Double Pica SC",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "IM Fell English",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "IM Fell English SC",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "IM Fell French Canon",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "IM Fell French Canon SC",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "IM Fell Great Primer",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "IM Fell Great Primer SC",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Iceberg",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Iceland",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Imprima",
                                "category": "sans-serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Inconsolata",
                                "category": "monospace",
                                "variants": [
                                    "regular",
                                    "700"
                                ],
                                "version": "v11",
                                "lastModified": "2015-05-14"
                            },
                            // {
                            //     "family": "Inder",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Indie Flower",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Inika",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Inknut Antiqua",
                            //     "category": "serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700",
                            //         "800",
                            //         "900"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-11"
                            // },
                            // {
                            //     "family": "Irish Grover",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Istok Web",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v10",
                            //     "lastModified": "2015-06-11"
                            // },
                            // {
                            //     "family": "Italiana",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Italianno",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Jacques Francois",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Jacques Francois Shadow",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Jaldi",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v2",
                            //     "lastModified": "2015-06-10"
                            // },
                            // {
                            //     "family": "Jim Nightshade",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Jockey One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Jolly Lodger",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Josefin Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "100",
                            //         "100italic",
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "600",
                            //         "600italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Josefin Slab",
                            //     "category": "serif",
                            //     "variants": [
                            //         "100",
                            //         "100italic",
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "600",
                            //         "600italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Joti One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Judson",
                                "category": "serif",
                                "variants": [
                                    "regular",
                                    "italic",
                                    "700"
                                ],
                                "version": "v7",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Julee",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v6",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Julius Sans One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-22"
                            // },
                            // {
                            //     "family": "Junge",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Jura",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Just Another Hand",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Just Me Again Down Here",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kadwa",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-17"
                            // },
                            // {
                            //     "family": "Kalam",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kameron",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kantumruy",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v3",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Karla",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Karma",
                            //     "category": "serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kaushan Script",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kavoon",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kdam Thmor",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v3",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Keania One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kelly Slab",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kenia",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Khand",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Khmer",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Khula",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "600",
                            //         "700",
                            //         "800"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kite One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Knewave",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kotta One",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Koulen",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v10",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kranky",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kreon",
                            //     "category": "serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kristi",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Krona One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Kurale",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-05-14"
                            // },
                            // {
                            //     "family": "La Belle Aurore",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Laila",
                            //     "category": "serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-01"
                            // },
                            // {
                            //     "family": "Lakki Reddy",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v3",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Lancelot",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Lateef",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v10",
                            //     "lastModified": "2015-04-07"
                            // },
                            // {
                            //     "family": "Lato",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "100",
                            //         "100italic",
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v11",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "League Script",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Leckerli One",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Ledger",
                                "category": "serif",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Lekton",
                                "category": "sans-serif",
                                "variants": [
                                    "regular",
                                    "italic",
                                    "700"
                                ],
                                "version": "v7",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Lemon",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Libre Baskerville",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Life Savers",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Lilita One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Lily Script One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Limelight",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Linden Hill",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Lobster",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v15",
                            //     "lastModified": "2015-07-21"
                            // },
                            // {
                            //     "family": "Lobster Two",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Londrina Outline",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Londrina Shadow",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Londrina Sketch",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Londrina Solid",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Lora",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Love Ya Like A Sister",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Loved by the King",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Lovers Quarrel",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Luckiest Guy",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Lusitana",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Lustria",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Macondo",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Macondo Swash Caps",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-03"
                            // },
                            {
                                "family": "Magra",
                                "category": "sans-serif",
                                "variants": [
                                    "regular",
                                    "700"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Maiden Orange",
                                "category": "display",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v6",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Mako",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Mallanna",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-07"
                            // },
                            // {
                            //     "family": "Mandali",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-07"
                            // },
                            // {
                            //     "family": "Marcellus",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Marcellus SC",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Marck Script",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Margarine",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Marko One",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Marmelad",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Martel",
                            //     "category": "serif",
                            //     "variants": [
                            //         "200",
                            //         "300",
                            //         "regular",
                            //         "600",
                            //         "700",
                            //         "800",
                            //         "900"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-22"
                            // },
                            // {
                            //     "family": "Martel Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "200",
                            //         "300",
                            //         "regular",
                            //         "600",
                            //         "700",
                            //         "800",
                            //         "900"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-07"
                            // },
                            // {
                            //     "family": "Marvel",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Mate",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Mate SC",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Maven Pro",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "500",
                            //         "700",
                            //         "900"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "McLaren",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Meddon",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-08"
                            // },
                            // {
                            //     "family": "MedievalSharp",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Medula One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Megrim",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Meie Script",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Merienda",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Merienda One",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Merriweather",
                            //     "category": "serif",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Merriweather Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic",
                            //         "800",
                            //         "800italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Metal",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Metal Mania",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Metamorphous",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Metrophobic",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Michroma",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Milonga",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Miltonian",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Miltonian Tattoo",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Miniver",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Miss Fajardose",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Modak",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Modern Antiqua",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Molengo",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Molle",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Monda",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Monofett",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Monoton",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Monsieur La Doulaise",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Montaga",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Montez",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Montserrat",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Montserrat Alternates",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Montserrat Subrayada",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Moul",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Moulpali",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Mountains of Christmas",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Mouse Memoirs",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Mr Bedfort",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Mr Dafoe",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Mr De Haviland",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Mrs Saint Delafield",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Mrs Sheppards",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Muli",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Mystery Quest",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "NTR",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-07"
                            // },
                            // {
                            //     "family": "Neucha",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Neuton",
                            //     "category": "serif",
                            //     "variants": [
                            //         "200",
                            //         "300",
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "800"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "New Rocker",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "News Cycle",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v13",
                            //     "lastModified": "2015-04-16"
                            // },
                            // {
                            //     "family": "Niconne",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nixie One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nobile",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nokora",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Norican",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Nosifer",
                                "category": "display",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v5",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Nothing You Could Do",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Noticia Text",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Noto Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Noto Serif",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nova Cut",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nova Flat",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nova Mono",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nova Oval",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nova Round",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nova Script",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nova Slim",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nova Square",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Numans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Nunito",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Odor Mean Chey",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Offside",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Old Standard TT",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Oldenburg",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Oleo Script",
                                "category": "display",
                                "variants": [
                                    "regular",
                                    "700"
                                ],
                                "version": "v5",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Oleo Script Swash Caps",
                                "category": "display",
                                "variants": [
                                    "regular",
                                    "700"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Open Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "600",
                            //         "600italic",
                            //         "700",
                            //         "700italic",
                            //         "800",
                            //         "800italic"
                            //     ],
                            //     "version": "v13",
                            //     "lastModified": "2015-05-18"
                            // },
                            // {
                            //     "family": "Open Sans Condensed",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "700"
                            //     ],
                            //     "version": "v10",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Oranienbaum",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Orbitron",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "500",
                            //         "700",
                            //         "900"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Oregano",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Orienta",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Original Surfer",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Oswald",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v10",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Over the Rainbow",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Overlock",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Overlock SC",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ovo",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Oxygen",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Oxygen Mono",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "PT Mono",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "PT Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "PT Sans Caption",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "PT Sans Narrow",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "PT Serif",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "PT Serif Caption",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Pacifico",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v7",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Palanquin",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "100",
                            //         "200",
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-22"
                            // },
                            // {
                            //     "family": "Palanquin Dark",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-22"
                            // },
                            // {
                            //     "family": "Paprika",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Parisienne",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Passero One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Passion One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700",
                            //         "900"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Pathway Gothic One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Patrick Hand",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v10",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Patrick Hand SC",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Patua One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Paytone One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Peddana",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Peralta",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Permanent Marker",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Petit Formal Script",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Petrona",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Philosopher",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Piedra",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Pinyon Script",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Pirata One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Plaster",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Play",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Playball",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Playfair Display",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v10",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Playfair Display SC",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Podkova",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Poiret One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Poller One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Poly",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Pompiere",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Pontano Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Poppins",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-03"
                            // },
                            // {
                            //     "family": "Port Lligat Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Port Lligat Slab",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Pragati Narrow",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v2",
                            //     "lastModified": "2015-06-10"
                            // },
                            // {
                            //     "family": "Prata",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Preahvihear",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Press Start 2P",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Princess Sofia",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Prociono",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Prosto One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Puritan",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Purple Purse",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Quando",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Quantico",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Quattrocento",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Quattrocento Sans",
                                "category": "sans-serif",
                                "variants": [
                                    "regular",
                                    "italic",
                                    "700",
                                    "700italic"
                                ],
                                "version": "v8",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Questrial",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Quicksand",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Quintessential",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Qwigley",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Racing Sans One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Radley",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rajdhani",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Raleway",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "100",
                            //         "200",
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700",
                            //         "800",
                            //         "900"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Raleway Dots",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ramabhadra",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-07"
                            // },
                            // {
                            //     "family": "Ramaraja",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Rambla",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rammetto One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Ranchers",
                                "category": "display",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v4",
                                "lastModified": "2015-04-06"
                            },
                            {
                                "family": "Rancho",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v6",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Ranga",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Rationale",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ravi Prakash",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v3",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Redressed",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Reenie Beanie",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Revalia",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rhodium Libre",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-03"
                            // },
                            // {
                            //     "family": "Ribeye",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ribeye Marrow",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Righteous",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Risque",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Roboto",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "100",
                            //         "100italic",
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "500",
                            //         "500italic",
                            //         "700",
                            //         "700italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v15",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Roboto Condensed",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v13",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Roboto Mono",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "100",
                            //         "100italic",
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "500",
                            //         "500italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-05-28"
                            // },
                            // {
                            //     "family": "Roboto Slab",
                            //     "category": "serif",
                            //     "variants": [
                            //         "100",
                            //         "300",
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rochester",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rock Salt",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rokkitt",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Romanesco",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ropa Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rosario",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v10",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rosarivo",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rouge Script",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rozha One",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v2",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Rubik",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "500",
                            //         "500italic",
                            //         "700",
                            //         "700italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-07-22"
                            // },
                            // {
                            //     "family": "Rubik Mono One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-07-22"
                            // },
                            // {
                            //     "family": "Rubik One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-07-22"
                            // },
                            // {
                            //     "family": "Ruda",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700",
                            //         "900"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rufina",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ruge Boogie",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Ruluko",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rum Raisin",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ruslan Display",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Russo One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ruthie",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Rye",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sacramento",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sahitya",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-17"
                            // },
                            // {
                            //     "family": "Sail",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Salsa",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sanchez",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Sancreek",
                                "category": "display",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v7",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Sansita One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sarala",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-17"
                            // },
                            // {
                            //     "family": "Sarina",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sarpanch",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700",
                            //         "800",
                            //         "900"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Satisfy",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Scada",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Scheherazade",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v10",
                            //     "lastModified": "2015-04-07"
                            // },
                            // {
                            //     "family": "Schoolbell",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Seaweed Script",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sevillana",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Seymour One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Shadows Into Light",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Shadows Into Light Two",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Shanti",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Share",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Share Tech",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Share Tech Mono",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-07-22"
                            // },
                            // {
                            //     "family": "Shojumaru",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Short Stack",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Siemreap",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sigmar One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Signika",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Signika Negative",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Simonetta",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sintony",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sirin Stencil",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Six Caps",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Skranji",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Slabo 13px",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v3",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Slabo 27px",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v3",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Slackey",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Smokum",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Smythe",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sniglet",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "800"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Snippet",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Snowburst One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sofadi One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sofia",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Sonsie One",
                                "category": "display",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v5",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Sorts Mill Goudy",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Source Code Pro",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "200",
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700",
                            //         "900"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Source Sans Pro",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "200",
                            //         "200italic",
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "600",
                            //         "600italic",
                            //         "700",
                            //         "700italic",
                            //         "900",
                            //         "900italic"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Source Serif Pro",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Special Elite",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Spicy Rice",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Spinnaker",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Spirax",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Squada One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sree Krushnadevaraya",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Stalemate",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Stalinist One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-07-23"
                            // },
                            // {
                            //     "family": "Stardos Stencil",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Stint Ultra Condensed",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Stint Ultra Expanded",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Stoke",
                            //     "category": "serif",
                            //     "variants": [
                            //         "300",
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Strait",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sue Ellen Francisco",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sumana",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-05-04"
                            // },
                            // {
                            //     "family": "Sunshiney",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Supermercado One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Sura",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-17"
                            // },
                            // {
                            //     "family": "Suranna",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Suravaram",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v3",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Suwannaphum",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Swanky and Moo Moo",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Syncopate",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Tangerine",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Taprom",
                                "category": "display",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v8",
                                "lastModified": "2015-04-03"
                            },
                            // {
                            //     "family": "Tauri",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Teko",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Telex",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Tenali Ramakrishna",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v3",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Tenor Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Text Me One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "The Girl Next Door",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Tienne",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "700",
                            //         "900"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Tillana",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700",
                            //         "800"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-03"
                            // },
                            // {
                            //     "family": "Timmana",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-04-07"
                            // },
                            // {
                            //     "family": "Tinos",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-28"
                            // },
                            // {
                            //     "family": "Titan One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Titillium Web",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "200",
                            //         "200italic",
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "600",
                            //         "600italic",
                            //         "700",
                            //         "700italic",
                            //         "900"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Trade Winds",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Trocchi",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Trochut",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Trykker",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Tulpen One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ubuntu",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "300",
                            //         "300italic",
                            //         "regular",
                            //         "italic",
                            //         "500",
                            //         "500italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ubuntu Condensed",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ubuntu Mono",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Ultra",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Uncial Antiqua",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Underdog",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Unica One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "UnifrakturCook",
                                "category": "display",
                                "variants": [
                                    "700"
                                ],
                                "version": "v8",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "UnifrakturMaguntia",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Unkempt",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Unlock",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Unna",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "VT323",
                            //     "category": "monospace",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Vampiro One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Varela",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Varela Round",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Vast Shadow",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Vesper Libre",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "500",
                            //         "700",
                            //         "900"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-06-03"
                            // },
                            // {
                            //     "family": "Vibur",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Vidaloka",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Viga",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Voces",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Volkhov",
                            //     "category": "serif",
                            //     "variants": [
                            //         "regular",
                            //         "italic",
                            //         "700",
                            //         "700italic"
                            //     ],
                            //     "version": "v8",
                            //     "lastModified": "2015-04-06"
                            // },
                            {
                                "family": "Vollkorn",
                                "category": "serif",
                                "variants": [
                                    "regular",
                                    "italic",
                                    "700",
                                    "700italic"
                                ],
                                "version": "v6",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Voltaire",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Waiting for the Sunrise",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Wallpoet",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Walter Turncoat",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Warnes",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-03"
                            // },
                            // {
                            //     "family": "Wellfleet",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Wendy One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v4",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Wire One",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Work Sans",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "100",
                            //         "200",
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "600",
                            //         "700",
                            //         "800",
                            //         "900"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-07-22"
                            // },
                            // {
                            //     "family": "Yanone Kaffeesatz",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "200",
                            //         "300",
                            //         "regular",
                            //         "700"
                            //     ],
                            //     "version": "v7",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Yantramanav",
                            //     "category": "sans-serif",
                            //     "variants": [
                            //         "100",
                            //         "300",
                            //         "regular",
                            //         "500",
                            //         "700",
                            //         "900"
                            //     ],
                            //     "version": "v1",
                            //     "lastModified": "2015-06-03"
                            // },
                            {
                                "family": "Yellowtail",
                                "category": "handwriting",
                                "variants": [
                                    "regular"
                                ],
                                "version": "v6",
                                "lastModified": "2015-04-06"
                            },
                            // {
                            //     "family": "Yeseva One",
                            //     "category": "display",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v9",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Yesteryear",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v5",
                            //     "lastModified": "2015-04-06"
                            // },
                            // {
                            //     "family": "Zeyada",
                            //     "category": "handwriting",
                            //     "variants": [
                            //         "regular"
                            //     ],
                            //     "version": "v6",
                            //     "lastModified": "2015-04-06"
                            // }
                        ]
        return fonts;

        };

        var _GetCategories = function () {

            var deferred = $q.defer();

            HttpService.Post("/categories", {'key':key})
                .then(function (data) {
                  
                    deferred.resolve(data);
                    return deferred.promise;
                }, function (err) {
                deferred.reject(err);
               
        });
         return deferred.promise;
    };
    var _SearchArts = function (query, page) {

            var deferred = $q.defer();

            HttpService.Post("/art_search", {'key':key, 'page':page, 'query':query })
                .then(function (data) {
                  
                    deferred.resolve(data);
                    return deferred.promise;
                }, function (err) {
                deferred.reject(err);
               
        });
         return deferred.promise;
    };

     var _LaunchCompaign = function (obj) {

            var deferred = $q.defer();
            obj.key = key;
            HttpService.Post("/save", obj,{'key':key})
                .then(function (data) {
                  
                    deferred.resolve(data);
                    return deferred.promise;
                }, function (err) {
                deferred.reject(err);
               
        });
         return deferred.promise;
    };

    
    var _signUp = function (obj) {

            var deferred = $q.defer();
            obj.key = key;
            HttpService.Post("/signup", obj,{'key':key})
                .then(function (data) {
                  
                    deferred.resolve(data);
                    return deferred.promise;
                }, function (err) {
                deferred.reject(err);
               
        });
         return deferred.promise;
    }
    var _login = function (obj) {

            var deferred = $q.defer();
            obj.key = key;
            HttpService.Post("/login",obj)
                .then(function (data) {
                  
                    deferred.resolve(data);
                    return deferred.promise;
                }, function (err) {
                deferred.reject(err);
               
        });
         return deferred.promise;
    };
 
    var _validateUrl = function (url) {

            var deferred = $q.defer();

            HttpService.Post("/available", {'key':key, 'url':url})
                .then(function (data) {
                  
                    deferred.resolve(data);
                    return deferred.promise;
                }, function (err) {
                deferred.reject(err);
               
        });
         return deferred.promise;
    };
 
        var services = {

            GetGraphics: _GetGraphics,
            GetShirtStyle:_GetShirtStyle,
            GetFonts:_GetFonts,
            GetGoogleFonts:_GetGoogleFonts,
            GetColors : _GetColors,
            GetConfig: _GetConfig,
            GetSvg:_GetSvg,
            GetCategories: _GetCategories,
            SearchArts:_SearchArts,
            LaunchCompaign :_LaunchCompaign,
            SignUp: _signUp,
            Login: _login,
            ValidateURL: _validateUrl
            
   

        };
        return services;


    }





twClickOutside.$inject = ['$window', '$parse']
function twClickOutside($window, $parse) {
    return {
        link: function (scope, el, attr) {
            if (!attr.twClickOutside) {
                return;
            }

            var ignore;
            if (attr.ignoreIf) {
                ignore = $parse(attr.ignoreIf);
            }

            var nakedEl = el[0];
            var fn = $parse(attr.twClickOutside);

            var handler = function (e) {
                if (nakedEl === e.target || nakedEl.contains(e.target) || (ignore && ignore(scope))) {
                    return;
                }

                scope.$apply(fn);
            };

            $window.addEventListener('click', handler, true);

            scope.$on('$destroy', function (e) {
                $window.removeEventListener('click', handler);
            });
        }
    };
}
var app = angular.module('teedesign', [
     'ngAnimate',
    //'ui.bootstrap',
    // 'ngColorThief',
     'HttpServiceModule',
     'mgcrea.ngStrap',
     'DashboardModule',
    //  'angular-sanitize',
    // 'jkuri.gallery',
    // 'textAngular',
    // 'angularUtils.directives.dirPagination',
    // "angular-ladda",
    // 'ng-breadcrumbs',
     'ngFileUpload',
    // 'mgo-angular-wizard',
     'colorpicker.module',
     'rzModule',
    // 'jdFontselect',
    'webfont-loader',
    'AnimationModule',
    // 'ngSanitize',
    //'ngCsv',
    //'ngScrollable',
    //'angular-loading-bar',
     'ui.router',
     'ct.ui.router.extras',
     'imageSpinner',
     'oitozero.ngSweetAlert',
     'cfp.hotkeys',
     'socialLogin'


])
app.config(function ($urlRouterProvider, $stateProvider, $httpProvider, socialProvider) {


        $httpProvider.defaults.headers.common = {};
        $httpProvider.defaults.headers.post = {};
        $httpProvider.defaults.headers.put = {};
        $httpProvider.defaults.headers.patch = {};

       
    socialProvider.setGoogleKey("284402208273-l38bcdijg7brbi2dalf6dvvr742kmd1a.apps.googleusercontent.com"); //DUb2gnstn8m8YIrAT6Q_7vFV
 	//socialProvider.setLinkedInKey("YOUR LINKEDIN CLIENT ID");
  	socialProvider.setFbKey({appId: "1676078709375099", apiVersion: "v2.8"});


        $urlRouterProvider.otherwise('/home/create');
        $stateProvider

            .state('home', {
                url: '/home',
                templateUrl: 'NgApp/Home/VIews/home.html',
                controller: 'DashboardController',
                controllerAs: 'vm',


            })
            .state('home.create', {
                url: '/create',
                sticky: true,
                dsr: true,
                views:{
                    'create': {
                        templateUrl: 'NgApp/Home/VIews/create.html',
                    }
                }
                
            })

            .state('home.goal', {
                url: '/set_goal',
                sticky: true,
                dsr: true,
                views:{
                    'goal': {
                        templateUrl: 'NgApp/Home/VIews/set_goal.html',
                    }
                }
                
            })
            .state('home.description', {
                url: '/descriptionn',
                sticky: true,
                dsr: true,
                views:{
                    'description': {
                        templateUrl: 'NgApp/Home/VIews/description.html',
                    }
                }
                
            })

           
    })
    app.run(function ($rootScope, $state, $location) {
        $rootScope.$on("$stateChangeStart", function (event, toState, toParams, fromState, fromParams) {
             $rootScope.target_state = toState.name;
      
           


        })
    })
    app.directive('thumbnail', [

        function () {
            return {
                restrict: 'AC',
                link: function (scope, elem, attrs) {
                    elem.bind('click', function () {
                        var src = elem.find('img').attr('src');

                        // call your SmoothZoom here
                        angular.element(attrs.options).css({
                            'background-image': 'url(' + src + ')'
                        });
                    });
                }
            };
        }
    ]);

   app.directive( 'emHeightSource', [ '$window', function(  $window ) {
    return {
        link: function( scope, elem, attrs ){

           var win = angular.element($window);
           win.bind("resize",function(e){

              console.log("WIdttthhh",elem.css('width'));
              console.log("height",elem.css('height'));
              // Your relevant code here...

           })
        }
    }    
   } ] );
   app.directive("limitTo", [function() {
     return {
        restrict: "A",
        link: function(scope, elem, attrs) {
            var limit = parseInt(attrs.limitTo);
            angular.element(elem).on("keypress", function(e) {
                if (this.value.length == limit) e.preventDefault();
            });
        }
      }
     }]);
    app.directive('twClickOutside', twClickOutside);
    app.directive("rotatez", function () {

        return {
            restrict: "A",
            scope: {
                onDragEnd: "&",
                onDrag: "&"
            },

            link: function (scope, element) {


                Draggable.create(element, {

                    type: "rotation",

                    throwProps: false,

                    onDrag: function () {

                        scope.rotation = this.rotation;

                        scope.$apply(function () {
                            scope.onDrag({ rotation: scope.rotation })
                        });

                    },

                    onDragEnd: function () {

                        scope.rotation = this.rotation;

                        scope.$apply(function () {
                            scope.onDragEnd({ rotation: scope.rotation })
                        });
                    }

                });




            }

        }

    });
    app.directive('draggable', function ($document) {
        return function (scope, element, attr) {
            var startX = 0,
                startY = 0,
                x = 0,
                y = 0;
            element.css({
                position: 'relative',
                cursor: 'pointer',
                display: 'block',
                color: 'white',
                width: '65px'
            });
            element.on('mousedown', function (event) {
                // Prevent default dragging of selected content
                event.preventDefault();
                startX = event.screenX - x;
                startY = event.screenY - y;
                $document.on('mousemove', mousemove);
                $document.on('mouseup', mouseup);
            });

            function mousemove(event) {
                y = event.screenY - startY;
                x = event.screenX - startX;
                element.css({
                    top: y + 'px',
                    left: x + 'px'
                });
            }

            function mouseup() {
                $document.off('mousemove', mousemove);
                $document.off('mouseup', mouseup);
            }
        };
    })
    app.directive('optionsClass', function ($parse) {
        return {
            require: 'select',
            link: function (scope, elem, attrs, ngSelect) {
                // get the source for the items array that populates the select.
                var optionsSourceStr = attrs.ngOptions.split(' ').pop(),
                    // use $parse to get a function from the options-class attribute
                    // that you can use to evaluate later.
                    getOptionsClass = $parse(attrs.optionsClass);

                scope.$watch(optionsSourceStr, function (items) {
                    // when the options source changes loop through its items.
                    angular.forEach(items, function (item, index) {
                        // evaluate against the item to get a mapping object for
                        // for your classes.
                        var classes = getOptionsClass(item),
                            // also get the option you're going to need. This can be found
                            // by looking for the option with the appropriate index in the
                            // value attribute.
                            option = elem.find('option[value=' + index + ']');

                        // now loop through the key/value pairs in the mapping object
                        // and apply the classes that evaluated to be truthy.
                        angular.forEach(classes, function (add, className) {
                            if (add) {
                                angular.element(option).addClass(className);
                            }
                        });
                    });
                });
            }
        }
    })
    app.directive('zoom2', ['$compile',
        function ($compile) {
            return {
                restrict: 'AC',
                scope: {
                    tiny: "=",
                    small: "=",
                    big: "=",
                    title: "="
                },
                //Template doesn't seem work correctly, leaves a loading message.
                //template: '<a href="{{big}}" class="cloud-zoom" rel="adjustX: 10, adjustY:-4"><img src="{{small}}"/></a>',
                //replace: true,
                controller: ["$scope", "$attrs", "$element", "$compile",
                    function ($scope, $attrs, $element, $compile) {

                        $scope.init = function () {



                            //Create a watch to know when to open the PopOver Text
                            $scope.$watch('tiny + small + big + title', function (newValue, oldValue) {

                                var str = $scope.small + ' <a href="' + $scope.big + '" class="cloud-zoom" rel="adjustX: 10, adjustY:-4">' + '<img style="width:40%;" src="' + $scope.small + '"/></a>';
                                var e = $compile(str)($scope);
                                $element.html(e);

                                $(".cloud-zoom, .cloud-zoom-gallery").CloudZoom();

                            }, true);

                        }; // end init

                        //set the popover properties
                        $scope.init();

                    }
                ]

            };
        }
    ])
    app.directive('fileModel', ['$parse', function ($parse) {
        return {
            restrict: 'A',
            link: function (scope, element, attrs) {
                var model = $parse(attrs.fileModel);
                var modelSetter = model.assign;

                element.bind('change', function () {
                    scope.$apply(function () {
                        modelSetter(scope, element[0].files[0]);
                        console.log(element[0].files[0]);
                    })
                })
            }
        }
    }])
    app.directive('focusMe', ['$timeout', '$parse', function ($timeout, $parse) {
        return {
            //scope: true,   // optionally create a child scope
            link: function (scope, element, attrs) {
                var model = $parse(attrs.focusMe);
                scope.$watch(model, function (value) {
                    console.log('value=', value);
                    if (value === true) {
                        $timeout(function () {
                            element[0].focus();

                        });
                    }
                });
                // to address @blesh's comment, set attribute value to 'false'
                // on blur event:
                element.bind('blur', function () {
                    console.log('blur');
                    scope.$apply(model.assign(scope, false));
                });
            }
        };
    }])
    app.directive('showIt', function () {
        return {
            link: function (scope, element, attributes) {
                element.css({ 'visibility': 'visible' });
            }
        }
    })

    app.directive('ngWidth', function () {
        return function (scope, elem, attrs) {
            attrs.$observe('ngWidth', function (width) {
                elem.attr('width', width);
            });
        };
    })
    app.directive('ngHeight', function () {
        return function (scope, elem, attrs) {
            attrs.$observe('ngHeight', function (height) {
                elem.attr('height', height);
            })
        }
    })
    app.directive('fileDropzone', function () {
        return {
            restrict: 'A',
            scope: {
                file: '=',
                fileName: '='
            },
            link: function (scope, element, attrs) {
                var checkSize, isTypeValid, processDragOverOrEnter, validMimeTypes;
                processDragOverOrEnter = function (event) {
                    if (event != null) {
                        event.preventDefault();
                    }
                    event.dataTransfer.effectAllowed = 'copy';
                    return false;
                };
                validMimeTypes = attrs.fileDropzone;
                checkSize = function (size) {
                    var _ref;
                    if (((_ref = attrs.maxFileSize) === (void 0) || _ref === '') || (size / 1024) / 1024 < attrs.maxFileSize) {
                        return true;
                    } else {
                        alert("File must be smaller than " + attrs.maxFileSize + " MB");
                        return false;
                    }
                };
                isTypeValid = function (type) {
                    if ((validMimeTypes === (void 0) || validMimeTypes === '') || validMimeTypes.indexOf(type) > -1) {
                        return true;
                    } else {
                        alert("Invalid file type.  File must be one of following types " + validMimeTypes);
                        return false;
                    }
                };
                element.bind('dragover', processDragOverOrEnter);
                element.bind('dragenter', processDragOverOrEnter);
                return element.bind('drop', function (event) {
                    var file, name, reader, size, type;
                    if (event != null) {
                        event.preventDefault();
                    }
                    reader = new FileReader();
                    reader.onload = function (evt) {
                        if (checkSize(size) && isTypeValid(type)) {
                            return scope.$apply(function () {
                                scope.file = evt.target.result;
                                if (angular.isString(scope.fileName)) {
                                    return scope.fileName = name;
                                }
                            });
                        }
                    };
                    file = event.dataTransfer.files[0];
                    name = file.name;
                    type = file.type;
                    size = file.size;
                    reader.readAsDataURL(file);
                    return false;
                });
            }
        };
    })
    app.controller('NavController', NavController);

NavController.$inject = ['$scope', '$rootScope'];

 function NavController($scope, $rootScope) {


}


var utils = angular.module('teedesign');

//utils.constant("OidcTokenManager", OidcTokenManager);

//utils.constant('_', window._);

utils.factory('_', function () {
    return window._; // assumes underscore has already been loaded on the page
});